(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var Vu={exports:{}},Zi={},Gu={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function c0(){if(Ap)return le;Ap=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function v(x){return x===null||typeof x!="object"?null:(x=_&&x[_]||x["@@iterator"],typeof x=="function"?x:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,R={};function T(x,b,se){this.props=x,this.context=b,this.refs=R,this.updater=se||k}T.prototype.isReactComponent={},T.prototype.setState=function(x,b){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,b,"setState")},T.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function O(){}O.prototype=T.prototype;function A(x,b,se){this.props=x,this.context=b,this.refs=R,this.updater=se||k}var U=A.prototype=new O;U.constructor=A,S(U,T.prototype),U.isPureReactComponent=!0;var W=Array.isArray,X=Object.prototype.hasOwnProperty,re={current:null},oe={key:!0,ref:!0,__self:!0,__source:!0};function ce(x,b,se){var de,pe={},me=null,Se=null;if(b!=null)for(de in b.ref!==void 0&&(Se=b.ref),b.key!==void 0&&(me=""+b.key),b)X.call(b,de)&&!oe.hasOwnProperty(de)&&(pe[de]=b[de]);var _e=arguments.length-2;if(_e===1)pe.children=se;else if(1<_e){for(var Pe=Array(_e),Et=0;Et<_e;Et++)Pe[Et]=arguments[Et+2];pe.children=Pe}if(x&&x.defaultProps)for(de in _e=x.defaultProps,_e)pe[de]===void 0&&(pe[de]=_e[de]);return{$$typeof:n,type:x,key:me,ref:Se,props:pe,_owner:re.current}}function Ee(x,b){return{$$typeof:n,type:x.type,key:b,ref:x.ref,props:x.props,_owner:x._owner}}function q(x){return typeof x=="object"&&x!==null&&x.$$typeof===n}function ie(x){var b={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(se){return b[se]})}var Ce=/\/+/g;function Oe(x,b){return typeof x=="object"&&x!==null&&x.key!=null?ie(""+x.key):b.toString(36)}function it(x,b,se,de,pe){var me=typeof x;(me==="undefined"||me==="boolean")&&(x=null);var Se=!1;if(x===null)Se=!0;else switch(me){case"string":case"number":Se=!0;break;case"object":switch(x.$$typeof){case n:case e:Se=!0}}if(Se)return Se=x,pe=pe(Se),x=de===""?"."+Oe(Se,0):de,W(pe)?(se="",x!=null&&(se=x.replace(Ce,"$&/")+"/"),it(pe,b,se,"",function(Et){return Et})):pe!=null&&(q(pe)&&(pe=Ee(pe,se+(!pe.key||Se&&Se.key===pe.key?"":(""+pe.key).replace(Ce,"$&/")+"/")+x)),b.push(pe)),1;if(Se=0,de=de===""?".":de+":",W(x))for(var _e=0;_e<x.length;_e++){me=x[_e];var Pe=de+Oe(me,_e);Se+=it(me,b,se,Pe,pe)}else if(Pe=v(x),typeof Pe=="function")for(x=Pe.call(x),_e=0;!(me=x.next()).done;)me=me.value,Pe=de+Oe(me,_e++),Se+=it(me,b,se,Pe,pe);else if(me==="object")throw b=String(x),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return Se}function Nt(x,b,se){if(x==null)return x;var de=[],pe=0;return it(x,de,"","",function(me){return b.call(se,me,pe++)}),de}function ht(x){if(x._status===-1){var b=x._result;b=b(),b.then(function(se){(x._status===0||x._status===-1)&&(x._status=1,x._result=se)},function(se){(x._status===0||x._status===-1)&&(x._status=2,x._result=se)}),x._status===-1&&(x._status=0,x._result=b)}if(x._status===1)return x._result.default;throw x._result}var be={current:null},$={transition:null},ee={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:$,ReactCurrentOwner:re};function G(){throw Error("act(...) is not supported in production builds of React.")}return le.Children={map:Nt,forEach:function(x,b,se){Nt(x,function(){b.apply(this,arguments)},se)},count:function(x){var b=0;return Nt(x,function(){b++}),b},toArray:function(x){return Nt(x,function(b){return b})||[]},only:function(x){if(!q(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},le.Component=T,le.Fragment=i,le.Profiler=l,le.PureComponent=A,le.StrictMode=s,le.Suspense=p,le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,le.act=G,le.cloneElement=function(x,b,se){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var de=S({},x.props),pe=x.key,me=x.ref,Se=x._owner;if(b!=null){if(b.ref!==void 0&&(me=b.ref,Se=re.current),b.key!==void 0&&(pe=""+b.key),x.type&&x.type.defaultProps)var _e=x.type.defaultProps;for(Pe in b)X.call(b,Pe)&&!oe.hasOwnProperty(Pe)&&(de[Pe]=b[Pe]===void 0&&_e!==void 0?_e[Pe]:b[Pe])}var Pe=arguments.length-2;if(Pe===1)de.children=se;else if(1<Pe){_e=Array(Pe);for(var Et=0;Et<Pe;Et++)_e[Et]=arguments[Et+2];de.children=_e}return{$$typeof:n,type:x.type,key:pe,ref:me,props:de,_owner:Se}},le.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:u,_context:x},x.Consumer=x},le.createElement=ce,le.createFactory=function(x){var b=ce.bind(null,x);return b.type=x,b},le.createRef=function(){return{current:null}},le.forwardRef=function(x){return{$$typeof:h,render:x}},le.isValidElement=q,le.lazy=function(x){return{$$typeof:y,_payload:{_status:-1,_result:x},_init:ht}},le.memo=function(x,b){return{$$typeof:m,type:x,compare:b===void 0?null:b}},le.startTransition=function(x){var b=$.transition;$.transition={};try{x()}finally{$.transition=b}},le.unstable_act=G,le.useCallback=function(x,b){return be.current.useCallback(x,b)},le.useContext=function(x){return be.current.useContext(x)},le.useDebugValue=function(){},le.useDeferredValue=function(x){return be.current.useDeferredValue(x)},le.useEffect=function(x,b){return be.current.useEffect(x,b)},le.useId=function(){return be.current.useId()},le.useImperativeHandle=function(x,b,se){return be.current.useImperativeHandle(x,b,se)},le.useInsertionEffect=function(x,b){return be.current.useInsertionEffect(x,b)},le.useLayoutEffect=function(x,b){return be.current.useLayoutEffect(x,b)},le.useMemo=function(x,b){return be.current.useMemo(x,b)},le.useReducer=function(x,b,se){return be.current.useReducer(x,b,se)},le.useRef=function(x){return be.current.useRef(x)},le.useState=function(x){return be.current.useState(x)},le.useSyncExternalStore=function(x,b,se){return be.current.useSyncExternalStore(x,b,se)},le.useTransition=function(){return be.current.useTransition()},le.version="18.3.1",le}var Mp;function Pl(){return Mp||(Mp=1,Gu.exports=c0()),Gu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function d0(){if(Lp)return Zi;Lp=1;var n=Pl(),e=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(h,p,m){var y,_={},v=null,k=null;m!==void 0&&(v=""+m),p.key!==void 0&&(v=""+p.key),p.ref!==void 0&&(k=p.ref);for(y in p)s.call(p,y)&&!u.hasOwnProperty(y)&&(_[y]=p[y]);if(h&&h.defaultProps)for(y in p=h.defaultProps,p)_[y]===void 0&&(_[y]=p[y]);return{$$typeof:e,type:h,key:v,ref:k,props:_,_owner:l.current}}return Zi.Fragment=i,Zi.jsx=d,Zi.jsxs=d,Zi}var bp;function f0(){return bp||(bp=1,Vu.exports=d0()),Vu.exports}var M=f0(),P=Pl(),Jo={},Qu={exports:{}},vt={},Ku={exports:{}},Yu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function h0(){return Fp||(Fp=1,function(n){function e($,ee){var G=$.length;$.push(ee);e:for(;0<G;){var x=G-1>>>1,b=$[x];if(0<l(b,ee))$[x]=ee,$[G]=b,G=x;else break e}}function i($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ee=$[0],G=$.pop();if(G!==ee){$[0]=G;e:for(var x=0,b=$.length,se=b>>>1;x<se;){var de=2*(x+1)-1,pe=$[de],me=de+1,Se=$[me];if(0>l(pe,G))me<b&&0>l(Se,pe)?($[x]=Se,$[me]=G,x=me):($[x]=pe,$[de]=G,x=de);else if(me<b&&0>l(Se,G))$[x]=Se,$[me]=G,x=me;else break e}}return ee}function l($,ee){var G=$.sortIndex-ee.sortIndex;return G!==0?G:$.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var p=[],m=[],y=1,_=null,v=3,k=!1,S=!1,R=!1,T=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U($){for(var ee=i(m);ee!==null;){if(ee.callback===null)s(m);else if(ee.startTime<=$)s(m),ee.sortIndex=ee.expirationTime,e(p,ee);else break;ee=i(m)}}function W($){if(R=!1,U($),!S)if(i(p)!==null)S=!0,ht(X);else{var ee=i(m);ee!==null&&be(W,ee.startTime-$)}}function X($,ee){S=!1,R&&(R=!1,O(ce),ce=-1),k=!0;var G=v;try{for(U(ee),_=i(p);_!==null&&(!(_.expirationTime>ee)||$&&!ie());){var x=_.callback;if(typeof x=="function"){_.callback=null,v=_.priorityLevel;var b=x(_.expirationTime<=ee);ee=n.unstable_now(),typeof b=="function"?_.callback=b:_===i(p)&&s(p),U(ee)}else s(p);_=i(p)}if(_!==null)var se=!0;else{var de=i(m);de!==null&&be(W,de.startTime-ee),se=!1}return se}finally{_=null,v=G,k=!1}}var re=!1,oe=null,ce=-1,Ee=5,q=-1;function ie(){return!(n.unstable_now()-q<Ee)}function Ce(){if(oe!==null){var $=n.unstable_now();q=$;var ee=!0;try{ee=oe(!0,$)}finally{ee?Oe():(re=!1,oe=null)}}else re=!1}var Oe;if(typeof A=="function")Oe=function(){A(Ce)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,Nt=it.port2;it.port1.onmessage=Ce,Oe=function(){Nt.postMessage(null)}}else Oe=function(){T(Ce,0)};function ht($){oe=$,re||(re=!0,Oe())}function be($,ee){ce=T(function(){$(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){S||k||(S=!0,ht(X))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ee=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return i(p)},n.unstable_next=function($){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var G=v;v=ee;try{return $()}finally{v=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,ee){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=v;v=$;try{return ee()}finally{v=G}},n.unstable_scheduleCallback=function($,ee,G){var x=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?x+G:x):G=x,$){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=G+b,$={id:y++,callback:ee,priorityLevel:$,startTime:G,expirationTime:b,sortIndex:-1},G>x?($.sortIndex=G,e(m,$),i(p)===null&&$===i(m)&&(R?(O(ce),ce=-1):R=!0,be(W,G-x))):($.sortIndex=b,e(p,$),S||k||(S=!0,ht(X))),$},n.unstable_shouldYield=ie,n.unstable_wrapCallback=function($){var ee=v;return function(){var G=v;v=ee;try{return $.apply(this,arguments)}finally{v=G}}}}(Yu)),Yu}var jp;function p0(){return jp||(jp=1,Ku.exports=h0()),Ku.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function m0(){if(zp)return vt;zp=1;var n=Pl(),e=p0();function i(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function u(t,r){d(t,r),d(t+"Capture",r)}function d(t,r){for(l[t]=r,t=0;t<r.length;t++)s.add(r[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function v(t){return p.call(_,t)?!0:p.call(y,t)?!1:m.test(t)?_[t]=!0:(y[t]=!0,!1)}function k(t,r,o,a){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function S(t,r,o,a){if(r===null||typeof r>"u"||k(t,r,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function R(t,r,o,a,c,f,g){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=f,this.removeEmptyString=g}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){T[t]=new R(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];T[r]=new R(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){T[t]=new R(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){T[t]=new R(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){T[t]=new R(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){T[t]=new R(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){T[t]=new R(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){T[t]=new R(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){T[t]=new R(t,5,!1,t.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function A(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(O,A);T[r]=new R(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(O,A);T[r]=new R(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(O,A);T[r]=new R(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){T[t]=new R(t,1,!1,t.toLowerCase(),null,!1,!1)}),T.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){T[t]=new R(t,1,!1,t.toLowerCase(),null,!0,!0)});function U(t,r,o,a){var c=T.hasOwnProperty(r)?T[r]:null;(c!==null?c.type!==0:a||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(S(r,o,c,a)&&(o=null),a||c===null?v(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):c.mustUseProperty?t[c.propertyName]=o===null?c.type===3?!1:"":o:(r=c.attributeName,a=c.attributeNamespace,o===null?t.removeAttribute(r):(c=c.type,o=c===3||c===4&&o===!0?"":""+o,a?t.setAttributeNS(a,r,o):t.setAttribute(r,o))))}var W=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),re=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),Ee=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),ie=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),Oe=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),Nt=Symbol.for("react.memo"),ht=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),$=Symbol.iterator;function ee(t){return t===null||typeof t!="object"?null:(t=$&&t[$]||t["@@iterator"],typeof t=="function"?t:null)}var G=Object.assign,x;function b(t){if(x===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);x=r&&r[1]||""}return`
`+x+t}var se=!1;function de(t,r){if(!t||se)return"";se=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(D){var a=D}Reflect.construct(t,[],r)}else{try{r.call()}catch(D){a=D}t.call(r.prototype)}else{try{throw Error()}catch(D){a=D}t()}}catch(D){if(D&&a&&typeof D.stack=="string"){for(var c=D.stack.split(`
`),f=a.stack.split(`
`),g=c.length-1,w=f.length-1;1<=g&&0<=w&&c[g]!==f[w];)w--;for(;1<=g&&0<=w;g--,w--)if(c[g]!==f[w]){if(g!==1||w!==1)do if(g--,w--,0>w||c[g]!==f[w]){var E=`
`+c[g].replace(" at new "," at ");return t.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",t.displayName)),E}while(1<=g&&0<=w);break}}}finally{se=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?b(t):""}function pe(t){switch(t.tag){case 5:return b(t.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return t=de(t.type,!1),t;case 11:return t=de(t.type.render,!1),t;case 1:return t=de(t.type,!0),t;default:return""}}function me(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oe:return"Fragment";case re:return"Portal";case Ee:return"Profiler";case ce:return"StrictMode";case Oe:return"Suspense";case it:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ie:return(t.displayName||"Context")+".Consumer";case q:return(t._context.displayName||"Context")+".Provider";case Ce:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nt:return r=t.displayName||null,r!==null?r:me(t.type)||"Memo";case ht:r=t._payload,t=t._init;try{return me(t(r))}catch{}}return null}function Se(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(r);case 8:return r===ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function _e(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pe(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Et(t){var r=Pe(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),a=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Bs(t){t._valueTracker||(t._valueTracker=Et(t))}function jd(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),a="";return t&&(a=Pe(t)?t.checked?"true":"false":t.value),t=a,t!==o?(r.setValue(t),!0):!1}function Ws(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jl(t,r){var o=r.checked;return G({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function zd(t,r){var o=r.defaultValue==null?"":r.defaultValue,a=r.checked!=null?r.checked:r.defaultChecked;o=_e(r.value!=null?r.value:o),t._wrapperState={initialChecked:a,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ud(t,r){r=r.checked,r!=null&&U(t,"checked",r,!1)}function Zl(t,r){Ud(t,r);var o=_e(r.value),a=r.type;if(o!=null)a==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?ea(t,r.type,o):r.hasOwnProperty("defaultValue")&&ea(t,r.type,_e(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Bd(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var a=r.type;if(!(a!=="submit"&&a!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function ea(t,r,o){(r!=="number"||Ws(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var pi=Array.isArray;function Ir(t,r,o,a){if(t=t.options,r){r={};for(var c=0;c<o.length;c++)r["$"+o[c]]=!0;for(o=0;o<t.length;o++)c=r.hasOwnProperty("$"+t[o].value),t[o].selected!==c&&(t[o].selected=c),c&&a&&(t[o].defaultSelected=!0)}else{for(o=""+_e(o),r=null,c=0;c<t.length;c++){if(t[c].value===o){t[c].selected=!0,a&&(t[c].defaultSelected=!0);return}r!==null||t[c].disabled||(r=t[c])}r!==null&&(r.selected=!0)}}function ta(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(i(91));return G({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wd(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(i(92));if(pi(o)){if(1<o.length)throw Error(i(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:_e(o)}}function $d(t,r){var o=_e(r.value),a=_e(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),a!=null&&(t.defaultValue=""+a)}function Hd(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Vd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function na(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Vd(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $s,Gd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,a,c){MSApp.execUnsafeLocalFunction(function(){return t(r,o,a,c)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for($s=$s||document.createElement("div"),$s.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=$s.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function mi(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m_=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(t){m_.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),gi[r]=gi[t]})});function Qd(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||gi.hasOwnProperty(t)&&gi[t]?(""+r).trim():r+"px"}function Kd(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var a=o.indexOf("--")===0,c=Qd(o,r[o],a);o==="float"&&(o="cssFloat"),a?t.setProperty(o,c):t[o]=c}}var g_=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ra(t,r){if(r){if(g_[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(i(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(i(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(i(61))}if(r.style!=null&&typeof r.style!="object")throw Error(i(62))}}function ia(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sa=null;function oa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var la=null,Tr=null,Nr=null;function Yd(t){if(t=ji(t)){if(typeof la!="function")throw Error(i(280));var r=t.stateNode;r&&(r=ho(r),la(t.stateNode,t.type,r))}}function qd(t){Tr?Nr?Nr.push(t):Nr=[t]:Tr=t}function Xd(){if(Tr){var t=Tr,r=Nr;if(Nr=Tr=null,Yd(t),r)for(t=0;t<r.length;t++)Yd(r[t])}}function Jd(t,r){return t(r)}function Zd(){}var aa=!1;function ef(t,r,o){if(aa)return t(r,o);aa=!0;try{return Jd(t,r,o)}finally{aa=!1,(Tr!==null||Nr!==null)&&(Zd(),Xd())}}function yi(t,r){var o=t.stateNode;if(o===null)return null;var a=ho(o);if(a===null)return null;o=a[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var ua=!1;if(h)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){ua=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{ua=!1}function y_(t,r,o,a,c,f,g,w,E){var D=Array.prototype.slice.call(arguments,3);try{r.apply(o,D)}catch(F){this.onError(F)}}var vi=!1,Hs=null,Vs=!1,ca=null,__={onError:function(t){vi=!0,Hs=t}};function v_(t,r,o,a,c,f,g,w,E){vi=!1,Hs=null,y_.apply(__,arguments)}function w_(t,r,o,a,c,f,g,w,E){if(v_.apply(this,arguments),vi){if(vi){var D=Hs;vi=!1,Hs=null}else throw Error(i(198));Vs||(Vs=!0,ca=D)}}function Zn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function tf(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function nf(t){if(Zn(t)!==t)throw Error(i(188))}function E_(t){var r=t.alternate;if(!r){if(r=Zn(t),r===null)throw Error(i(188));return r!==t?null:t}for(var o=t,a=r;;){var c=o.return;if(c===null)break;var f=c.alternate;if(f===null){if(a=c.return,a!==null){o=a;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===o)return nf(c),t;if(f===a)return nf(c),r;f=f.sibling}throw Error(i(188))}if(o.return!==a.return)o=c,a=f;else{for(var g=!1,w=c.child;w;){if(w===o){g=!0,o=c,a=f;break}if(w===a){g=!0,a=c,o=f;break}w=w.sibling}if(!g){for(w=f.child;w;){if(w===o){g=!0,o=f,a=c;break}if(w===a){g=!0,a=f,o=c;break}w=w.sibling}if(!g)throw Error(i(189))}}if(o.alternate!==a)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?t:r}function rf(t){return t=E_(t),t!==null?sf(t):null}function sf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=sf(t);if(r!==null)return r;t=t.sibling}return null}var of=e.unstable_scheduleCallback,lf=e.unstable_cancelCallback,C_=e.unstable_shouldYield,S_=e.unstable_requestPaint,Ue=e.unstable_now,x_=e.unstable_getCurrentPriorityLevel,da=e.unstable_ImmediatePriority,af=e.unstable_UserBlockingPriority,Gs=e.unstable_NormalPriority,k_=e.unstable_LowPriority,uf=e.unstable_IdlePriority,Qs=null,qt=null;function I_(t){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Qs,t,void 0,(t.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:R_,T_=Math.log,N_=Math.LN2;function R_(t){return t>>>=0,t===0?32:31-(T_(t)/N_|0)|0}var Ks=64,Ys=4194304;function wi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qs(t,r){var o=t.pendingLanes;if(o===0)return 0;var a=0,c=t.suspendedLanes,f=t.pingedLanes,g=o&268435455;if(g!==0){var w=g&~c;w!==0?a=wi(w):(f&=g,f!==0&&(a=wi(f)))}else g=o&~c,g!==0?a=wi(g):f!==0&&(a=wi(f));if(a===0)return 0;if(r!==0&&r!==a&&!(r&c)&&(c=a&-a,f=r&-r,c>=f||c===16&&(f&4194240)!==0))return r;if(a&4&&(a|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=a;0<r;)o=31-zt(r),c=1<<o,a|=t[o],r&=~c;return a}function P_(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D_(t,r){for(var o=t.suspendedLanes,a=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes;0<f;){var g=31-zt(f),w=1<<g,E=c[g];E===-1?(!(w&o)||w&a)&&(c[g]=P_(w,r)):E<=r&&(t.expiredLanes|=w),f&=~w}}function fa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cf(){var t=Ks;return Ks<<=1,!(Ks&4194240)&&(Ks=64),t}function ha(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Ei(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-zt(r),t[r]=o}function O_(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<o;){var c=31-zt(o),f=1<<c;r[c]=0,a[c]=-1,t[c]=-1,o&=~f}}function pa(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var a=31-zt(o),c=1<<a;c&r|t[a]&r&&(t[a]|=r),o&=~c}}var ve=0;function df(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ff,ma,hf,pf,mf,ga=!1,Xs=[],xn=null,kn=null,In=null,Ci=new Map,Si=new Map,Tn=[],A_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gf(t,r){switch(t){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":Ci.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Si.delete(r.pointerId)}}function xi(t,r,o,a,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:o,eventSystemFlags:a,nativeEvent:f,targetContainers:[c]},r!==null&&(r=ji(r),r!==null&&ma(r)),t):(t.eventSystemFlags|=a,r=t.targetContainers,c!==null&&r.indexOf(c)===-1&&r.push(c),t)}function M_(t,r,o,a,c){switch(r){case"focusin":return xn=xi(xn,t,r,o,a,c),!0;case"dragenter":return kn=xi(kn,t,r,o,a,c),!0;case"mouseover":return In=xi(In,t,r,o,a,c),!0;case"pointerover":var f=c.pointerId;return Ci.set(f,xi(Ci.get(f)||null,t,r,o,a,c)),!0;case"gotpointercapture":return f=c.pointerId,Si.set(f,xi(Si.get(f)||null,t,r,o,a,c)),!0}return!1}function yf(t){var r=er(t.target);if(r!==null){var o=Zn(r);if(o!==null){if(r=o.tag,r===13){if(r=tf(o),r!==null){t.blockedOn=r,mf(t.priority,function(){hf(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Js(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=_a(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var a=new o.constructor(o.type,o);sa=a,o.target.dispatchEvent(a),sa=null}else return r=ji(o),r!==null&&ma(r),t.blockedOn=o,!1;r.shift()}return!0}function _f(t,r,o){Js(t)&&o.delete(r)}function L_(){ga=!1,xn!==null&&Js(xn)&&(xn=null),kn!==null&&Js(kn)&&(kn=null),In!==null&&Js(In)&&(In=null),Ci.forEach(_f),Si.forEach(_f)}function ki(t,r){t.blockedOn===r&&(t.blockedOn=null,ga||(ga=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,L_)))}function Ii(t){function r(c){return ki(c,t)}if(0<Xs.length){ki(Xs[0],t);for(var o=1;o<Xs.length;o++){var a=Xs[o];a.blockedOn===t&&(a.blockedOn=null)}}for(xn!==null&&ki(xn,t),kn!==null&&ki(kn,t),In!==null&&ki(In,t),Ci.forEach(r),Si.forEach(r),o=0;o<Tn.length;o++)a=Tn[o],a.blockedOn===t&&(a.blockedOn=null);for(;0<Tn.length&&(o=Tn[0],o.blockedOn===null);)yf(o),o.blockedOn===null&&Tn.shift()}var Rr=W.ReactCurrentBatchConfig,Zs=!0;function b_(t,r,o,a){var c=ve,f=Rr.transition;Rr.transition=null;try{ve=1,ya(t,r,o,a)}finally{ve=c,Rr.transition=f}}function F_(t,r,o,a){var c=ve,f=Rr.transition;Rr.transition=null;try{ve=4,ya(t,r,o,a)}finally{ve=c,Rr.transition=f}}function ya(t,r,o,a){if(Zs){var c=_a(t,r,o,a);if(c===null)La(t,r,a,eo,o),gf(t,a);else if(M_(c,t,r,o,a))a.stopPropagation();else if(gf(t,a),r&4&&-1<A_.indexOf(t)){for(;c!==null;){var f=ji(c);if(f!==null&&ff(f),f=_a(t,r,o,a),f===null&&La(t,r,a,eo,o),f===c)break;c=f}c!==null&&a.stopPropagation()}else La(t,r,a,null,o)}}var eo=null;function _a(t,r,o,a){if(eo=null,t=oa(a),t=er(t),t!==null)if(r=Zn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=tf(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return eo=t,null}function vf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x_()){case da:return 1;case af:return 4;case Gs:case k_:return 16;case uf:return 536870912;default:return 16}default:return 16}}var Nn=null,va=null,to=null;function wf(){if(to)return to;var t,r=va,o=r.length,a,c="value"in Nn?Nn.value:Nn.textContent,f=c.length;for(t=0;t<o&&r[t]===c[t];t++);var g=o-t;for(a=1;a<=g&&r[o-a]===c[f-a];a++);return to=c.slice(t,1<a?1-a:void 0)}function no(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ro(){return!0}function Ef(){return!1}function Ct(t){function r(o,a,c,f,g){this._reactName=o,this._targetInst=c,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(o=t[w],this[w]=o?o(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ro:Ef,this.isPropagationStopped=Ef,this}return G(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ro)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ro)},persist:function(){},isPersistent:ro}),r}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=Ct(Pr),Ti=G({},Pr,{view:0,detail:0}),j_=Ct(Ti),Ea,Ca,Ni,io=G({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(Ea=t.screenX-Ni.screenX,Ca=t.screenY-Ni.screenY):Ca=Ea=0,Ni=t),Ea)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),Cf=Ct(io),z_=G({},io,{dataTransfer:0}),U_=Ct(z_),B_=G({},Ti,{relatedTarget:0}),Sa=Ct(B_),W_=G({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),$_=Ct(W_),H_=G({},Pr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),V_=Ct(H_),G_=G({},Pr,{data:0}),Sf=Ct(G_),Q_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q_(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Y_[t])?!!r[t]:!1}function xa(){return q_}var X_=G({},Ti,{key:function(t){if(t.key){var r=Q_[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=no(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?K_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(t){return t.type==="keypress"?no(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?no(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),J_=Ct(X_),Z_=G({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xf=Ct(Z_),ev=G({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),tv=Ct(ev),nv=G({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rv=Ct(nv),iv=G({},io,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sv=Ct(iv),ov=[9,13,27,32],ka=h&&"CompositionEvent"in window,Ri=null;h&&"documentMode"in document&&(Ri=document.documentMode);var lv=h&&"TextEvent"in window&&!Ri,kf=h&&(!ka||Ri&&8<Ri&&11>=Ri),If=" ",Tf=!1;function Nf(t,r){switch(t){case"keyup":return ov.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dr=!1;function av(t,r){switch(t){case"compositionend":return Rf(r);case"keypress":return r.which!==32?null:(Tf=!0,If);case"textInput":return t=r.data,t===If&&Tf?null:t;default:return null}}function uv(t,r){if(Dr)return t==="compositionend"||!ka&&Nf(t,r)?(t=wf(),to=va=Nn=null,Dr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return kf&&r.locale!=="ko"?null:r.data;default:return null}}var cv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!cv[t.type]:r==="textarea"}function Df(t,r,o,a){qd(a),r=uo(r,"onChange"),0<r.length&&(o=new wa("onChange","change",null,o,a),t.push({event:o,listeners:r}))}var Pi=null,Di=null;function dv(t){Yf(t,0)}function so(t){var r=br(t);if(jd(r))return t}function fv(t,r){if(t==="change")return r}var Of=!1;if(h){var Ia;if(h){var Ta="oninput"in document;if(!Ta){var Af=document.createElement("div");Af.setAttribute("oninput","return;"),Ta=typeof Af.oninput=="function"}Ia=Ta}else Ia=!1;Of=Ia&&(!document.documentMode||9<document.documentMode)}function Mf(){Pi&&(Pi.detachEvent("onpropertychange",Lf),Di=Pi=null)}function Lf(t){if(t.propertyName==="value"&&so(Di)){var r=[];Df(r,Di,t,oa(t)),ef(dv,r)}}function hv(t,r,o){t==="focusin"?(Mf(),Pi=r,Di=o,Pi.attachEvent("onpropertychange",Lf)):t==="focusout"&&Mf()}function pv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return so(Di)}function mv(t,r){if(t==="click")return so(r)}function gv(t,r){if(t==="input"||t==="change")return so(r)}function yv(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Ut=typeof Object.is=="function"?Object.is:yv;function Oi(t,r){if(Ut(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),a=Object.keys(r);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var c=o[a];if(!p.call(r,c)||!Ut(t[c],r[c]))return!1}return!0}function bf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ff(t,r){var o=bf(t);t=0;for(var a;o;){if(o.nodeType===3){if(a=t+o.textContent.length,t<=r&&a>=r)return{node:o,offset:r-t};t=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=bf(o)}}function jf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?jf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function zf(){for(var t=window,r=Ws();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Ws(t.document)}return r}function Na(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function _v(t){var r=zf(),o=t.focusedElem,a=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&jf(o.ownerDocument.documentElement,o)){if(a!==null&&Na(o)){if(r=a.start,t=a.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var c=o.textContent.length,f=Math.min(a.start,c);a=a.end===void 0?f:Math.min(a.end,c),!t.extend&&f>a&&(c=a,a=f,f=c),c=Ff(o,f);var g=Ff(o,a);c&&g&&(t.rangeCount!==1||t.anchorNode!==c.node||t.anchorOffset!==c.offset||t.focusNode!==g.node||t.focusOffset!==g.offset)&&(r=r.createRange(),r.setStart(c.node,c.offset),t.removeAllRanges(),f>a?(t.addRange(r),t.extend(g.node,g.offset)):(r.setEnd(g.node,g.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vv=h&&"documentMode"in document&&11>=document.documentMode,Or=null,Ra=null,Ai=null,Pa=!1;function Uf(t,r,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Pa||Or==null||Or!==Ws(a)||(a=Or,"selectionStart"in a&&Na(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ai&&Oi(Ai,a)||(Ai=a,a=uo(Ra,"onSelect"),0<a.length&&(r=new wa("onSelect","select",null,r,o),t.push({event:r,listeners:a}),r.target=Or)))}function oo(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var Ar={animationend:oo("Animation","AnimationEnd"),animationiteration:oo("Animation","AnimationIteration"),animationstart:oo("Animation","AnimationStart"),transitionend:oo("Transition","TransitionEnd")},Da={},Bf={};h&&(Bf=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function lo(t){if(Da[t])return Da[t];if(!Ar[t])return t;var r=Ar[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Bf)return Da[t]=r[o];return t}var Wf=lo("animationend"),$f=lo("animationiteration"),Hf=lo("animationstart"),Vf=lo("transitionend"),Gf=new Map,Qf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(t,r){Gf.set(t,r),u(r,[t])}for(var Oa=0;Oa<Qf.length;Oa++){var Aa=Qf[Oa],wv=Aa.toLowerCase(),Ev=Aa[0].toUpperCase()+Aa.slice(1);Rn(wv,"on"+Ev)}Rn(Wf,"onAnimationEnd"),Rn($f,"onAnimationIteration"),Rn(Hf,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(Vf,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mi));function Kf(t,r,o){var a=t.type||"unknown-event";t.currentTarget=o,w_(a,r,void 0,t),t.currentTarget=null}function Yf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var a=t[o],c=a.event;a=a.listeners;e:{var f=void 0;if(r)for(var g=a.length-1;0<=g;g--){var w=a[g],E=w.instance,D=w.currentTarget;if(w=w.listener,E!==f&&c.isPropagationStopped())break e;Kf(c,w,D),f=E}else for(g=0;g<a.length;g++){if(w=a[g],E=w.instance,D=w.currentTarget,w=w.listener,E!==f&&c.isPropagationStopped())break e;Kf(c,w,D),f=E}}}if(Vs)throw t=ca,Vs=!1,ca=null,t}function Ne(t,r){var o=r[Ba];o===void 0&&(o=r[Ba]=new Set);var a=t+"__bubble";o.has(a)||(qf(r,t,2,!1),o.add(a))}function Ma(t,r,o){var a=0;r&&(a|=4),qf(o,t,a,r)}var ao="_reactListening"+Math.random().toString(36).slice(2);function Li(t){if(!t[ao]){t[ao]=!0,s.forEach(function(o){o!=="selectionchange"&&(Cv.has(o)||Ma(o,!1,t),Ma(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[ao]||(r[ao]=!0,Ma("selectionchange",!1,r))}}function qf(t,r,o,a){switch(vf(r)){case 1:var c=b_;break;case 4:c=F_;break;default:c=ya}o=c.bind(null,r,o,t),c=void 0,!ua||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(c=!0),a?c!==void 0?t.addEventListener(r,o,{capture:!0,passive:c}):t.addEventListener(r,o,!0):c!==void 0?t.addEventListener(r,o,{passive:c}):t.addEventListener(r,o,!1)}function La(t,r,o,a,c){var f=a;if(!(r&1)&&!(r&2)&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var w=a.stateNode.containerInfo;if(w===c||w.nodeType===8&&w.parentNode===c)break;if(g===4)for(g=a.return;g!==null;){var E=g.tag;if((E===3||E===4)&&(E=g.stateNode.containerInfo,E===c||E.nodeType===8&&E.parentNode===c))return;g=g.return}for(;w!==null;){if(g=er(w),g===null)return;if(E=g.tag,E===5||E===6){a=f=g;continue e}w=w.parentNode}}a=a.return}ef(function(){var D=f,F=oa(o),j=[];e:{var L=Gf.get(t);if(L!==void 0){var H=wa,Q=t;switch(t){case"keypress":if(no(o)===0)break e;case"keydown":case"keyup":H=J_;break;case"focusin":Q="focus",H=Sa;break;case"focusout":Q="blur",H=Sa;break;case"beforeblur":case"afterblur":H=Sa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=U_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=tv;break;case Wf:case $f:case Hf:H=$_;break;case Vf:H=rv;break;case"scroll":H=j_;break;case"wheel":H=sv;break;case"copy":case"cut":case"paste":H=V_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=xf}var K=(r&4)!==0,Be=!K&&t==="scroll",I=K?L!==null?L+"Capture":null:L;K=[];for(var C=D,N;C!==null;){N=C;var z=N.stateNode;if(N.tag===5&&z!==null&&(N=z,I!==null&&(z=yi(C,I),z!=null&&K.push(bi(C,z,N)))),Be)break;C=C.return}0<K.length&&(L=new H(L,Q,null,o,F),j.push({event:L,listeners:K}))}}if(!(r&7)){e:{if(L=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",L&&o!==sa&&(Q=o.relatedTarget||o.fromElement)&&(er(Q)||Q[on]))break e;if((H||L)&&(L=F.window===F?F:(L=F.ownerDocument)?L.defaultView||L.parentWindow:window,H?(Q=o.relatedTarget||o.toElement,H=D,Q=Q?er(Q):null,Q!==null&&(Be=Zn(Q),Q!==Be||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(H=null,Q=D),H!==Q)){if(K=Cf,z="onMouseLeave",I="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(K=xf,z="onPointerLeave",I="onPointerEnter",C="pointer"),Be=H==null?L:br(H),N=Q==null?L:br(Q),L=new K(z,C+"leave",H,o,F),L.target=Be,L.relatedTarget=N,z=null,er(F)===D&&(K=new K(I,C+"enter",Q,o,F),K.target=N,K.relatedTarget=Be,z=K),Be=z,H&&Q)t:{for(K=H,I=Q,C=0,N=K;N;N=Mr(N))C++;for(N=0,z=I;z;z=Mr(z))N++;for(;0<C-N;)K=Mr(K),C--;for(;0<N-C;)I=Mr(I),N--;for(;C--;){if(K===I||I!==null&&K===I.alternate)break t;K=Mr(K),I=Mr(I)}K=null}else K=null;H!==null&&Xf(j,L,H,K,!1),Q!==null&&Be!==null&&Xf(j,Be,Q,K,!0)}}e:{if(L=D?br(D):window,H=L.nodeName&&L.nodeName.toLowerCase(),H==="select"||H==="input"&&L.type==="file")var Y=fv;else if(Pf(L))if(Of)Y=gv;else{Y=pv;var J=hv}else(H=L.nodeName)&&H.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(Y=mv);if(Y&&(Y=Y(t,D))){Df(j,Y,o,F);break e}J&&J(t,L,D),t==="focusout"&&(J=L._wrapperState)&&J.controlled&&L.type==="number"&&ea(L,"number",L.value)}switch(J=D?br(D):window,t){case"focusin":(Pf(J)||J.contentEditable==="true")&&(Or=J,Ra=D,Ai=null);break;case"focusout":Ai=Ra=Or=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,Uf(j,o,F);break;case"selectionchange":if(vv)break;case"keydown":case"keyup":Uf(j,o,F)}var Z;if(ka)e:{switch(t){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else Dr?Nf(t,o)&&(ne="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ne="onCompositionStart");ne&&(kf&&o.locale!=="ko"&&(Dr||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Dr&&(Z=wf()):(Nn=F,va="value"in Nn?Nn.value:Nn.textContent,Dr=!0)),J=uo(D,ne),0<J.length&&(ne=new Sf(ne,t,null,o,F),j.push({event:ne,listeners:J}),Z?ne.data=Z:(Z=Rf(o),Z!==null&&(ne.data=Z)))),(Z=lv?av(t,o):uv(t,o))&&(D=uo(D,"onBeforeInput"),0<D.length&&(F=new Sf("onBeforeInput","beforeinput",null,o,F),j.push({event:F,listeners:D}),F.data=Z))}Yf(j,r)})}function bi(t,r,o){return{instance:t,listener:r,currentTarget:o}}function uo(t,r){for(var o=r+"Capture",a=[];t!==null;){var c=t,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=yi(t,o),f!=null&&a.unshift(bi(t,f,c)),f=yi(t,r),f!=null&&a.push(bi(t,f,c))),t=t.return}return a}function Mr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xf(t,r,o,a,c){for(var f=r._reactName,g=[];o!==null&&o!==a;){var w=o,E=w.alternate,D=w.stateNode;if(E!==null&&E===a)break;w.tag===5&&D!==null&&(w=D,c?(E=yi(o,f),E!=null&&g.unshift(bi(o,E,w))):c||(E=yi(o,f),E!=null&&g.push(bi(o,E,w)))),o=o.return}g.length!==0&&t.push({event:r,listeners:g})}var Sv=/\r\n?/g,xv=/\u0000|\uFFFD/g;function Jf(t){return(typeof t=="string"?t:""+t).replace(Sv,`
`).replace(xv,"")}function co(t,r,o){if(r=Jf(r),Jf(t)!==r&&o)throw Error(i(425))}function fo(){}var ba=null,Fa=null;function ja(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var za=typeof setTimeout=="function"?setTimeout:void 0,kv=typeof clearTimeout=="function"?clearTimeout:void 0,Zf=typeof Promise=="function"?Promise:void 0,Iv=typeof queueMicrotask=="function"?queueMicrotask:typeof Zf<"u"?function(t){return Zf.resolve(null).then(t).catch(Tv)}:za;function Tv(t){setTimeout(function(){throw t})}function Ua(t,r){var o=r,a=0;do{var c=o.nextSibling;if(t.removeChild(o),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(a===0){t.removeChild(c),Ii(r);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=c}while(o);Ii(r)}function Pn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function eh(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Lr=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Lr,Fi="__reactProps$"+Lr,on="__reactContainer$"+Lr,Ba="__reactEvents$"+Lr,Nv="__reactListeners$"+Lr,Rv="__reactHandles$"+Lr;function er(t){var r=t[Xt];if(r)return r;for(var o=t.parentNode;o;){if(r=o[on]||o[Xt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=eh(t);t!==null;){if(o=t[Xt])return o;t=eh(t)}return r}t=o,o=t.parentNode}return null}function ji(t){return t=t[Xt]||t[on],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function br(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(i(33))}function ho(t){return t[Fi]||null}var Wa=[],Fr=-1;function Dn(t){return{current:t}}function Re(t){0>Fr||(t.current=Wa[Fr],Wa[Fr]=null,Fr--)}function xe(t,r){Fr++,Wa[Fr]=t.current,t.current=r}var On={},st=Dn(On),pt=Dn(!1),tr=On;function jr(t,r){var o=t.type.contextTypes;if(!o)return On;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===r)return a.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in o)c[f]=r[f];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=c),c}function mt(t){return t=t.childContextTypes,t!=null}function po(){Re(pt),Re(st)}function th(t,r,o){if(st.current!==On)throw Error(i(168));xe(st,r),xe(pt,o)}function nh(t,r,o){var a=t.stateNode;if(r=r.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var c in a)if(!(c in r))throw Error(i(108,Se(t)||"Unknown",c));return G({},o,a)}function mo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||On,tr=st.current,xe(st,t),xe(pt,pt.current),!0}function rh(t,r,o){var a=t.stateNode;if(!a)throw Error(i(169));o?(t=nh(t,r,tr),a.__reactInternalMemoizedMergedChildContext=t,Re(pt),Re(st),xe(st,t)):Re(pt),xe(pt,o)}var ln=null,go=!1,$a=!1;function ih(t){ln===null?ln=[t]:ln.push(t)}function Pv(t){go=!0,ih(t)}function An(){if(!$a&&ln!==null){$a=!0;var t=0,r=ve;try{var o=ln;for(ve=1;t<o.length;t++){var a=o[t];do a=a(!0);while(a!==null)}ln=null,go=!1}catch(c){throw ln!==null&&(ln=ln.slice(t+1)),of(da,An),c}finally{ve=r,$a=!1}}return null}var zr=[],Ur=0,yo=null,_o=0,Rt=[],Pt=0,nr=null,an=1,un="";function rr(t,r){zr[Ur++]=_o,zr[Ur++]=yo,yo=t,_o=r}function sh(t,r,o){Rt[Pt++]=an,Rt[Pt++]=un,Rt[Pt++]=nr,nr=t;var a=an;t=un;var c=32-zt(a)-1;a&=~(1<<c),o+=1;var f=32-zt(r)+c;if(30<f){var g=c-c%5;f=(a&(1<<g)-1).toString(32),a>>=g,c-=g,an=1<<32-zt(r)+c|o<<c|a,un=f+t}else an=1<<f|o<<c|a,un=t}function Ha(t){t.return!==null&&(rr(t,1),sh(t,1,0))}function Va(t){for(;t===yo;)yo=zr[--Ur],zr[Ur]=null,_o=zr[--Ur],zr[Ur]=null;for(;t===nr;)nr=Rt[--Pt],Rt[Pt]=null,un=Rt[--Pt],Rt[Pt]=null,an=Rt[--Pt],Rt[Pt]=null}var St=null,xt=null,De=!1,Bt=null;function oh(t,r){var o=Mt(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function lh(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,St=t,xt=Pn(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,St=t,xt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=nr!==null?{id:an,overflow:un}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=Mt(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,St=t,xt=null,!0):!1;default:return!1}}function Ga(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qa(t){if(De){var r=xt;if(r){var o=r;if(!lh(t,r)){if(Ga(t))throw Error(i(418));r=Pn(o.nextSibling);var a=St;r&&lh(t,r)?oh(a,o):(t.flags=t.flags&-4097|2,De=!1,St=t)}}else{if(Ga(t))throw Error(i(418));t.flags=t.flags&-4097|2,De=!1,St=t}}}function ah(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;St=t}function vo(t){if(t!==St)return!1;if(!De)return ah(t),De=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!ja(t.type,t.memoizedProps)),r&&(r=xt)){if(Ga(t))throw uh(),Error(i(418));for(;r;)oh(t,r),r=Pn(r.nextSibling)}if(ah(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){xt=Pn(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}xt=null}}else xt=St?Pn(t.stateNode.nextSibling):null;return!0}function uh(){for(var t=xt;t;)t=Pn(t.nextSibling)}function Br(){xt=St=null,De=!1}function Ka(t){Bt===null?Bt=[t]:Bt.push(t)}var Dv=W.ReactCurrentBatchConfig;function zi(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(i(309));var a=o.stateNode}if(!a)throw Error(i(147,t));var c=a,f=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===f?r.ref:(r=function(g){var w=c.refs;g===null?delete w[f]:w[f]=g},r._stringRef=f,r)}if(typeof t!="string")throw Error(i(284));if(!o._owner)throw Error(i(290,t))}return t}function wo(t,r){throw t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function ch(t){var r=t._init;return r(t._payload)}function dh(t){function r(I,C){if(t){var N=I.deletions;N===null?(I.deletions=[C],I.flags|=16):N.push(C)}}function o(I,C){if(!t)return null;for(;C!==null;)r(I,C),C=C.sibling;return null}function a(I,C){for(I=new Map;C!==null;)C.key!==null?I.set(C.key,C):I.set(C.index,C),C=C.sibling;return I}function c(I,C){return I=Bn(I,C),I.index=0,I.sibling=null,I}function f(I,C,N){return I.index=N,t?(N=I.alternate,N!==null?(N=N.index,N<C?(I.flags|=2,C):N):(I.flags|=2,C)):(I.flags|=1048576,C)}function g(I){return t&&I.alternate===null&&(I.flags|=2),I}function w(I,C,N,z){return C===null||C.tag!==6?(C=zu(N,I.mode,z),C.return=I,C):(C=c(C,N),C.return=I,C)}function E(I,C,N,z){var Y=N.type;return Y===oe?F(I,C,N.props.children,z,N.key):C!==null&&(C.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===ht&&ch(Y)===C.type)?(z=c(C,N.props),z.ref=zi(I,C,N),z.return=I,z):(z=Ho(N.type,N.key,N.props,null,I.mode,z),z.ref=zi(I,C,N),z.return=I,z)}function D(I,C,N,z){return C===null||C.tag!==4||C.stateNode.containerInfo!==N.containerInfo||C.stateNode.implementation!==N.implementation?(C=Uu(N,I.mode,z),C.return=I,C):(C=c(C,N.children||[]),C.return=I,C)}function F(I,C,N,z,Y){return C===null||C.tag!==7?(C=dr(N,I.mode,z,Y),C.return=I,C):(C=c(C,N),C.return=I,C)}function j(I,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return C=zu(""+C,I.mode,N),C.return=I,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case X:return N=Ho(C.type,C.key,C.props,null,I.mode,N),N.ref=zi(I,null,C),N.return=I,N;case re:return C=Uu(C,I.mode,N),C.return=I,C;case ht:var z=C._init;return j(I,z(C._payload),N)}if(pi(C)||ee(C))return C=dr(C,I.mode,N,null),C.return=I,C;wo(I,C)}return null}function L(I,C,N,z){var Y=C!==null?C.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return Y!==null?null:w(I,C,""+N,z);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case X:return N.key===Y?E(I,C,N,z):null;case re:return N.key===Y?D(I,C,N,z):null;case ht:return Y=N._init,L(I,C,Y(N._payload),z)}if(pi(N)||ee(N))return Y!==null?null:F(I,C,N,z,null);wo(I,N)}return null}function H(I,C,N,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number")return I=I.get(N)||null,w(C,I,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case X:return I=I.get(z.key===null?N:z.key)||null,E(C,I,z,Y);case re:return I=I.get(z.key===null?N:z.key)||null,D(C,I,z,Y);case ht:var J=z._init;return H(I,C,N,J(z._payload),Y)}if(pi(z)||ee(z))return I=I.get(N)||null,F(C,I,z,Y,null);wo(C,z)}return null}function Q(I,C,N,z){for(var Y=null,J=null,Z=C,ne=C=0,Ye=null;Z!==null&&ne<N.length;ne++){Z.index>ne?(Ye=Z,Z=null):Ye=Z.sibling;var ge=L(I,Z,N[ne],z);if(ge===null){Z===null&&(Z=Ye);break}t&&Z&&ge.alternate===null&&r(I,Z),C=f(ge,C,ne),J===null?Y=ge:J.sibling=ge,J=ge,Z=Ye}if(ne===N.length)return o(I,Z),De&&rr(I,ne),Y;if(Z===null){for(;ne<N.length;ne++)Z=j(I,N[ne],z),Z!==null&&(C=f(Z,C,ne),J===null?Y=Z:J.sibling=Z,J=Z);return De&&rr(I,ne),Y}for(Z=a(I,Z);ne<N.length;ne++)Ye=H(Z,I,ne,N[ne],z),Ye!==null&&(t&&Ye.alternate!==null&&Z.delete(Ye.key===null?ne:Ye.key),C=f(Ye,C,ne),J===null?Y=Ye:J.sibling=Ye,J=Ye);return t&&Z.forEach(function(Wn){return r(I,Wn)}),De&&rr(I,ne),Y}function K(I,C,N,z){var Y=ee(N);if(typeof Y!="function")throw Error(i(150));if(N=Y.call(N),N==null)throw Error(i(151));for(var J=Y=null,Z=C,ne=C=0,Ye=null,ge=N.next();Z!==null&&!ge.done;ne++,ge=N.next()){Z.index>ne?(Ye=Z,Z=null):Ye=Z.sibling;var Wn=L(I,Z,ge.value,z);if(Wn===null){Z===null&&(Z=Ye);break}t&&Z&&Wn.alternate===null&&r(I,Z),C=f(Wn,C,ne),J===null?Y=Wn:J.sibling=Wn,J=Wn,Z=Ye}if(ge.done)return o(I,Z),De&&rr(I,ne),Y;if(Z===null){for(;!ge.done;ne++,ge=N.next())ge=j(I,ge.value,z),ge!==null&&(C=f(ge,C,ne),J===null?Y=ge:J.sibling=ge,J=ge);return De&&rr(I,ne),Y}for(Z=a(I,Z);!ge.done;ne++,ge=N.next())ge=H(Z,I,ne,ge.value,z),ge!==null&&(t&&ge.alternate!==null&&Z.delete(ge.key===null?ne:ge.key),C=f(ge,C,ne),J===null?Y=ge:J.sibling=ge,J=ge);return t&&Z.forEach(function(u0){return r(I,u0)}),De&&rr(I,ne),Y}function Be(I,C,N,z){if(typeof N=="object"&&N!==null&&N.type===oe&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case X:e:{for(var Y=N.key,J=C;J!==null;){if(J.key===Y){if(Y=N.type,Y===oe){if(J.tag===7){o(I,J.sibling),C=c(J,N.props.children),C.return=I,I=C;break e}}else if(J.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===ht&&ch(Y)===J.type){o(I,J.sibling),C=c(J,N.props),C.ref=zi(I,J,N),C.return=I,I=C;break e}o(I,J);break}else r(I,J);J=J.sibling}N.type===oe?(C=dr(N.props.children,I.mode,z,N.key),C.return=I,I=C):(z=Ho(N.type,N.key,N.props,null,I.mode,z),z.ref=zi(I,C,N),z.return=I,I=z)}return g(I);case re:e:{for(J=N.key;C!==null;){if(C.key===J)if(C.tag===4&&C.stateNode.containerInfo===N.containerInfo&&C.stateNode.implementation===N.implementation){o(I,C.sibling),C=c(C,N.children||[]),C.return=I,I=C;break e}else{o(I,C);break}else r(I,C);C=C.sibling}C=Uu(N,I.mode,z),C.return=I,I=C}return g(I);case ht:return J=N._init,Be(I,C,J(N._payload),z)}if(pi(N))return Q(I,C,N,z);if(ee(N))return K(I,C,N,z);wo(I,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,C!==null&&C.tag===6?(o(I,C.sibling),C=c(C,N),C.return=I,I=C):(o(I,C),C=zu(N,I.mode,z),C.return=I,I=C),g(I)):o(I,C)}return Be}var Wr=dh(!0),fh=dh(!1),Eo=Dn(null),Co=null,$r=null,Ya=null;function qa(){Ya=$r=Co=null}function Xa(t){var r=Eo.current;Re(Eo),t._currentValue=r}function Ja(t,r,o){for(;t!==null;){var a=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,a!==null&&(a.childLanes|=r)):a!==null&&(a.childLanes&r)!==r&&(a.childLanes|=r),t===o)break;t=t.return}}function Hr(t,r){Co=t,Ya=$r=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(gt=!0),t.firstContext=null)}function Dt(t){var r=t._currentValue;if(Ya!==t)if(t={context:t,memoizedValue:r,next:null},$r===null){if(Co===null)throw Error(i(308));$r=t,Co.dependencies={lanes:0,firstContext:t}}else $r=$r.next=t;return r}var ir=null;function Za(t){ir===null?ir=[t]:ir.push(t)}function hh(t,r,o,a){var c=r.interleaved;return c===null?(o.next=o,Za(r)):(o.next=c.next,c.next=o),r.interleaved=o,cn(t,a)}function cn(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Mn=!1;function eu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ph(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dn(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Ln(t,r,o){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,he&2){var c=a.pending;return c===null?r.next=r:(r.next=c.next,c.next=r),a.pending=r,cn(t,o)}return c=a.interleaved,c===null?(r.next=r,Za(a)):(r.next=c.next,c.next=r),a.interleaved=r,cn(t,o)}function So(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var a=r.lanes;a&=t.pendingLanes,o|=a,r.lanes=o,pa(t,o)}}function mh(t,r){var o=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var c=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var g={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?c=f=g:f=f.next=g,o=o.next}while(o!==null);f===null?c=f=r:f=f.next=r}else c=f=r;o={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:a.shared,effects:a.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function xo(t,r,o,a){var c=t.updateQueue;Mn=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var E=w,D=E.next;E.next=null,g===null?f=D:g.next=D,g=E;var F=t.alternate;F!==null&&(F=F.updateQueue,w=F.lastBaseUpdate,w!==g&&(w===null?F.firstBaseUpdate=D:w.next=D,F.lastBaseUpdate=E))}if(f!==null){var j=c.baseState;g=0,F=D=E=null,w=f;do{var L=w.lane,H=w.eventTime;if((a&L)===L){F!==null&&(F=F.next={eventTime:H,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var Q=t,K=w;switch(L=r,H=o,K.tag){case 1:if(Q=K.payload,typeof Q=="function"){j=Q.call(H,j,L);break e}j=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=K.payload,L=typeof Q=="function"?Q.call(H,j,L):Q,L==null)break e;j=G({},j,L);break e;case 2:Mn=!0}}w.callback!==null&&w.lane!==0&&(t.flags|=64,L=c.effects,L===null?c.effects=[w]:L.push(w))}else H={eventTime:H,lane:L,tag:w.tag,payload:w.payload,callback:w.callback,next:null},F===null?(D=F=H,E=j):F=F.next=H,g|=L;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;L=w,w=L.next,L.next=null,c.lastBaseUpdate=L,c.shared.pending=null}}while(!0);if(F===null&&(E=j),c.baseState=E,c.firstBaseUpdate=D,c.lastBaseUpdate=F,r=c.shared.interleaved,r!==null){c=r;do g|=c.lane,c=c.next;while(c!==r)}else f===null&&(c.shared.lanes=0);lr|=g,t.lanes=g,t.memoizedState=j}}function gh(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var a=t[r],c=a.callback;if(c!==null){if(a.callback=null,a=o,typeof c!="function")throw Error(i(191,c));c.call(a)}}}var Ui={},Jt=Dn(Ui),Bi=Dn(Ui),Wi=Dn(Ui);function sr(t){if(t===Ui)throw Error(i(174));return t}function tu(t,r){switch(xe(Wi,r),xe(Bi,t),xe(Jt,Ui),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:na(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=na(r,t)}Re(Jt),xe(Jt,r)}function Vr(){Re(Jt),Re(Bi),Re(Wi)}function yh(t){sr(Wi.current);var r=sr(Jt.current),o=na(r,t.type);r!==o&&(xe(Bi,t),xe(Jt,o))}function nu(t){Bi.current===t&&(Re(Jt),Re(Bi))}var Ae=Dn(0);function ko(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ru=[];function iu(){for(var t=0;t<ru.length;t++)ru[t]._workInProgressVersionPrimary=null;ru.length=0}var Io=W.ReactCurrentDispatcher,su=W.ReactCurrentBatchConfig,or=0,Me=null,$e=null,Qe=null,To=!1,$i=!1,Hi=0,Ov=0;function ot(){throw Error(i(321))}function ou(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Ut(t[o],r[o]))return!1;return!0}function lu(t,r,o,a,c,f){if(or=f,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Io.current=t===null||t.memoizedState===null?bv:Fv,t=o(a,c),$i){f=0;do{if($i=!1,Hi=0,25<=f)throw Error(i(301));f+=1,Qe=$e=null,r.updateQueue=null,Io.current=jv,t=o(a,c)}while($i)}if(Io.current=Po,r=$e!==null&&$e.next!==null,or=0,Qe=$e=Me=null,To=!1,r)throw Error(i(300));return t}function au(){var t=Hi!==0;return Hi=0,t}function Zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Me.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function Ot(){if($e===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var r=Qe===null?Me.memoizedState:Qe.next;if(r!==null)Qe=r,$e=t;else{if(t===null)throw Error(i(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Qe===null?Me.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function Vi(t,r){return typeof r=="function"?r(t):r}function uu(t){var r=Ot(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=t;var a=$e,c=a.baseQueue,f=o.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}a.baseQueue=c=f,o.pending=null}if(c!==null){f=c.next,a=a.baseState;var w=g=null,E=null,D=f;do{var F=D.lane;if((or&F)===F)E!==null&&(E=E.next={lane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),a=D.hasEagerState?D.eagerState:t(a,D.action);else{var j={lane:F,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null};E===null?(w=E=j,g=a):E=E.next=j,Me.lanes|=F,lr|=F}D=D.next}while(D!==null&&D!==f);E===null?g=a:E.next=w,Ut(a,r.memoizedState)||(gt=!0),r.memoizedState=a,r.baseState=g,r.baseQueue=E,o.lastRenderedState=a}if(t=o.interleaved,t!==null){c=t;do f=c.lane,Me.lanes|=f,lr|=f,c=c.next;while(c!==t)}else c===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function cu(t){var r=Ot(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=t;var a=o.dispatch,c=o.pending,f=r.memoizedState;if(c!==null){o.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);Ut(f,r.memoizedState)||(gt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),o.lastRenderedState=f}return[f,a]}function _h(){}function vh(t,r){var o=Me,a=Ot(),c=r(),f=!Ut(a.memoizedState,c);if(f&&(a.memoizedState=c,gt=!0),a=a.queue,du(Ch.bind(null,o,a,t),[t]),a.getSnapshot!==r||f||Qe!==null&&Qe.memoizedState.tag&1){if(o.flags|=2048,Gi(9,Eh.bind(null,o,a,c,r),void 0,null),Ke===null)throw Error(i(349));or&30||wh(o,r,c)}return c}function wh(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Me.updateQueue,r===null?(r={lastEffect:null,stores:null},Me.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Eh(t,r,o,a){r.value=o,r.getSnapshot=a,Sh(r)&&xh(t)}function Ch(t,r,o){return o(function(){Sh(r)&&xh(t)})}function Sh(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Ut(t,o)}catch{return!0}}function xh(t){var r=cn(t,1);r!==null&&Vt(r,t,1,-1)}function kh(t){var r=Zt();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:t},r.queue=t,t=t.dispatch=Lv.bind(null,Me,t),[r.memoizedState,t]}function Gi(t,r,o,a){return t={tag:t,create:r,destroy:o,deps:a,next:null},r=Me.updateQueue,r===null?(r={lastEffect:null,stores:null},Me.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(a=o.next,o.next=t,t.next=a,r.lastEffect=t)),t}function Ih(){return Ot().memoizedState}function No(t,r,o,a){var c=Zt();Me.flags|=t,c.memoizedState=Gi(1|r,o,void 0,a===void 0?null:a)}function Ro(t,r,o,a){var c=Ot();a=a===void 0?null:a;var f=void 0;if($e!==null){var g=$e.memoizedState;if(f=g.destroy,a!==null&&ou(a,g.deps)){c.memoizedState=Gi(r,o,f,a);return}}Me.flags|=t,c.memoizedState=Gi(1|r,o,f,a)}function Th(t,r){return No(8390656,8,t,r)}function du(t,r){return Ro(2048,8,t,r)}function Nh(t,r){return Ro(4,2,t,r)}function Rh(t,r){return Ro(4,4,t,r)}function Ph(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Dh(t,r,o){return o=o!=null?o.concat([t]):null,Ro(4,4,Ph.bind(null,r,t),o)}function fu(){}function Oh(t,r){var o=Ot();r=r===void 0?null:r;var a=o.memoizedState;return a!==null&&r!==null&&ou(r,a[1])?a[0]:(o.memoizedState=[t,r],t)}function Ah(t,r){var o=Ot();r=r===void 0?null:r;var a=o.memoizedState;return a!==null&&r!==null&&ou(r,a[1])?a[0]:(t=t(),o.memoizedState=[t,r],t)}function Mh(t,r,o){return or&21?(Ut(o,r)||(o=cf(),Me.lanes|=o,lr|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,gt=!0),t.memoizedState=o)}function Av(t,r){var o=ve;ve=o!==0&&4>o?o:4,t(!0);var a=su.transition;su.transition={};try{t(!1),r()}finally{ve=o,su.transition=a}}function Lh(){return Ot().memoizedState}function Mv(t,r,o){var a=zn(t);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},bh(t))Fh(r,o);else if(o=hh(t,r,o,a),o!==null){var c=ct();Vt(o,t,a,c),jh(o,r,a)}}function Lv(t,r,o){var a=zn(t),c={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(bh(t))Fh(r,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var g=r.lastRenderedState,w=f(g,o);if(c.hasEagerState=!0,c.eagerState=w,Ut(w,g)){var E=r.interleaved;E===null?(c.next=c,Za(r)):(c.next=E.next,E.next=c),r.interleaved=c;return}}catch{}finally{}o=hh(t,r,c,a),o!==null&&(c=ct(),Vt(o,t,a,c),jh(o,r,a))}}function bh(t){var r=t.alternate;return t===Me||r!==null&&r===Me}function Fh(t,r){$i=To=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function jh(t,r,o){if(o&4194240){var a=r.lanes;a&=t.pendingLanes,o|=a,r.lanes=o,pa(t,o)}}var Po={readContext:Dt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},bv={readContext:Dt,useCallback:function(t,r){return Zt().memoizedState=[t,r===void 0?null:r],t},useContext:Dt,useEffect:Th,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,No(4194308,4,Ph.bind(null,r,t),o)},useLayoutEffect:function(t,r){return No(4194308,4,t,r)},useInsertionEffect:function(t,r){return No(4,2,t,r)},useMemo:function(t,r){var o=Zt();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var a=Zt();return r=o!==void 0?o(r):r,a.memoizedState=a.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},a.queue=t,t=t.dispatch=Mv.bind(null,Me,t),[a.memoizedState,t]},useRef:function(t){var r=Zt();return t={current:t},r.memoizedState=t},useState:kh,useDebugValue:fu,useDeferredValue:function(t){return Zt().memoizedState=t},useTransition:function(){var t=kh(!1),r=t[0];return t=Av.bind(null,t[1]),Zt().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var a=Me,c=Zt();if(De){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),Ke===null)throw Error(i(349));or&30||wh(a,r,o)}c.memoizedState=o;var f={value:o,getSnapshot:r};return c.queue=f,Th(Ch.bind(null,a,f,t),[t]),a.flags|=2048,Gi(9,Eh.bind(null,a,f,o,r),void 0,null),o},useId:function(){var t=Zt(),r=Ke.identifierPrefix;if(De){var o=un,a=an;o=(a&~(1<<32-zt(a)-1)).toString(32)+o,r=":"+r+"R"+o,o=Hi++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Ov++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Fv={readContext:Dt,useCallback:Oh,useContext:Dt,useEffect:du,useImperativeHandle:Dh,useInsertionEffect:Nh,useLayoutEffect:Rh,useMemo:Ah,useReducer:uu,useRef:Ih,useState:function(){return uu(Vi)},useDebugValue:fu,useDeferredValue:function(t){var r=Ot();return Mh(r,$e.memoizedState,t)},useTransition:function(){var t=uu(Vi)[0],r=Ot().memoizedState;return[t,r]},useMutableSource:_h,useSyncExternalStore:vh,useId:Lh,unstable_isNewReconciler:!1},jv={readContext:Dt,useCallback:Oh,useContext:Dt,useEffect:du,useImperativeHandle:Dh,useInsertionEffect:Nh,useLayoutEffect:Rh,useMemo:Ah,useReducer:cu,useRef:Ih,useState:function(){return cu(Vi)},useDebugValue:fu,useDeferredValue:function(t){var r=Ot();return $e===null?r.memoizedState=t:Mh(r,$e.memoizedState,t)},useTransition:function(){var t=cu(Vi)[0],r=Ot().memoizedState;return[t,r]},useMutableSource:_h,useSyncExternalStore:vh,useId:Lh,unstable_isNewReconciler:!1};function Wt(t,r){if(t&&t.defaultProps){r=G({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function hu(t,r,o,a){r=t.memoizedState,o=o(a,r),o=o==null?r:G({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Do={isMounted:function(t){return(t=t._reactInternals)?Zn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var a=ct(),c=zn(t),f=dn(a,c);f.payload=r,o!=null&&(f.callback=o),r=Ln(t,f,c),r!==null&&(Vt(r,t,c,a),So(r,t,c))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var a=ct(),c=zn(t),f=dn(a,c);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Ln(t,f,c),r!==null&&(Vt(r,t,c,a),So(r,t,c))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=ct(),a=zn(t),c=dn(o,a);c.tag=2,r!=null&&(c.callback=r),r=Ln(t,c,a),r!==null&&(Vt(r,t,a,o),So(r,t,a))}};function zh(t,r,o,a,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,f,g):r.prototype&&r.prototype.isPureReactComponent?!Oi(o,a)||!Oi(c,f):!0}function Uh(t,r,o){var a=!1,c=On,f=r.contextType;return typeof f=="object"&&f!==null?f=Dt(f):(c=mt(r)?tr:st.current,a=r.contextTypes,f=(a=a!=null)?jr(t,c):On),r=new r(o,f),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Do,t.stateNode=r,r._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=c,t.__reactInternalMemoizedMaskedChildContext=f),r}function Bh(t,r,o,a){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,a),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,a),r.state!==t&&Do.enqueueReplaceState(r,r.state,null)}function pu(t,r,o,a){var c=t.stateNode;c.props=o,c.state=t.memoizedState,c.refs={},eu(t);var f=r.contextType;typeof f=="object"&&f!==null?c.context=Dt(f):(f=mt(r)?tr:st.current,c.context=jr(t,f)),c.state=t.memoizedState,f=r.getDerivedStateFromProps,typeof f=="function"&&(hu(t,r,f,o),c.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(r=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),r!==c.state&&Do.enqueueReplaceState(c,c.state,null),xo(t,o,c,a),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308)}function Gr(t,r){try{var o="",a=r;do o+=pe(a),a=a.return;while(a);var c=o}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:t,source:r,stack:c,digest:null}}function mu(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function gu(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var zv=typeof WeakMap=="function"?WeakMap:Map;function Wh(t,r,o){o=dn(-1,o),o.tag=3,o.payload={element:null};var a=r.value;return o.callback=function(){jo||(jo=!0,Du=a),gu(t,r)},o}function $h(t,r,o){o=dn(-1,o),o.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var c=r.value;o.payload=function(){return a(c)},o.callback=function(){gu(t,r)}}var f=t.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){gu(t,r),typeof a!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var g=r.stack;this.componentDidCatch(r.value,{componentStack:g!==null?g:""})}),o}function Hh(t,r,o){var a=t.pingCache;if(a===null){a=t.pingCache=new zv;var c=new Set;a.set(r,c)}else c=a.get(r),c===void 0&&(c=new Set,a.set(r,c));c.has(o)||(c.add(o),t=Zv.bind(null,t,r,o),r.then(t,t))}function Vh(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Gh(t,r,o,a,c){return t.mode&1?(t.flags|=65536,t.lanes=c,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=dn(-1,1),r.tag=2,Ln(o,r,1))),o.lanes|=1),t)}var Uv=W.ReactCurrentOwner,gt=!1;function ut(t,r,o,a){r.child=t===null?fh(r,null,o,a):Wr(r,t.child,o,a)}function Qh(t,r,o,a,c){o=o.render;var f=r.ref;return Hr(r,c),a=lu(t,r,o,a,f,c),o=au(),t!==null&&!gt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~c,fn(t,r,c)):(De&&o&&Ha(r),r.flags|=1,ut(t,r,a,c),r.child)}function Kh(t,r,o,a,c){if(t===null){var f=o.type;return typeof f=="function"&&!ju(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=f,Yh(t,r,f,a,c)):(t=Ho(o.type,null,a,r,r.mode,c),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!(t.lanes&c)){var g=f.memoizedProps;if(o=o.compare,o=o!==null?o:Oi,o(g,a)&&t.ref===r.ref)return fn(t,r,c)}return r.flags|=1,t=Bn(f,a),t.ref=r.ref,t.return=r,r.child=t}function Yh(t,r,o,a,c){if(t!==null){var f=t.memoizedProps;if(Oi(f,a)&&t.ref===r.ref)if(gt=!1,r.pendingProps=a=f,(t.lanes&c)!==0)t.flags&131072&&(gt=!0);else return r.lanes=t.lanes,fn(t,r,c)}return yu(t,r,o,a,c)}function qh(t,r,o){var a=r.pendingProps,c=a.children,f=t!==null?t.memoizedState:null;if(a.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Kr,kt),kt|=o;else{if(!(o&1073741824))return t=f!==null?f.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,xe(Kr,kt),kt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:o,xe(Kr,kt),kt|=a}else f!==null?(a=f.baseLanes|o,r.memoizedState=null):a=o,xe(Kr,kt),kt|=a;return ut(t,r,c,o),r.child}function Xh(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function yu(t,r,o,a,c){var f=mt(o)?tr:st.current;return f=jr(r,f),Hr(r,c),o=lu(t,r,o,a,f,c),a=au(),t!==null&&!gt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~c,fn(t,r,c)):(De&&a&&Ha(r),r.flags|=1,ut(t,r,o,c),r.child)}function Jh(t,r,o,a,c){if(mt(o)){var f=!0;mo(r)}else f=!1;if(Hr(r,c),r.stateNode===null)Ao(t,r),Uh(r,o,a),pu(r,o,a,c),a=!0;else if(t===null){var g=r.stateNode,w=r.memoizedProps;g.props=w;var E=g.context,D=o.contextType;typeof D=="object"&&D!==null?D=Dt(D):(D=mt(o)?tr:st.current,D=jr(r,D));var F=o.getDerivedStateFromProps,j=typeof F=="function"||typeof g.getSnapshotBeforeUpdate=="function";j||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==a||E!==D)&&Bh(r,g,a,D),Mn=!1;var L=r.memoizedState;g.state=L,xo(r,a,g,c),E=r.memoizedState,w!==a||L!==E||pt.current||Mn?(typeof F=="function"&&(hu(r,o,F,a),E=r.memoizedState),(w=Mn||zh(r,o,w,a,L,E,D))?(j||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=a,r.memoizedState=E),g.props=a,g.state=E,g.context=D,a=w):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),a=!1)}else{g=r.stateNode,ph(t,r),w=r.memoizedProps,D=r.type===r.elementType?w:Wt(r.type,w),g.props=D,j=r.pendingProps,L=g.context,E=o.contextType,typeof E=="object"&&E!==null?E=Dt(E):(E=mt(o)?tr:st.current,E=jr(r,E));var H=o.getDerivedStateFromProps;(F=typeof H=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==j||L!==E)&&Bh(r,g,a,E),Mn=!1,L=r.memoizedState,g.state=L,xo(r,a,g,c);var Q=r.memoizedState;w!==j||L!==Q||pt.current||Mn?(typeof H=="function"&&(hu(r,o,H,a),Q=r.memoizedState),(D=Mn||zh(r,o,D,a,L,Q,E)||!1)?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,Q,E),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,Q,E)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===t.memoizedProps&&L===t.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&L===t.memoizedState||(r.flags|=1024),r.memoizedProps=a,r.memoizedState=Q),g.props=a,g.state=Q,g.context=E,a=D):(typeof g.componentDidUpdate!="function"||w===t.memoizedProps&&L===t.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&L===t.memoizedState||(r.flags|=1024),a=!1)}return _u(t,r,o,a,f,c)}function _u(t,r,o,a,c,f){Xh(t,r);var g=(r.flags&128)!==0;if(!a&&!g)return c&&rh(r,o,!1),fn(t,r,f);a=r.stateNode,Uv.current=r;var w=g&&typeof o.getDerivedStateFromError!="function"?null:a.render();return r.flags|=1,t!==null&&g?(r.child=Wr(r,t.child,null,f),r.child=Wr(r,null,w,f)):ut(t,r,w,f),r.memoizedState=a.state,c&&rh(r,o,!0),r.child}function Zh(t){var r=t.stateNode;r.pendingContext?th(t,r.pendingContext,r.pendingContext!==r.context):r.context&&th(t,r.context,!1),tu(t,r.containerInfo)}function ep(t,r,o,a,c){return Br(),Ka(c),r.flags|=256,ut(t,r,o,a),r.child}var vu={dehydrated:null,treeContext:null,retryLane:0};function wu(t){return{baseLanes:t,cachePool:null,transitions:null}}function tp(t,r,o){var a=r.pendingProps,c=Ae.current,f=!1,g=(r.flags&128)!==0,w;if((w=g)||(w=t!==null&&t.memoizedState===null?!1:(c&2)!==0),w?(f=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(c|=1),xe(Ae,c&1),t===null)return Qa(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(g=a.children,t=a.fallback,f?(a=r.mode,f=r.child,g={mode:"hidden",children:g},!(a&1)&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Vo(g,a,0,null),t=dr(t,a,o,null),f.return=r,t.return=r,f.sibling=t,r.child=f,r.child.memoizedState=wu(o),r.memoizedState=vu,t):Eu(r,g));if(c=t.memoizedState,c!==null&&(w=c.dehydrated,w!==null))return Bv(t,r,g,a,w,c,o);if(f){f=a.fallback,g=r.mode,c=t.child,w=c.sibling;var E={mode:"hidden",children:a.children};return!(g&1)&&r.child!==c?(a=r.child,a.childLanes=0,a.pendingProps=E,r.deletions=null):(a=Bn(c,E),a.subtreeFlags=c.subtreeFlags&14680064),w!==null?f=Bn(w,f):(f=dr(f,g,o,null),f.flags|=2),f.return=r,a.return=r,a.sibling=f,r.child=a,a=f,f=r.child,g=t.child.memoizedState,g=g===null?wu(o):{baseLanes:g.baseLanes|o,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=t.childLanes&~o,r.memoizedState=vu,a}return f=t.child,t=f.sibling,a=Bn(f,{mode:"visible",children:a.children}),!(r.mode&1)&&(a.lanes=o),a.return=r,a.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=a,r.memoizedState=null,a}function Eu(t,r){return r=Vo({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Oo(t,r,o,a){return a!==null&&Ka(a),Wr(r,t.child,null,o),t=Eu(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Bv(t,r,o,a,c,f,g){if(o)return r.flags&256?(r.flags&=-257,a=mu(Error(i(422))),Oo(t,r,g,a)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(f=a.fallback,c=r.mode,a=Vo({mode:"visible",children:a.children},c,0,null),f=dr(f,c,g,null),f.flags|=2,a.return=r,f.return=r,a.sibling=f,r.child=a,r.mode&1&&Wr(r,t.child,null,g),r.child.memoizedState=wu(g),r.memoizedState=vu,f);if(!(r.mode&1))return Oo(t,r,g,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var w=a.dgst;return a=w,f=Error(i(419)),a=mu(f,a,void 0),Oo(t,r,g,a)}if(w=(g&t.childLanes)!==0,gt||w){if(a=Ke,a!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|g)?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,cn(t,c),Vt(a,t,c,-1))}return Fu(),a=mu(Error(i(421))),Oo(t,r,g,a)}return c.data==="$?"?(r.flags|=128,r.child=t.child,r=e0.bind(null,t),c._reactRetry=r,null):(t=f.treeContext,xt=Pn(c.nextSibling),St=r,De=!0,Bt=null,t!==null&&(Rt[Pt++]=an,Rt[Pt++]=un,Rt[Pt++]=nr,an=t.id,un=t.overflow,nr=r),r=Eu(r,a.children),r.flags|=4096,r)}function np(t,r,o){t.lanes|=r;var a=t.alternate;a!==null&&(a.lanes|=r),Ja(t.return,r,o)}function Cu(t,r,o,a,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:c}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=o,f.tailMode=c)}function rp(t,r,o){var a=r.pendingProps,c=a.revealOrder,f=a.tail;if(ut(t,r,a.children,o),a=Ae.current,a&2)a=a&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&np(t,o,r);else if(t.tag===19)np(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(xe(Ae,a),!(r.mode&1))r.memoizedState=null;else switch(c){case"forwards":for(o=r.child,c=null;o!==null;)t=o.alternate,t!==null&&ko(t)===null&&(c=o),o=o.sibling;o=c,o===null?(c=r.child,r.child=null):(c=o.sibling,o.sibling=null),Cu(r,!1,c,o,f);break;case"backwards":for(o=null,c=r.child,r.child=null;c!==null;){if(t=c.alternate,t!==null&&ko(t)===null){r.child=c;break}t=c.sibling,c.sibling=o,o=c,c=t}Cu(r,!0,o,null,f);break;case"together":Cu(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ao(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function fn(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),lr|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,o=Bn(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Bn(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Wv(t,r,o){switch(r.tag){case 3:Zh(r),Br();break;case 5:yh(r);break;case 1:mt(r.type)&&mo(r);break;case 4:tu(r,r.stateNode.containerInfo);break;case 10:var a=r.type._context,c=r.memoizedProps.value;xe(Eo,a._currentValue),a._currentValue=c;break;case 13:if(a=r.memoizedState,a!==null)return a.dehydrated!==null?(xe(Ae,Ae.current&1),r.flags|=128,null):o&r.child.childLanes?tp(t,r,o):(xe(Ae,Ae.current&1),t=fn(t,r,o),t!==null?t.sibling:null);xe(Ae,Ae.current&1);break;case 19:if(a=(o&r.childLanes)!==0,t.flags&128){if(a)return rp(t,r,o);r.flags|=128}if(c=r.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),xe(Ae,Ae.current),a)break;return null;case 22:case 23:return r.lanes=0,qh(t,r,o)}return fn(t,r,o)}var ip,Su,sp,op;ip=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Su=function(){},sp=function(t,r,o,a){var c=t.memoizedProps;if(c!==a){t=r.stateNode,sr(Jt.current);var f=null;switch(o){case"input":c=Jl(t,c),a=Jl(t,a),f=[];break;case"select":c=G({},c,{value:void 0}),a=G({},a,{value:void 0}),f=[];break;case"textarea":c=ta(t,c),a=ta(t,a),f=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=fo)}ra(o,a);var g;o=null;for(D in c)if(!a.hasOwnProperty(D)&&c.hasOwnProperty(D)&&c[D]!=null)if(D==="style"){var w=c[D];for(g in w)w.hasOwnProperty(g)&&(o||(o={}),o[g]="")}else D!=="dangerouslySetInnerHTML"&&D!=="children"&&D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(l.hasOwnProperty(D)?f||(f=[]):(f=f||[]).push(D,null));for(D in a){var E=a[D];if(w=c!=null?c[D]:void 0,a.hasOwnProperty(D)&&E!==w&&(E!=null||w!=null))if(D==="style")if(w){for(g in w)!w.hasOwnProperty(g)||E&&E.hasOwnProperty(g)||(o||(o={}),o[g]="");for(g in E)E.hasOwnProperty(g)&&w[g]!==E[g]&&(o||(o={}),o[g]=E[g])}else o||(f||(f=[]),f.push(D,o)),o=E;else D==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,w=w?w.__html:void 0,E!=null&&w!==E&&(f=f||[]).push(D,E)):D==="children"?typeof E!="string"&&typeof E!="number"||(f=f||[]).push(D,""+E):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&(l.hasOwnProperty(D)?(E!=null&&D==="onScroll"&&Ne("scroll",t),f||w===E||(f=[])):(f=f||[]).push(D,E))}o&&(f=f||[]).push("style",o);var D=f;(r.updateQueue=D)&&(r.flags|=4)}},op=function(t,r,o,a){o!==a&&(r.flags|=4)};function Qi(t,r){if(!De)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function lt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,a=0;if(r)for(var c=t.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=a,t.childLanes=o,r}function $v(t,r,o){var a=r.pendingProps;switch(Va(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return mt(r.type)&&po(),lt(r),null;case 3:return a=r.stateNode,Vr(),Re(pt),Re(st),iu(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(vo(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Bt!==null&&(Mu(Bt),Bt=null))),Su(t,r),lt(r),null;case 5:nu(r);var c=sr(Wi.current);if(o=r.type,t!==null&&r.stateNode!=null)sp(t,r,o,a,c),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!a){if(r.stateNode===null)throw Error(i(166));return lt(r),null}if(t=sr(Jt.current),vo(r)){a=r.stateNode,o=r.type;var f=r.memoizedProps;switch(a[Xt]=r,a[Fi]=f,t=(r.mode&1)!==0,o){case"dialog":Ne("cancel",a),Ne("close",a);break;case"iframe":case"object":case"embed":Ne("load",a);break;case"video":case"audio":for(c=0;c<Mi.length;c++)Ne(Mi[c],a);break;case"source":Ne("error",a);break;case"img":case"image":case"link":Ne("error",a),Ne("load",a);break;case"details":Ne("toggle",a);break;case"input":zd(a,f),Ne("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Ne("invalid",a);break;case"textarea":Wd(a,f),Ne("invalid",a)}ra(o,f),c=null;for(var g in f)if(f.hasOwnProperty(g)){var w=f[g];g==="children"?typeof w=="string"?a.textContent!==w&&(f.suppressHydrationWarning!==!0&&co(a.textContent,w,t),c=["children",w]):typeof w=="number"&&a.textContent!==""+w&&(f.suppressHydrationWarning!==!0&&co(a.textContent,w,t),c=["children",""+w]):l.hasOwnProperty(g)&&w!=null&&g==="onScroll"&&Ne("scroll",a)}switch(o){case"input":Bs(a),Bd(a,f,!0);break;case"textarea":Bs(a),Hd(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=fo)}a=c,r.updateQueue=a,a!==null&&(r.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Vd(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=g.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=g.createElement(o,{is:a.is}):(t=g.createElement(o),o==="select"&&(g=t,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):t=g.createElementNS(t,o),t[Xt]=r,t[Fi]=a,ip(t,r,!1,!1),r.stateNode=t;e:{switch(g=ia(o,a),o){case"dialog":Ne("cancel",t),Ne("close",t),c=a;break;case"iframe":case"object":case"embed":Ne("load",t),c=a;break;case"video":case"audio":for(c=0;c<Mi.length;c++)Ne(Mi[c],t);c=a;break;case"source":Ne("error",t),c=a;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),c=a;break;case"details":Ne("toggle",t),c=a;break;case"input":zd(t,a),c=Jl(t,a),Ne("invalid",t);break;case"option":c=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},c=G({},a,{value:void 0}),Ne("invalid",t);break;case"textarea":Wd(t,a),c=ta(t,a),Ne("invalid",t);break;default:c=a}ra(o,c),w=c;for(f in w)if(w.hasOwnProperty(f)){var E=w[f];f==="style"?Kd(t,E):f==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&Gd(t,E)):f==="children"?typeof E=="string"?(o!=="textarea"||E!=="")&&mi(t,E):typeof E=="number"&&mi(t,""+E):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?E!=null&&f==="onScroll"&&Ne("scroll",t):E!=null&&U(t,f,E,g))}switch(o){case"input":Bs(t),Bd(t,a,!1);break;case"textarea":Bs(t),Hd(t);break;case"option":a.value!=null&&t.setAttribute("value",""+_e(a.value));break;case"select":t.multiple=!!a.multiple,f=a.value,f!=null?Ir(t,!!a.multiple,f,!1):a.defaultValue!=null&&Ir(t,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(t.onclick=fo)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return lt(r),null;case 6:if(t&&r.stateNode!=null)op(t,r,t.memoizedProps,a);else{if(typeof a!="string"&&r.stateNode===null)throw Error(i(166));if(o=sr(Wi.current),sr(Jt.current),vo(r)){if(a=r.stateNode,o=r.memoizedProps,a[Xt]=r,(f=a.nodeValue!==o)&&(t=St,t!==null))switch(t.tag){case 3:co(a.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&co(a.nodeValue,o,(t.mode&1)!==0)}f&&(r.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[Xt]=r,r.stateNode=a}return lt(r),null;case 13:if(Re(Ae),a=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&xt!==null&&r.mode&1&&!(r.flags&128))uh(),Br(),r.flags|=98560,f=!1;else if(f=vo(r),a!==null&&a.dehydrated!==null){if(t===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Xt]=r}else Br(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;lt(r),f=!1}else Bt!==null&&(Mu(Bt),Bt=null),f=!0;if(!f)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(r.child.flags|=8192,r.mode&1&&(t===null||Ae.current&1?He===0&&(He=3):Fu())),r.updateQueue!==null&&(r.flags|=4),lt(r),null);case 4:return Vr(),Su(t,r),t===null&&Li(r.stateNode.containerInfo),lt(r),null;case 10:return Xa(r.type._context),lt(r),null;case 17:return mt(r.type)&&po(),lt(r),null;case 19:if(Re(Ae),f=r.memoizedState,f===null)return lt(r),null;if(a=(r.flags&128)!==0,g=f.rendering,g===null)if(a)Qi(f,!1);else{if(He!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(g=ko(t),g!==null){for(r.flags|=128,Qi(f,!1),a=g.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),r.subtreeFlags=0,a=o,o=r.child;o!==null;)f=o,t=a,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=t,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,t=g.dependencies,f.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return xe(Ae,Ae.current&1|2),r.child}t=t.sibling}f.tail!==null&&Ue()>Yr&&(r.flags|=128,a=!0,Qi(f,!1),r.lanes=4194304)}else{if(!a)if(t=ko(g),t!==null){if(r.flags|=128,a=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Qi(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!De)return lt(r),null}else 2*Ue()-f.renderingStartTime>Yr&&o!==1073741824&&(r.flags|=128,a=!0,Qi(f,!1),r.lanes=4194304);f.isBackwards?(g.sibling=r.child,r.child=g):(o=f.last,o!==null?o.sibling=g:r.child=g,f.last=g)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Ue(),r.sibling=null,o=Ae.current,xe(Ae,a?o&1|2:o&1),r):(lt(r),null);case 22:case 23:return bu(),a=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(r.flags|=8192),a&&r.mode&1?kt&1073741824&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),null;case 24:return null;case 25:return null}throw Error(i(156,r.tag))}function Hv(t,r){switch(Va(r),r.tag){case 1:return mt(r.type)&&po(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Vr(),Re(pt),Re(st),iu(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return nu(r),null;case 13:if(Re(Ae),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Br()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Re(Ae),null;case 4:return Vr(),null;case 10:return Xa(r.type._context),null;case 22:case 23:return bu(),null;case 24:return null;default:return null}}var Mo=!1,at=!1,Vv=typeof WeakSet=="function"?WeakSet:Set,V=null;function Qr(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){Fe(t,r,a)}else o.current=null}function xu(t,r,o){try{o()}catch(a){Fe(t,r,a)}}var lp=!1;function Gv(t,r){if(ba=Zs,t=zf(),Na(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var g=0,w=-1,E=-1,D=0,F=0,j=t,L=null;t:for(;;){for(var H;j!==o||c!==0&&j.nodeType!==3||(w=g+c),j!==f||a!==0&&j.nodeType!==3||(E=g+a),j.nodeType===3&&(g+=j.nodeValue.length),(H=j.firstChild)!==null;)L=j,j=H;for(;;){if(j===t)break t;if(L===o&&++D===c&&(w=g),L===f&&++F===a&&(E=g),(H=j.nextSibling)!==null)break;j=L,L=j.parentNode}j=H}o=w===-1||E===-1?null:{start:w,end:E}}else o=null}o=o||{start:0,end:0}}else o=null;for(Fa={focusedElem:t,selectionRange:o},Zs=!1,V=r;V!==null;)if(r=V,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,V=t;else for(;V!==null;){r=V;try{var Q=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var K=Q.memoizedProps,Be=Q.memoizedState,I=r.stateNode,C=I.getSnapshotBeforeUpdate(r.elementType===r.type?K:Wt(r.type,K),Be);I.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var N=r.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(z){Fe(r,r.return,z)}if(t=r.sibling,t!==null){t.return=r.return,V=t;break}V=r.return}return Q=lp,lp=!1,Q}function Ki(t,r,o){var a=r.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&t)===t){var f=c.destroy;c.destroy=void 0,f!==void 0&&xu(r,o,f)}c=c.next}while(c!==a)}}function Lo(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var a=o.create;o.destroy=a()}o=o.next}while(o!==r)}}function ku(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function ap(t){var r=t.alternate;r!==null&&(t.alternate=null,ap(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Xt],delete r[Fi],delete r[Ba],delete r[Nv],delete r[Rv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function up(t){return t.tag===5||t.tag===3||t.tag===4}function cp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||up(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Iu(t,r,o){var a=t.tag;if(a===5||a===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=fo));else if(a!==4&&(t=t.child,t!==null))for(Iu(t,r,o),t=t.sibling;t!==null;)Iu(t,r,o),t=t.sibling}function Tu(t,r,o){var a=t.tag;if(a===5||a===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(Tu(t,r,o),t=t.sibling;t!==null;)Tu(t,r,o),t=t.sibling}var Je=null,$t=!1;function bn(t,r,o){for(o=o.child;o!==null;)dp(t,r,o),o=o.sibling}function dp(t,r,o){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Qs,o)}catch{}switch(o.tag){case 5:at||Qr(o,r);case 6:var a=Je,c=$t;Je=null,bn(t,r,o),Je=a,$t=c,Je!==null&&($t?(t=Je,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Je.removeChild(o.stateNode));break;case 18:Je!==null&&($t?(t=Je,o=o.stateNode,t.nodeType===8?Ua(t.parentNode,o):t.nodeType===1&&Ua(t,o),Ii(t)):Ua(Je,o.stateNode));break;case 4:a=Je,c=$t,Je=o.stateNode.containerInfo,$t=!0,bn(t,r,o),Je=a,$t=c;break;case 0:case 11:case 14:case 15:if(!at&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var f=c,g=f.destroy;f=f.tag,g!==void 0&&(f&2||f&4)&&xu(o,r,g),c=c.next}while(c!==a)}bn(t,r,o);break;case 1:if(!at&&(Qr(o,r),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(w){Fe(o,r,w)}bn(t,r,o);break;case 21:bn(t,r,o);break;case 22:o.mode&1?(at=(a=at)||o.memoizedState!==null,bn(t,r,o),at=a):bn(t,r,o);break;default:bn(t,r,o)}}function fp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Vv),r.forEach(function(a){var c=t0.bind(null,t,a);o.has(a)||(o.add(a),a.then(c,c))})}}function Ht(t,r){var o=r.deletions;if(o!==null)for(var a=0;a<o.length;a++){var c=o[a];try{var f=t,g=r,w=g;e:for(;w!==null;){switch(w.tag){case 5:Je=w.stateNode,$t=!1;break e;case 3:Je=w.stateNode.containerInfo,$t=!0;break e;case 4:Je=w.stateNode.containerInfo,$t=!0;break e}w=w.return}if(Je===null)throw Error(i(160));dp(f,g,c),Je=null,$t=!1;var E=c.alternate;E!==null&&(E.return=null),c.return=null}catch(D){Fe(c,r,D)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)hp(r,t),r=r.sibling}function hp(t,r){var o=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ht(r,t),en(t),a&4){try{Ki(3,t,t.return),Lo(3,t)}catch(K){Fe(t,t.return,K)}try{Ki(5,t,t.return)}catch(K){Fe(t,t.return,K)}}break;case 1:Ht(r,t),en(t),a&512&&o!==null&&Qr(o,o.return);break;case 5:if(Ht(r,t),en(t),a&512&&o!==null&&Qr(o,o.return),t.flags&32){var c=t.stateNode;try{mi(c,"")}catch(K){Fe(t,t.return,K)}}if(a&4&&(c=t.stateNode,c!=null)){var f=t.memoizedProps,g=o!==null?o.memoizedProps:f,w=t.type,E=t.updateQueue;if(t.updateQueue=null,E!==null)try{w==="input"&&f.type==="radio"&&f.name!=null&&Ud(c,f),ia(w,g);var D=ia(w,f);for(g=0;g<E.length;g+=2){var F=E[g],j=E[g+1];F==="style"?Kd(c,j):F==="dangerouslySetInnerHTML"?Gd(c,j):F==="children"?mi(c,j):U(c,F,j,D)}switch(w){case"input":Zl(c,f);break;case"textarea":$d(c,f);break;case"select":var L=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var H=f.value;H!=null?Ir(c,!!f.multiple,H,!1):L!==!!f.multiple&&(f.defaultValue!=null?Ir(c,!!f.multiple,f.defaultValue,!0):Ir(c,!!f.multiple,f.multiple?[]:"",!1))}c[Fi]=f}catch(K){Fe(t,t.return,K)}}break;case 6:if(Ht(r,t),en(t),a&4){if(t.stateNode===null)throw Error(i(162));c=t.stateNode,f=t.memoizedProps;try{c.nodeValue=f}catch(K){Fe(t,t.return,K)}}break;case 3:if(Ht(r,t),en(t),a&4&&o!==null&&o.memoizedState.isDehydrated)try{Ii(r.containerInfo)}catch(K){Fe(t,t.return,K)}break;case 4:Ht(r,t),en(t);break;case 13:Ht(r,t),en(t),c=t.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(Pu=Ue())),a&4&&fp(t);break;case 22:if(F=o!==null&&o.memoizedState!==null,t.mode&1?(at=(D=at)||F,Ht(r,t),at=D):Ht(r,t),en(t),a&8192){if(D=t.memoizedState!==null,(t.stateNode.isHidden=D)&&!F&&t.mode&1)for(V=t,F=t.child;F!==null;){for(j=V=F;V!==null;){switch(L=V,H=L.child,L.tag){case 0:case 11:case 14:case 15:Ki(4,L,L.return);break;case 1:Qr(L,L.return);var Q=L.stateNode;if(typeof Q.componentWillUnmount=="function"){a=L,o=L.return;try{r=a,Q.props=r.memoizedProps,Q.state=r.memoizedState,Q.componentWillUnmount()}catch(K){Fe(a,o,K)}}break;case 5:Qr(L,L.return);break;case 22:if(L.memoizedState!==null){gp(j);continue}}H!==null?(H.return=L,V=H):gp(j)}F=F.sibling}e:for(F=null,j=t;;){if(j.tag===5){if(F===null){F=j;try{c=j.stateNode,D?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(w=j.stateNode,E=j.memoizedProps.style,g=E!=null&&E.hasOwnProperty("display")?E.display:null,w.style.display=Qd("display",g))}catch(K){Fe(t,t.return,K)}}}else if(j.tag===6){if(F===null)try{j.stateNode.nodeValue=D?"":j.memoizedProps}catch(K){Fe(t,t.return,K)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===t)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===t)break e;for(;j.sibling===null;){if(j.return===null||j.return===t)break e;F===j&&(F=null),j=j.return}F===j&&(F=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:Ht(r,t),en(t),a&4&&fp(t);break;case 21:break;default:Ht(r,t),en(t)}}function en(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(up(o)){var a=o;break e}o=o.return}throw Error(i(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(mi(c,""),a.flags&=-33);var f=cp(t);Tu(t,f,c);break;case 3:case 4:var g=a.stateNode.containerInfo,w=cp(t);Iu(t,w,g);break;default:throw Error(i(161))}}catch(E){Fe(t,t.return,E)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Qv(t,r,o){V=t,pp(t)}function pp(t,r,o){for(var a=(t.mode&1)!==0;V!==null;){var c=V,f=c.child;if(c.tag===22&&a){var g=c.memoizedState!==null||Mo;if(!g){var w=c.alternate,E=w!==null&&w.memoizedState!==null||at;w=Mo;var D=at;if(Mo=g,(at=E)&&!D)for(V=c;V!==null;)g=V,E=g.child,g.tag===22&&g.memoizedState!==null?yp(c):E!==null?(E.return=g,V=E):yp(c);for(;f!==null;)V=f,pp(f),f=f.sibling;V=c,Mo=w,at=D}mp(t)}else c.subtreeFlags&8772&&f!==null?(f.return=c,V=f):mp(t)}}function mp(t){for(;V!==null;){var r=V;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:at||Lo(5,r);break;case 1:var a=r.stateNode;if(r.flags&4&&!at)if(o===null)a.componentDidMount();else{var c=r.elementType===r.type?o.memoizedProps:Wt(r.type,o.memoizedProps);a.componentDidUpdate(c,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=r.updateQueue;f!==null&&gh(r,f,a);break;case 3:var g=r.updateQueue;if(g!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}gh(r,g,o)}break;case 5:var w=r.stateNode;if(o===null&&r.flags&4){o=w;var E=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&o.focus();break;case"img":E.src&&(o.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var D=r.alternate;if(D!==null){var F=D.memoizedState;if(F!==null){var j=F.dehydrated;j!==null&&Ii(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}at||r.flags&512&&ku(r)}catch(L){Fe(r,r.return,L)}}if(r===t){V=null;break}if(o=r.sibling,o!==null){o.return=r.return,V=o;break}V=r.return}}function gp(t){for(;V!==null;){var r=V;if(r===t){V=null;break}var o=r.sibling;if(o!==null){o.return=r.return,V=o;break}V=r.return}}function yp(t){for(;V!==null;){var r=V;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Lo(4,r)}catch(E){Fe(r,o,E)}break;case 1:var a=r.stateNode;if(typeof a.componentDidMount=="function"){var c=r.return;try{a.componentDidMount()}catch(E){Fe(r,c,E)}}var f=r.return;try{ku(r)}catch(E){Fe(r,f,E)}break;case 5:var g=r.return;try{ku(r)}catch(E){Fe(r,g,E)}}}catch(E){Fe(r,r.return,E)}if(r===t){V=null;break}var w=r.sibling;if(w!==null){w.return=r.return,V=w;break}V=r.return}}var Kv=Math.ceil,bo=W.ReactCurrentDispatcher,Nu=W.ReactCurrentOwner,At=W.ReactCurrentBatchConfig,he=0,Ke=null,We=null,Ze=0,kt=0,Kr=Dn(0),He=0,Yi=null,lr=0,Fo=0,Ru=0,qi=null,yt=null,Pu=0,Yr=1/0,hn=null,jo=!1,Du=null,Fn=null,zo=!1,jn=null,Uo=0,Xi=0,Ou=null,Bo=-1,Wo=0;function ct(){return he&6?Ue():Bo!==-1?Bo:Bo=Ue()}function zn(t){return t.mode&1?he&2&&Ze!==0?Ze&-Ze:Dv.transition!==null?(Wo===0&&(Wo=cf()),Wo):(t=ve,t!==0||(t=window.event,t=t===void 0?16:vf(t.type)),t):1}function Vt(t,r,o,a){if(50<Xi)throw Xi=0,Ou=null,Error(i(185));Ei(t,o,a),(!(he&2)||t!==Ke)&&(t===Ke&&(!(he&2)&&(Fo|=o),He===4&&Un(t,Ze)),_t(t,a),o===1&&he===0&&!(r.mode&1)&&(Yr=Ue()+500,go&&An()))}function _t(t,r){var o=t.callbackNode;D_(t,r);var a=qs(t,t===Ke?Ze:0);if(a===0)o!==null&&lf(o),t.callbackNode=null,t.callbackPriority=0;else if(r=a&-a,t.callbackPriority!==r){if(o!=null&&lf(o),r===1)t.tag===0?Pv(vp.bind(null,t)):ih(vp.bind(null,t)),Iv(function(){!(he&6)&&An()}),o=null;else{switch(df(a)){case 1:o=da;break;case 4:o=af;break;case 16:o=Gs;break;case 536870912:o=uf;break;default:o=Gs}o=Tp(o,_p.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function _p(t,r){if(Bo=-1,Wo=0,he&6)throw Error(i(327));var o=t.callbackNode;if(qr()&&t.callbackNode!==o)return null;var a=qs(t,t===Ke?Ze:0);if(a===0)return null;if(a&30||a&t.expiredLanes||r)r=$o(t,a);else{r=a;var c=he;he|=2;var f=Ep();(Ke!==t||Ze!==r)&&(hn=null,Yr=Ue()+500,ur(t,r));do try{Xv();break}catch(w){wp(t,w)}while(!0);qa(),bo.current=f,he=c,We!==null?r=0:(Ke=null,Ze=0,r=He)}if(r!==0){if(r===2&&(c=fa(t),c!==0&&(a=c,r=Au(t,c))),r===1)throw o=Yi,ur(t,0),Un(t,a),_t(t,Ue()),o;if(r===6)Un(t,a);else{if(c=t.current.alternate,!(a&30)&&!Yv(c)&&(r=$o(t,a),r===2&&(f=fa(t),f!==0&&(a=f,r=Au(t,f))),r===1))throw o=Yi,ur(t,0),Un(t,a),_t(t,Ue()),o;switch(t.finishedWork=c,t.finishedLanes=a,r){case 0:case 1:throw Error(i(345));case 2:cr(t,yt,hn);break;case 3:if(Un(t,a),(a&130023424)===a&&(r=Pu+500-Ue(),10<r)){if(qs(t,0)!==0)break;if(c=t.suspendedLanes,(c&a)!==a){ct(),t.pingedLanes|=t.suspendedLanes&c;break}t.timeoutHandle=za(cr.bind(null,t,yt,hn),r);break}cr(t,yt,hn);break;case 4:if(Un(t,a),(a&4194240)===a)break;for(r=t.eventTimes,c=-1;0<a;){var g=31-zt(a);f=1<<g,g=r[g],g>c&&(c=g),a&=~f}if(a=c,a=Ue()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Kv(a/1960))-a,10<a){t.timeoutHandle=za(cr.bind(null,t,yt,hn),a);break}cr(t,yt,hn);break;case 5:cr(t,yt,hn);break;default:throw Error(i(329))}}}return _t(t,Ue()),t.callbackNode===o?_p.bind(null,t):null}function Au(t,r){var o=qi;return t.current.memoizedState.isDehydrated&&(ur(t,r).flags|=256),t=$o(t,r),t!==2&&(r=yt,yt=o,r!==null&&Mu(r)),t}function Mu(t){yt===null?yt=t:yt.push.apply(yt,t)}function Yv(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var c=o[a],f=c.getSnapshot;c=c.value;try{if(!Ut(f(),c))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Un(t,r){for(r&=~Ru,r&=~Fo,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-zt(r),a=1<<o;t[o]=-1,r&=~a}}function vp(t){if(he&6)throw Error(i(327));qr();var r=qs(t,0);if(!(r&1))return _t(t,Ue()),null;var o=$o(t,r);if(t.tag!==0&&o===2){var a=fa(t);a!==0&&(r=a,o=Au(t,a))}if(o===1)throw o=Yi,ur(t,0),Un(t,r),_t(t,Ue()),o;if(o===6)throw Error(i(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,cr(t,yt,hn),_t(t,Ue()),null}function Lu(t,r){var o=he;he|=1;try{return t(r)}finally{he=o,he===0&&(Yr=Ue()+500,go&&An())}}function ar(t){jn!==null&&jn.tag===0&&!(he&6)&&qr();var r=he;he|=1;var o=At.transition,a=ve;try{if(At.transition=null,ve=1,t)return t()}finally{ve=a,At.transition=o,he=r,!(he&6)&&An()}}function bu(){kt=Kr.current,Re(Kr)}function ur(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,kv(o)),We!==null)for(o=We.return;o!==null;){var a=o;switch(Va(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&po();break;case 3:Vr(),Re(pt),Re(st),iu();break;case 5:nu(a);break;case 4:Vr();break;case 13:Re(Ae);break;case 19:Re(Ae);break;case 10:Xa(a.type._context);break;case 22:case 23:bu()}o=o.return}if(Ke=t,We=t=Bn(t.current,null),Ze=kt=r,He=0,Yi=null,Ru=Fo=lr=0,yt=qi=null,ir!==null){for(r=0;r<ir.length;r++)if(o=ir[r],a=o.interleaved,a!==null){o.interleaved=null;var c=a.next,f=o.pending;if(f!==null){var g=f.next;f.next=c,a.next=g}o.pending=a}ir=null}return t}function wp(t,r){do{var o=We;try{if(qa(),Io.current=Po,To){for(var a=Me.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}To=!1}if(or=0,Qe=$e=Me=null,$i=!1,Hi=0,Nu.current=null,o===null||o.return===null){He=1,Yi=r,We=null;break}e:{var f=t,g=o.return,w=o,E=r;if(r=Ze,w.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var D=E,F=w,j=F.tag;if(!(F.mode&1)&&(j===0||j===11||j===15)){var L=F.alternate;L?(F.updateQueue=L.updateQueue,F.memoizedState=L.memoizedState,F.lanes=L.lanes):(F.updateQueue=null,F.memoizedState=null)}var H=Vh(g);if(H!==null){H.flags&=-257,Gh(H,g,w,f,r),H.mode&1&&Hh(f,D,r),r=H,E=D;var Q=r.updateQueue;if(Q===null){var K=new Set;K.add(E),r.updateQueue=K}else Q.add(E);break e}else{if(!(r&1)){Hh(f,D,r),Fu();break e}E=Error(i(426))}}else if(De&&w.mode&1){var Be=Vh(g);if(Be!==null){!(Be.flags&65536)&&(Be.flags|=256),Gh(Be,g,w,f,r),Ka(Gr(E,w));break e}}f=E=Gr(E,w),He!==4&&(He=2),qi===null?qi=[f]:qi.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,r&=-r,f.lanes|=r;var I=Wh(f,E,r);mh(f,I);break e;case 1:w=E;var C=f.type,N=f.stateNode;if(!(f.flags&128)&&(typeof C.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Fn===null||!Fn.has(N)))){f.flags|=65536,r&=-r,f.lanes|=r;var z=$h(f,w,r);mh(f,z);break e}}f=f.return}while(f!==null)}Sp(o)}catch(Y){r=Y,We===o&&o!==null&&(We=o=o.return);continue}break}while(!0)}function Ep(){var t=bo.current;return bo.current=Po,t===null?Po:t}function Fu(){(He===0||He===3||He===2)&&(He=4),Ke===null||!(lr&268435455)&&!(Fo&268435455)||Un(Ke,Ze)}function $o(t,r){var o=he;he|=2;var a=Ep();(Ke!==t||Ze!==r)&&(hn=null,ur(t,r));do try{qv();break}catch(c){wp(t,c)}while(!0);if(qa(),he=o,bo.current=a,We!==null)throw Error(i(261));return Ke=null,Ze=0,He}function qv(){for(;We!==null;)Cp(We)}function Xv(){for(;We!==null&&!C_();)Cp(We)}function Cp(t){var r=Ip(t.alternate,t,kt);t.memoizedProps=t.pendingProps,r===null?Sp(t):We=r,Nu.current=null}function Sp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=Hv(o,r),o!==null){o.flags&=32767,We=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{He=6,We=null;return}}else if(o=$v(o,r,kt),o!==null){We=o;return}if(r=r.sibling,r!==null){We=r;return}We=r=t}while(r!==null);He===0&&(He=5)}function cr(t,r,o){var a=ve,c=At.transition;try{At.transition=null,ve=1,Jv(t,r,o,a)}finally{At.transition=c,ve=a}return null}function Jv(t,r,o,a){do qr();while(jn!==null);if(he&6)throw Error(i(327));o=t.finishedWork;var c=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(i(177));t.callbackNode=null,t.callbackPriority=0;var f=o.lanes|o.childLanes;if(O_(t,f),t===Ke&&(We=Ke=null,Ze=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||zo||(zo=!0,Tp(Gs,function(){return qr(),null})),f=(o.flags&15990)!==0,o.subtreeFlags&15990||f){f=At.transition,At.transition=null;var g=ve;ve=1;var w=he;he|=4,Nu.current=null,Gv(t,o),hp(o,t),_v(Fa),Zs=!!ba,Fa=ba=null,t.current=o,Qv(o),S_(),he=w,ve=g,At.transition=f}else t.current=o;if(zo&&(zo=!1,jn=t,Uo=c),f=t.pendingLanes,f===0&&(Fn=null),I_(o.stateNode),_t(t,Ue()),r!==null)for(a=t.onRecoverableError,o=0;o<r.length;o++)c=r[o],a(c.value,{componentStack:c.stack,digest:c.digest});if(jo)throw jo=!1,t=Du,Du=null,t;return Uo&1&&t.tag!==0&&qr(),f=t.pendingLanes,f&1?t===Ou?Xi++:(Xi=0,Ou=t):Xi=0,An(),null}function qr(){if(jn!==null){var t=df(Uo),r=At.transition,o=ve;try{if(At.transition=null,ve=16>t?16:t,jn===null)var a=!1;else{if(t=jn,jn=null,Uo=0,he&6)throw Error(i(331));var c=he;for(he|=4,V=t.current;V!==null;){var f=V,g=f.child;if(V.flags&16){var w=f.deletions;if(w!==null){for(var E=0;E<w.length;E++){var D=w[E];for(V=D;V!==null;){var F=V;switch(F.tag){case 0:case 11:case 15:Ki(8,F,f)}var j=F.child;if(j!==null)j.return=F,V=j;else for(;V!==null;){F=V;var L=F.sibling,H=F.return;if(ap(F),F===D){V=null;break}if(L!==null){L.return=H,V=L;break}V=H}}}var Q=f.alternate;if(Q!==null){var K=Q.child;if(K!==null){Q.child=null;do{var Be=K.sibling;K.sibling=null,K=Be}while(K!==null)}}V=f}}if(f.subtreeFlags&2064&&g!==null)g.return=f,V=g;else e:for(;V!==null;){if(f=V,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Ki(9,f,f.return)}var I=f.sibling;if(I!==null){I.return=f.return,V=I;break e}V=f.return}}var C=t.current;for(V=C;V!==null;){g=V;var N=g.child;if(g.subtreeFlags&2064&&N!==null)N.return=g,V=N;else e:for(g=C;V!==null;){if(w=V,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:Lo(9,w)}}catch(Y){Fe(w,w.return,Y)}if(w===g){V=null;break e}var z=w.sibling;if(z!==null){z.return=w.return,V=z;break e}V=w.return}}if(he=c,An(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Qs,t)}catch{}a=!0}return a}finally{ve=o,At.transition=r}}return!1}function xp(t,r,o){r=Gr(o,r),r=Wh(t,r,1),t=Ln(t,r,1),r=ct(),t!==null&&(Ei(t,1,r),_t(t,r))}function Fe(t,r,o){if(t.tag===3)xp(t,t,o);else for(;r!==null;){if(r.tag===3){xp(r,t,o);break}else if(r.tag===1){var a=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Fn===null||!Fn.has(a))){t=Gr(o,t),t=$h(r,t,1),r=Ln(r,t,1),t=ct(),r!==null&&(Ei(r,1,t),_t(r,t));break}}r=r.return}}function Zv(t,r,o){var a=t.pingCache;a!==null&&a.delete(r),r=ct(),t.pingedLanes|=t.suspendedLanes&o,Ke===t&&(Ze&o)===o&&(He===4||He===3&&(Ze&130023424)===Ze&&500>Ue()-Pu?ur(t,0):Ru|=o),_t(t,r)}function kp(t,r){r===0&&(t.mode&1?(r=Ys,Ys<<=1,!(Ys&130023424)&&(Ys=4194304)):r=1);var o=ct();t=cn(t,r),t!==null&&(Ei(t,r,o),_t(t,o))}function e0(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),kp(t,o)}function t0(t,r){var o=0;switch(t.tag){case 13:var a=t.stateNode,c=t.memoizedState;c!==null&&(o=c.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(i(314))}a!==null&&a.delete(r),kp(t,o)}var Ip;Ip=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||pt.current)gt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return gt=!1,Wv(t,r,o);gt=!!(t.flags&131072)}else gt=!1,De&&r.flags&1048576&&sh(r,_o,r.index);switch(r.lanes=0,r.tag){case 2:var a=r.type;Ao(t,r),t=r.pendingProps;var c=jr(r,st.current);Hr(r,o),c=lu(null,r,a,t,c,o);var f=au();return r.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,mt(a)?(f=!0,mo(r)):f=!1,r.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,eu(r),c.updater=Do,r.stateNode=c,c._reactInternals=r,pu(r,a,t,o),r=_u(null,r,a,!0,f,o)):(r.tag=0,De&&f&&Ha(r),ut(null,r,c,o),r=r.child),r;case 16:a=r.elementType;e:{switch(Ao(t,r),t=r.pendingProps,c=a._init,a=c(a._payload),r.type=a,c=r.tag=r0(a),t=Wt(a,t),c){case 0:r=yu(null,r,a,t,o);break e;case 1:r=Jh(null,r,a,t,o);break e;case 11:r=Qh(null,r,a,t,o);break e;case 14:r=Kh(null,r,a,Wt(a.type,t),o);break e}throw Error(i(306,a,""))}return r;case 0:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Wt(a,c),yu(t,r,a,c,o);case 1:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Wt(a,c),Jh(t,r,a,c,o);case 3:e:{if(Zh(r),t===null)throw Error(i(387));a=r.pendingProps,f=r.memoizedState,c=f.element,ph(t,r),xo(r,a,null,o);var g=r.memoizedState;if(a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){c=Gr(Error(i(423)),r),r=ep(t,r,a,o,c);break e}else if(a!==c){c=Gr(Error(i(424)),r),r=ep(t,r,a,o,c);break e}else for(xt=Pn(r.stateNode.containerInfo.firstChild),St=r,De=!0,Bt=null,o=fh(r,null,a,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Br(),a===c){r=fn(t,r,o);break e}ut(t,r,a,o)}r=r.child}return r;case 5:return yh(r),t===null&&Qa(r),a=r.type,c=r.pendingProps,f=t!==null?t.memoizedProps:null,g=c.children,ja(a,c)?g=null:f!==null&&ja(a,f)&&(r.flags|=32),Xh(t,r),ut(t,r,g,o),r.child;case 6:return t===null&&Qa(r),null;case 13:return tp(t,r,o);case 4:return tu(r,r.stateNode.containerInfo),a=r.pendingProps,t===null?r.child=Wr(r,null,a,o):ut(t,r,a,o),r.child;case 11:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Wt(a,c),Qh(t,r,a,c,o);case 7:return ut(t,r,r.pendingProps,o),r.child;case 8:return ut(t,r,r.pendingProps.children,o),r.child;case 12:return ut(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(a=r.type._context,c=r.pendingProps,f=r.memoizedProps,g=c.value,xe(Eo,a._currentValue),a._currentValue=g,f!==null)if(Ut(f.value,g)){if(f.children===c.children&&!pt.current){r=fn(t,r,o);break e}}else for(f=r.child,f!==null&&(f.return=r);f!==null;){var w=f.dependencies;if(w!==null){g=f.child;for(var E=w.firstContext;E!==null;){if(E.context===a){if(f.tag===1){E=dn(-1,o&-o),E.tag=2;var D=f.updateQueue;if(D!==null){D=D.shared;var F=D.pending;F===null?E.next=E:(E.next=F.next,F.next=E),D.pending=E}}f.lanes|=o,E=f.alternate,E!==null&&(E.lanes|=o),Ja(f.return,o,r),w.lanes|=o;break}E=E.next}}else if(f.tag===10)g=f.type===r.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(i(341));g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),Ja(g,o,r),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===r){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}ut(t,r,c.children,o),r=r.child}return r;case 9:return c=r.type,a=r.pendingProps.children,Hr(r,o),c=Dt(c),a=a(c),r.flags|=1,ut(t,r,a,o),r.child;case 14:return a=r.type,c=Wt(a,r.pendingProps),c=Wt(a.type,c),Kh(t,r,a,c,o);case 15:return Yh(t,r,r.type,r.pendingProps,o);case 17:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Wt(a,c),Ao(t,r),r.tag=1,mt(a)?(t=!0,mo(r)):t=!1,Hr(r,o),Uh(r,a,c),pu(r,a,c,o),_u(null,r,a,!0,t,o);case 19:return rp(t,r,o);case 22:return qh(t,r,o)}throw Error(i(156,r.tag))};function Tp(t,r){return of(t,r)}function n0(t,r,o,a){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(t,r,o,a){return new n0(t,r,o,a)}function ju(t){return t=t.prototype,!(!t||!t.isReactComponent)}function r0(t){if(typeof t=="function")return ju(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ce)return 11;if(t===Nt)return 14}return 2}function Bn(t,r){var o=t.alternate;return o===null?(o=Mt(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Ho(t,r,o,a,c,f){var g=2;if(a=t,typeof t=="function")ju(t)&&(g=1);else if(typeof t=="string")g=5;else e:switch(t){case oe:return dr(o.children,c,f,r);case ce:g=8,c|=8;break;case Ee:return t=Mt(12,o,r,c|2),t.elementType=Ee,t.lanes=f,t;case Oe:return t=Mt(13,o,r,c),t.elementType=Oe,t.lanes=f,t;case it:return t=Mt(19,o,r,c),t.elementType=it,t.lanes=f,t;case be:return Vo(o,c,f,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q:g=10;break e;case ie:g=9;break e;case Ce:g=11;break e;case Nt:g=14;break e;case ht:g=16,a=null;break e}throw Error(i(130,t==null?t:typeof t,""))}return r=Mt(g,o,r,c),r.elementType=t,r.type=a,r.lanes=f,r}function dr(t,r,o,a){return t=Mt(7,t,a,r),t.lanes=o,t}function Vo(t,r,o,a){return t=Mt(22,t,a,r),t.elementType=be,t.lanes=o,t.stateNode={isHidden:!1},t}function zu(t,r,o){return t=Mt(6,t,null,r),t.lanes=o,t}function Uu(t,r,o){return r=Mt(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function i0(t,r,o,a,c){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ha(0),this.expirationTimes=ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ha(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Bu(t,r,o,a,c,f,g,w,E){return t=new i0(t,r,o,w,E),r===1?(r=1,f===!0&&(r|=8)):r=0,f=Mt(3,null,null,r),t.current=f,f.stateNode=t,f.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},eu(f),t}function s0(t,r,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:a==null?null:""+a,children:t,containerInfo:r,implementation:o}}function Np(t){if(!t)return On;t=t._reactInternals;e:{if(Zn(t)!==t||t.tag!==1)throw Error(i(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(mt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(i(171))}if(t.tag===1){var o=t.type;if(mt(o))return nh(t,o,r)}return r}function Rp(t,r,o,a,c,f,g,w,E){return t=Bu(o,a,!0,t,c,f,g,w,E),t.context=Np(null),o=t.current,a=ct(),c=zn(o),f=dn(a,c),f.callback=r??null,Ln(o,f,c),t.current.lanes=c,Ei(t,c,a),_t(t,a),t}function Go(t,r,o,a){var c=r.current,f=ct(),g=zn(c);return o=Np(o),r.context===null?r.context=o:r.pendingContext=o,r=dn(f,g),r.payload={element:t},a=a===void 0?null:a,a!==null&&(r.callback=a),t=Ln(c,r,g),t!==null&&(Vt(t,c,g,f),So(t,c,g)),g}function Qo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Wu(t,r){Pp(t,r),(t=t.alternate)&&Pp(t,r)}var Dp=typeof reportError=="function"?reportError:function(t){console.error(t)};function $u(t){this._internalRoot=t}Ko.prototype.render=$u.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));Go(t,r,null,null)},Ko.prototype.unmount=$u.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;ar(function(){Go(null,t,null,null)}),r[on]=null}};function Ko(t){this._internalRoot=t}Ko.prototype.unstable_scheduleHydration=function(t){if(t){var r=pf();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Tn.length&&r!==0&&r<Tn[o].priority;o++);Tn.splice(o,0,t),o===0&&yf(t)}};function Hu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Op(){}function o0(t,r,o,a,c){if(c){if(typeof a=="function"){var f=a;a=function(){var D=Qo(g);f.call(D)}}var g=Rp(r,a,t,0,null,!1,!1,"",Op);return t._reactRootContainer=g,t[on]=g.current,Li(t.nodeType===8?t.parentNode:t),ar(),g}for(;c=t.lastChild;)t.removeChild(c);if(typeof a=="function"){var w=a;a=function(){var D=Qo(E);w.call(D)}}var E=Bu(t,0,!1,null,null,!1,!1,"",Op);return t._reactRootContainer=E,t[on]=E.current,Li(t.nodeType===8?t.parentNode:t),ar(function(){Go(r,E,o,a)}),E}function qo(t,r,o,a,c){var f=o._reactRootContainer;if(f){var g=f;if(typeof c=="function"){var w=c;c=function(){var E=Qo(g);w.call(E)}}Go(r,g,t,c)}else g=o0(o,r,t,c,a);return Qo(g)}ff=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=wi(r.pendingLanes);o!==0&&(pa(r,o|1),_t(r,Ue()),!(he&6)&&(Yr=Ue()+500,An()))}break;case 13:ar(function(){var a=cn(t,1);if(a!==null){var c=ct();Vt(a,t,1,c)}}),Wu(t,1)}},ma=function(t){if(t.tag===13){var r=cn(t,134217728);if(r!==null){var o=ct();Vt(r,t,134217728,o)}Wu(t,134217728)}},hf=function(t){if(t.tag===13){var r=zn(t),o=cn(t,r);if(o!==null){var a=ct();Vt(o,t,r,a)}Wu(t,r)}},pf=function(){return ve},mf=function(t,r){var o=ve;try{return ve=t,r()}finally{ve=o}},la=function(t,r,o){switch(r){case"input":if(Zl(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var a=o[r];if(a!==t&&a.form===t.form){var c=ho(a);if(!c)throw Error(i(90));jd(a),Zl(a,c)}}}break;case"textarea":$d(t,o);break;case"select":r=o.value,r!=null&&Ir(t,!!o.multiple,r,!1)}},Jd=Lu,Zd=ar;var l0={usingClientEntryPoint:!1,Events:[ji,br,ho,qd,Xd,Lu]},Ji={findFiberByHostInstance:er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a0={bundleType:Ji.bundleType,version:Ji.version,rendererPackageName:Ji.rendererPackageName,rendererConfig:Ji.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rf(t),t===null?null:t.stateNode},findFiberByHostInstance:Ji.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xo.isDisabled&&Xo.supportsFiber)try{Qs=Xo.inject(a0),qt=Xo}catch{}}return vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l0,vt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hu(r))throw Error(i(200));return s0(t,r,null,o)},vt.createRoot=function(t,r){if(!Hu(t))throw Error(i(299));var o=!1,a="",c=Dp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),r=Bu(t,1,!1,null,null,o,!1,a,c),t[on]=r.current,Li(t.nodeType===8?t.parentNode:t),new $u(r)},vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=rf(r),t=t===null?null:t.stateNode,t},vt.flushSync=function(t){return ar(t)},vt.hydrate=function(t,r,o){if(!Yo(r))throw Error(i(200));return qo(null,t,r,!0,o)},vt.hydrateRoot=function(t,r,o){if(!Hu(t))throw Error(i(405));var a=o!=null&&o.hydratedSources||null,c=!1,f="",g=Dp;if(o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),r=Rp(r,null,t,1,o??null,c,!1,f,g),t[on]=r.current,Li(t),a)for(t=0;t<a.length;t++)o=a[t],c=o._getVersion,c=c(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,c]:r.mutableSourceEagerHydrationData.push(o,c);return new Ko(r)},vt.render=function(t,r,o){if(!Yo(r))throw Error(i(200));return qo(null,t,r,!1,o)},vt.unmountComponentAtNode=function(t){if(!Yo(t))throw Error(i(40));return t._reactRootContainer?(ar(function(){qo(null,null,t,!1,function(){t._reactRootContainer=null,t[on]=null})}),!0):!1},vt.unstable_batchedUpdates=Lu,vt.unstable_renderSubtreeIntoContainer=function(t,r,o,a){if(!Yo(o))throw Error(i(200));if(t==null||t._reactInternals===void 0)throw Error(i(38));return qo(t,r,o,!1,a)},vt.version="18.3.1-next-f1338f8080-20240426",vt}var Up;function g0(){if(Up)return Qu.exports;Up=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qu.exports=m0(),Qu.exports}var Bp;function y0(){if(Bp)return Jo;Bp=1;var n=g0();return Jo.createRoot=n.createRoot,Jo.hydrateRoot=n.hydrateRoot,Jo}var _0=y0(),es={},Wp;function v0(){if(Wp)return es;Wp=1,Object.defineProperty(es,"__esModule",{value:!0}),es.parse=d,es.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function d(v,k){const S=new u,R=v.length;if(R<2)return S;const T=(k==null?void 0:k.decode)||y;let O=0;do{const A=v.indexOf("=",O);if(A===-1)break;const U=v.indexOf(";",O),W=U===-1?R:U;if(A>W){O=v.lastIndexOf(";",A-1)+1;continue}const X=h(v,O,A),re=p(v,A,X),oe=v.slice(X,re);if(S[oe]===void 0){let ce=h(v,A+1,W),Ee=p(v,W,ce);const q=T(v.slice(ce,Ee));S[oe]=q}O=W+1}while(O<R);return S}function h(v,k,S){do{const R=v.charCodeAt(k);if(R!==32&&R!==9)return k}while(++k<S);return S}function p(v,k,S){for(;k>S;){const R=v.charCodeAt(--k);if(R!==32&&R!==9)return k+1}return S}function m(v,k,S){const R=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const T=R(k);if(!e.test(T))throw new TypeError(`argument val is invalid: ${k}`);let O=v+"="+T;if(!S)return O;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);O+="; Max-Age="+S.maxAge}if(S.domain){if(!i.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);O+="; Domain="+S.domain}if(S.path){if(!s.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);O+="; Path="+S.path}if(S.expires){if(!_(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);O+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(O+="; HttpOnly"),S.secure&&(O+="; Secure"),S.partitioned&&(O+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return O}function y(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return l.call(v)==="[object Date]"}return es}v0();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $p="popstate";function w0(n={}){function e(l,u){let{pathname:d="/",search:h="",hash:p=""}=Cr(l.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),yc("",{pathname:d,search:h,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(l,u){let d=l.document.querySelector("base"),h="";if(d&&d.getAttribute("href")){let p=l.location.href,m=p.indexOf("#");h=m===-1?p:p.slice(0,m)}return h+"#"+(typeof u=="string"?u:hs(u))}function s(l,u){Yt(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return C0(e,i,s,n)}function Le(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Yt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function E0(){return Math.random().toString(36).substring(2,10)}function Hp(n,e){return{usr:n.state,key:n.key,idx:e}}function yc(n,e,i=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Cr(e):e,state:i,key:e&&e.key||s||E0()}}function hs({pathname:n="/",search:e="",hash:i=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function Cr(n){let e={};if(n){let i=n.indexOf("#");i>=0&&(e.hash=n.substring(i),n=n.substring(0,i));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function C0(n,e,i,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,d=l.history,h="POP",p=null,m=y();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function y(){return(d.state||{idx:null}).idx}function _(){h="POP";let T=y(),O=T==null?null:T-m;m=T,p&&p({action:h,location:R.location,delta:O})}function v(T,O){h="PUSH";let A=yc(R.location,T,O);i(A,T),m=y()+1;let U=Hp(A,m),W=R.createHref(A);try{d.pushState(U,"",W)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;l.location.assign(W)}u&&p&&p({action:h,location:R.location,delta:1})}function k(T,O){h="REPLACE";let A=yc(R.location,T,O);i(A,T),m=y();let U=Hp(A,m),W=R.createHref(A);d.replaceState(U,"",W),u&&p&&p({action:h,location:R.location,delta:0})}function S(T){let O=l.location.origin!=="null"?l.location.origin:l.location.href,A=typeof T=="string"?T:hs(T);return A=A.replace(/ $/,"%20"),Le(O,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,O)}let R={get action(){return h},get location(){return n(l,d)},listen(T){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener($p,_),p=T,()=>{l.removeEventListener($p,_),p=null}},createHref(T){return e(l,T)},createURL:S,encodeLocation(T){let O=S(T);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:v,replace:k,go(T){return d.go(T)}};return R}function ng(n,e,i="/"){return S0(n,e,i,!1)}function S0(n,e,i,s){let l=typeof e=="string"?Cr(e):e,u=Kn(l.pathname||"/",i);if(u==null)return null;let d=rg(n);x0(d);let h=null;for(let p=0;h==null&&p<d.length;++p){let m=L0(u);h=A0(d[p],m,s)}return h}function rg(n,e=[],i=[],s=""){let l=(u,d,h)=>{let p={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};p.relativePath.startsWith("/")&&(Le(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let m=yn([s,p.relativePath]),y=i.concat(p);u.children&&u.children.length>0&&(Le(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),rg(u.children,e,y,m)),!(u.path==null&&!u.index)&&e.push({path:m,score:D0(m,u.index),routesMeta:y})};return n.forEach((u,d)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))l(u,d);else for(let p of ig(u.path))l(u,d,p)}),e}function ig(n){let e=n.split("/");if(e.length===0)return[];let[i,...s]=e,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let d=ig(s.join("/")),h=[];return h.push(...d.map(p=>p===""?u:[u,p].join("/"))),l&&h.push(...d),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function x0(n){n.sort((e,i)=>e.score!==i.score?i.score-e.score:O0(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var k0=/^:[\w-]+$/,I0=3,T0=2,N0=1,R0=10,P0=-2,Vp=n=>n==="*";function D0(n,e){let i=n.split("/"),s=i.length;return i.some(Vp)&&(s+=P0),e&&(s+=T0),i.filter(l=>!Vp(l)).reduce((l,u)=>l+(k0.test(u)?I0:u===""?N0:R0),s)}function O0(n,e){return n.length===e.length&&n.slice(0,-1).every((s,l)=>s===e[l])?n[n.length-1]-e[e.length-1]:0}function A0(n,e,i=!1){let{routesMeta:s}=n,l={},u="/",d=[];for(let h=0;h<s.length;++h){let p=s[h],m=h===s.length-1,y=u==="/"?e:e.slice(u.length)||"/",_=ol({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),v=p.route;if(!_&&m&&i&&!s[s.length-1].route.index&&(_=ol({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!_)return null;Object.assign(l,_.params),d.push({params:l,pathname:yn([u,_.pathname]),pathnameBase:z0(yn([u,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(u=yn([u,_.pathnameBase]))}return d}function ol(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,s]=M0(n.path,n.caseSensitive,n.end),l=e.match(i);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:_},v)=>{if(y==="*"){let S=h[v]||"";d=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const k=h[v];return _&&!k?m[y]=void 0:m[y]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:d,pattern:n}}function M0(n,e=!1,i=!0){Yt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function L0(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yt(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Kn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=n.charAt(i);return s&&s!=="/"?null:n.slice(i)||"/"}function b0(n,e="/"){let{pathname:i,search:s="",hash:l=""}=typeof n=="string"?Cr(n):n;return{pathname:i?i.startsWith("/")?i:F0(i,e):e,search:U0(s),hash:B0(l)}}function F0(n,e){let i=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function qu(n,e,i,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function j0(n){return n.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function sg(n){let e=j0(n);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function og(n,e,i,s=!1){let l;typeof n=="string"?l=Cr(n):(l={...n},Le(!l.pathname||!l.pathname.includes("?"),qu("?","pathname","search",l)),Le(!l.pathname||!l.pathname.includes("#"),qu("#","pathname","hash",l)),Le(!l.search||!l.search.includes("#"),qu("#","search","hash",l)));let u=n===""||l.pathname==="",d=u?"/":l.pathname,h;if(d==null)h=i;else{let _=e.length-1;if(!s&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),_-=1;l.pathname=v.join("/")}h=_>=0?e[_]:"/"}let p=b0(l,h),m=d&&d!=="/"&&d.endsWith("/"),y=(u||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var yn=n=>n.join("/").replace(/\/\/+/g,"/"),z0=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),U0=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,B0=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function W0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var lg=["POST","PUT","PATCH","DELETE"];new Set(lg);var $0=["GET",...lg];new Set($0);var ai=P.createContext(null);ai.displayName="DataRouter";var Dl=P.createContext(null);Dl.displayName="DataRouterState";var ag=P.createContext({isTransitioning:!1});ag.displayName="ViewTransition";var H0=P.createContext(new Map);H0.displayName="Fetchers";var V0=P.createContext(null);V0.displayName="Await";var nn=P.createContext(null);nn.displayName="Navigation";var Rs=P.createContext(null);Rs.displayName="Location";var rn=P.createContext({outlet:null,matches:[],isDataRoute:!1});rn.displayName="Route";var Qc=P.createContext(null);Qc.displayName="RouteError";function G0(n,{relative:e}={}){Le(Ps(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=P.useContext(nn),{hash:l,pathname:u,search:d}=Ds(n,{relative:e}),h=u;return i!=="/"&&(h=u==="/"?i:yn([i,u])),s.createHref({pathname:h,search:d,hash:l})}function Ps(){return P.useContext(Rs)!=null}function Sr(){return Le(Ps(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Rs).location}var ug="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cg(n){P.useContext(nn).static||P.useLayoutEffect(n)}function Ol(){let{isDataRoute:n}=P.useContext(rn);return n?sw():Q0()}function Q0(){Le(Ps(),"useNavigate() may be used only in the context of a <Router> component.");let n=P.useContext(ai),{basename:e,navigator:i}=P.useContext(nn),{matches:s}=P.useContext(rn),{pathname:l}=Sr(),u=JSON.stringify(sg(s)),d=P.useRef(!1);return cg(()=>{d.current=!0}),P.useCallback((p,m={})=>{if(Yt(d.current,ug),!d.current)return;if(typeof p=="number"){i.go(p);return}let y=og(p,JSON.parse(u),l,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:yn([e,y.pathname])),(m.replace?i.replace:i.push)(y,m.state,m)},[e,i,u,l,n])}P.createContext(null);function dg(){let{matches:n}=P.useContext(rn),e=n[n.length-1];return e?e.params:{}}function Ds(n,{relative:e}={}){let{matches:i}=P.useContext(rn),{pathname:s}=Sr(),l=JSON.stringify(sg(i));return P.useMemo(()=>og(n,JSON.parse(l),s,e==="path"),[n,l,s,e])}function K0(n,e){return fg(n,e)}function fg(n,e,i,s){var O;Le(Ps(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=P.useContext(nn),{matches:u}=P.useContext(rn),d=u[u.length-1],h=d?d.params:{},p=d?d.pathname:"/",m=d?d.pathnameBase:"/",y=d&&d.route;{let A=y&&y.path||"";hg(p,!y||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let _=Sr(),v;if(e){let A=typeof e=="string"?Cr(e):e;Le(m==="/"||((O=A.pathname)==null?void 0:O.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${A.pathname}" was given in the \`location\` prop.`),v=A}else v=_;let k=v.pathname||"/",S=k;if(m!=="/"){let A=m.replace(/^\//,"").split("/");S="/"+k.replace(/^\//,"").split("/").slice(A.length).join("/")}let R=ng(n,{pathname:S});Yt(y||R!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Yt(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=Z0(R&&R.map(A=>Object.assign({},A,{params:Object.assign({},h,A.params),pathname:yn([m,l.encodeLocation?l.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?m:yn([m,l.encodeLocation?l.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),u,i,s);return e&&T?P.createElement(Rs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},T):T}function Y0(){let n=iw(),e=W0(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),i?P.createElement("pre",{style:l},i):null,d)}var q0=P.createElement(Y0,null),X0=class extends P.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?P.createElement(rn.Provider,{value:this.props.routeContext},P.createElement(Qc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function J0({routeContext:n,match:e,children:i}){let s=P.useContext(ai);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(rn.Provider,{value:n},i)}function Z0(n,e=[],i=null,s=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let l=n,u=i==null?void 0:i.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);Le(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,h=-1;if(i)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:y,errors:_}=i,v=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||v){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,m,y)=>{let _,v=!1,k=null,S=null;i&&(_=u&&m.route.id?u[m.route.id]:void 0,k=m.route.errorElement||q0,d&&(h<0&&y===0?(hg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):h===y&&(v=!0,S=m.route.hydrateFallbackElement||null)));let R=e.concat(l.slice(0,y+1)),T=()=>{let O;return _?O=k:v?O=S:m.route.Component?O=P.createElement(m.route.Component,null):m.route.element?O=m.route.element:O=p,P.createElement(J0,{match:m,routeContext:{outlet:p,matches:R,isDataRoute:i!=null},children:O})};return i&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?P.createElement(X0,{location:i.location,revalidation:i.revalidation,component:k,error:_,children:T(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):T()},null)}function Kc(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ew(n){let e=P.useContext(ai);return Le(e,Kc(n)),e}function tw(n){let e=P.useContext(Dl);return Le(e,Kc(n)),e}function nw(n){let e=P.useContext(rn);return Le(e,Kc(n)),e}function Yc(n){let e=nw(n),i=e.matches[e.matches.length-1];return Le(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function rw(){return Yc("useRouteId")}function iw(){var s;let n=P.useContext(Qc),e=tw("useRouteError"),i=Yc("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[i]}function sw(){let{router:n}=ew("useNavigate"),e=Yc("useNavigate"),i=P.useRef(!1);return cg(()=>{i.current=!0}),P.useCallback(async(l,u={})=>{Yt(i.current,ug),i.current&&(typeof l=="number"?n.navigate(l):await n.navigate(l,{fromRouteId:e,...u}))},[n,e])}var Gp={};function hg(n,e,i){!e&&!Gp[n]&&(Gp[n]=!0,Yt(!1,i))}P.memo(ow);function ow({routes:n,future:e,state:i}){return fg(n,void 0,i,e)}function pn(n){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lw({basename:n="/",children:e=null,location:i,navigationType:s="POP",navigator:l,static:u=!1}){Le(!Ps(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),h=P.useMemo(()=>({basename:d,navigator:l,static:u,future:{}}),[d,l,u]);typeof i=="string"&&(i=Cr(i));let{pathname:p="/",search:m="",hash:y="",state:_=null,key:v="default"}=i,k=P.useMemo(()=>{let S=Kn(p,d);return S==null?null:{location:{pathname:S,search:m,hash:y,state:_,key:v},navigationType:s}},[d,p,m,y,_,v,s]);return Yt(k!=null,`<Router basename="${d}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:P.createElement(nn.Provider,{value:h},P.createElement(Rs.Provider,{children:e,value:k}))}function aw({children:n,location:e}){return K0(_c(n),e)}function _c(n,e=[]){let i=[];return P.Children.forEach(n,(s,l)=>{if(!P.isValidElement(s))return;let u=[...e,l];if(s.type===P.Fragment){i.push.apply(i,_c(s.props.children,u));return}Le(s.type===pn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=_c(s.props.children,u)),i.push(d)}),i}var rl="get",il="application/x-www-form-urlencoded";function Al(n){return n!=null&&typeof n.tagName=="string"}function uw(n){return Al(n)&&n.tagName.toLowerCase()==="button"}function cw(n){return Al(n)&&n.tagName.toLowerCase()==="form"}function dw(n){return Al(n)&&n.tagName.toLowerCase()==="input"}function fw(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hw(n,e){return n.button===0&&(!e||e==="_self")&&!fw(n)}var Zo=null;function pw(){if(Zo===null)try{new FormData(document.createElement("form"),0),Zo=!1}catch{Zo=!0}return Zo}var mw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xu(n){return n!=null&&!mw.has(n)?(Yt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${il}"`),null):n}function gw(n,e){let i,s,l,u,d;if(cw(n)){let h=n.getAttribute("action");s=h?Kn(h,e):null,i=n.getAttribute("method")||rl,l=Xu(n.getAttribute("enctype"))||il,u=new FormData(n)}else if(uw(n)||dw(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(s=p?Kn(p,e):null,i=n.getAttribute("formmethod")||h.getAttribute("method")||rl,l=Xu(n.getAttribute("formenctype"))||Xu(h.getAttribute("enctype"))||il,u=new FormData(h,n),!pw()){let{name:m,type:y,value:_}=n;if(y==="image"){let v=m?`${m}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else m&&u.append(m,_)}}else{if(Al(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=rl,s=null,l=il,d=n}return u&&l==="text/plain"&&(d=u,u=void 0),{action:s,method:i.toLowerCase(),encType:l,formData:u,body:d}}function qc(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function yw(n,e){if(n.id in e)return e[n.id];try{let i=await import(n.module);return e[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _w(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function vw(n,e,i){let s=await Promise.all(n.map(async l=>{let u=e.routes[l.route.id];if(u){let d=await yw(u,i);return d.links?d.links():[]}return[]}));return Sw(s.flat(1).filter(_w).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Qp(n,e,i,s,l,u){let d=(p,m)=>i[m]?p.route.id!==i[m].route.id:!0,h=(p,m)=>{var y;return i[m].pathname!==p.pathname||((y=i[m].route.path)==null?void 0:y.endsWith("*"))&&i[m].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,m)=>d(p,m)||h(p,m)):u==="data"?e.filter((p,m)=>{var _;let y=s.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(d(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((_=i[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function ww(n,e){return Ew(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let l=[s.module];return s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function Ew(n){return[...new Set(n)]}function Cw(n){let e={},i=Object.keys(n).sort();for(let s of i)e[s]=n[s];return e}function Sw(n,e){let i=new Set;return new Set(e),n.reduce((s,l)=>{let u=JSON.stringify(Cw(l));return i.has(u)||(i.add(u),s.push({key:u,link:l})),s},[])}function xw(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function kw(){let n=P.useContext(ai);return qc(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Iw(){let n=P.useContext(Dl);return qc(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Xc=P.createContext(void 0);Xc.displayName="FrameworkContext";function pg(){let n=P.useContext(Xc);return qc(n,"You must render this element inside a <HydratedRouter> element"),n}function Tw(n,e){let i=P.useContext(Xc),[s,l]=P.useState(!1),[u,d]=P.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,v=P.useRef(null);P.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let R=O=>{O.forEach(A=>{d(A.isIntersecting)})},T=new IntersectionObserver(R,{threshold:.5});return v.current&&T.observe(v.current),()=>{T.disconnect()}}},[n]),P.useEffect(()=>{if(s){let R=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(R)}}},[s]);let k=()=>{l(!0)},S=()=>{l(!1),d(!1)};return i?n!=="intent"?[u,v,{}]:[u,v,{onFocus:ts(h,k),onBlur:ts(p,S),onMouseEnter:ts(m,k),onMouseLeave:ts(y,S),onTouchStart:ts(_,k)}]:[!1,v,{}]}function ts(n,e){return i=>{n&&n(i),i.defaultPrevented||e(i)}}function Nw({page:n,...e}){let{router:i}=kw(),s=P.useMemo(()=>ng(i.routes,n,i.basename),[i.routes,n,i.basename]);return s?P.createElement(Pw,{page:n,matches:s,...e}):null}function Rw(n){let{manifest:e,routeModules:i}=pg(),[s,l]=P.useState([]);return P.useEffect(()=>{let u=!1;return vw(n,e,i).then(d=>{u||l(d)}),()=>{u=!0}},[n,e,i]),s}function Pw({page:n,matches:e,...i}){let s=Sr(),{manifest:l,routeModules:u}=pg(),{loaderData:d,matches:h}=Iw(),p=P.useMemo(()=>Qp(n,e,h,l,s,"data"),[n,e,h,l,s]),m=P.useMemo(()=>Qp(n,e,h,l,s,"assets"),[n,e,h,l,s]),y=P.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let k=new Set,S=!1;if(e.forEach(T=>{var A;let O=l.routes[T.route.id];!O||!O.hasLoader||(!p.some(U=>U.route.id===T.route.id)&&T.route.id in d&&((A=u[T.route.id])!=null&&A.shouldRevalidate)||O.hasClientLoader?S=!0:k.add(T.route.id))}),k.size===0)return[];let R=xw(n);return S&&k.size>0&&R.searchParams.set("_routes",e.filter(T=>k.has(T.route.id)).map(T=>T.route.id).join(",")),[R.pathname+R.search]},[d,s,l,p,e,n,u]),_=P.useMemo(()=>ww(m,l),[m,l]),v=Rw(m);return P.createElement(P.Fragment,null,y.map(k=>P.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...i})),_.map(k=>P.createElement("link",{key:k,rel:"modulepreload",href:k,...i})),v.map(({key:k,link:S})=>P.createElement("link",{key:k,...S})))}function Dw(...n){return e=>{n.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var mg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mg&&(window.__reactRouterVersion="7.1.1")}catch{}function Ow({basename:n,children:e,window:i}){let s=P.useRef();s.current==null&&(s.current=w0({window:i,v5Compat:!0}));let l=s.current,[u,d]=P.useState({action:l.action,location:l.location}),h=P.useCallback(p=>{P.startTransition(()=>d(p))},[d]);return P.useLayoutEffect(()=>l.listen(h),[l,h]),P.createElement(lw,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:l})}var gg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yg=P.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:l,reloadDocument:u,replace:d,state:h,target:p,to:m,preventScrollReset:y,viewTransition:_,...v},k){let{basename:S}=P.useContext(nn),R=typeof m=="string"&&gg.test(m),T,O=!1;if(typeof m=="string"&&R&&(T=m,mg))try{let Ee=new URL(window.location.href),q=m.startsWith("//")?new URL(Ee.protocol+m):new URL(m),ie=Kn(q.pathname,S);q.origin===Ee.origin&&ie!=null?m=ie+q.search+q.hash:O=!0}catch{Yt(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=G0(m,{relative:l}),[U,W,X]=Tw(s,v),re=Lw(m,{replace:d,state:h,target:p,preventScrollReset:y,relative:l,viewTransition:_});function oe(Ee){e&&e(Ee),Ee.defaultPrevented||re(Ee)}let ce=P.createElement("a",{...v,...X,href:T||A,onClick:O||u?e:oe,ref:Dw(k,W),target:p,"data-discover":!R&&i==="render"?"true":void 0});return U&&!R?P.createElement(P.Fragment,null,ce,P.createElement(Nw,{page:A})):ce});yg.displayName="Link";var ps=P.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:l=!1,style:u,to:d,viewTransition:h,children:p,...m},y){let _=Ds(d,{relative:m.relative}),v=Sr(),k=P.useContext(Dl),{navigator:S,basename:R}=P.useContext(nn),T=k!=null&&Uw(_)&&h===!0,O=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,A=v.pathname,U=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;i||(A=A.toLowerCase(),U=U?U.toLowerCase():null,O=O.toLowerCase()),U&&R&&(U=Kn(U,R)||U);const W=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let X=A===O||!l&&A.startsWith(O)&&A.charAt(W)==="/",re=U!=null&&(U===O||!l&&U.startsWith(O)&&U.charAt(O.length)==="/"),oe={isActive:X,isPending:re,isTransitioning:T},ce=X?e:void 0,Ee;typeof s=="function"?Ee=s(oe):Ee=[s,X?"active":null,re?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let q=typeof u=="function"?u(oe):u;return P.createElement(yg,{...m,"aria-current":ce,className:Ee,ref:y,style:q,to:d,viewTransition:h},typeof p=="function"?p(oe):p)});ps.displayName="NavLink";var Aw=P.forwardRef(({discover:n="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:l,state:u,method:d=rl,action:h,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:_,...v},k)=>{let S=jw(),R=zw(h,{relative:m}),T=d.toLowerCase()==="get"?"get":"post",O=typeof h=="string"&&gg.test(h),A=U=>{if(p&&p(U),U.defaultPrevented)return;U.preventDefault();let W=U.nativeEvent.submitter,X=(W==null?void 0:W.getAttribute("formmethod"))||d;S(W||U.currentTarget,{fetcherKey:e,method:X,navigate:i,replace:l,state:u,relative:m,preventScrollReset:y,viewTransition:_})};return P.createElement("form",{ref:k,method:T,action:R,onSubmit:s?p:A,...v,"data-discover":!O&&n==="render"?"true":void 0})});Aw.displayName="Form";function Mw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _g(n){let e=P.useContext(ai);return Le(e,Mw(n)),e}function Lw(n,{target:e,replace:i,state:s,preventScrollReset:l,relative:u,viewTransition:d}={}){let h=Ol(),p=Sr(),m=Ds(n,{relative:u});return P.useCallback(y=>{if(hw(y,e)){y.preventDefault();let _=i!==void 0?i:hs(p)===hs(m);h(n,{replace:_,state:s,preventScrollReset:l,relative:u,viewTransition:d})}},[p,h,m,i,s,e,n,l,u,d])}var bw=0,Fw=()=>`__${String(++bw)}__`;function jw(){let{router:n}=_g("useSubmit"),{basename:e}=P.useContext(nn),i=rw();return P.useCallback(async(s,l={})=>{let{action:u,method:d,encType:h,formData:p,body:m}=gw(s,e);if(l.navigate===!1){let y=l.fetcherKey||Fw();await n.fetch(y,i,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||h,flushSync:l.flushSync})}else await n.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,e,i])}function zw(n,{relative:e}={}){let{basename:i}=P.useContext(nn),s=P.useContext(rn);Le(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...Ds(n||".",{relative:e})},d=Sr();if(n==null){u.search=d.search;let h=new URLSearchParams(u.search),p=h.getAll("index");if(p.some(y=>y==="")){h.delete("index"),p.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();u.search=y?`?${y}`:""}}return(!n||n===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:yn([i,u.pathname])),hs(u)}function Uw(n,e={}){let i=P.useContext(ag);Le(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=_g("useViewTransitionState"),l=Ds(n,{relative:e.relative});if(!i.isTransitioning)return!1;let u=Kn(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Kn(i.nextLocation.pathname,s)||i.nextLocation.pathname;return ol(l.pathname,d)!=null||ol(l.pathname,u)!=null}new TextEncoder;var Ju={exports:{}},Zu={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function Bw(){if(Kp)return Zu;Kp=1;var n=Pl();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var i=typeof Object.is=="function"?Object.is:e,s=n.useSyncExternalStore,l=n.useRef,u=n.useEffect,d=n.useMemo,h=n.useDebugValue;return Zu.useSyncExternalStoreWithSelector=function(p,m,y,_,v){var k=l(null);if(k.current===null){var S={hasValue:!1,value:null};k.current=S}else S=k.current;k=d(function(){function T(X){if(!O){if(O=!0,A=X,X=_(X),v!==void 0&&S.hasValue){var re=S.value;if(v(re,X))return U=re}return U=X}if(re=U,i(A,X))return re;var oe=_(X);return v!==void 0&&v(re,oe)?(A=X,re):(A=X,U=oe)}var O=!1,A,U,W=y===void 0?null:y;return[function(){return T(m())},W===null?void 0:function(){return T(W())}]},[m,y,_,v]);var R=s(p,k[0],k[1]);return u(function(){S.hasValue=!0,S.value=R},[R]),h(R),R},Zu}var Yp;function Ww(){return Yp||(Yp=1,Ju.exports=Bw()),Ju.exports}var $w=Ww();function Hw(n){n()}function Vw(){let n=null,e=null;return{clear(){n=null,e=null},notify(){Hw(()=>{let i=n;for(;i;)i.callback(),i=i.next})},get(){const i=[];let s=n;for(;s;)i.push(s),s=s.next;return i},subscribe(i){let s=!0;const l=e={callback:i,next:null,prev:e};return l.prev?l.prev.next=l:n=l,function(){!s||n===null||(s=!1,l.next?l.next.prev=l.prev:e=l.prev,l.prev?l.prev.next=l.next:n=l.next)}}}}var qp={notify(){},get:()=>[]};function Gw(n,e){let i,s=qp,l=0,u=!1;function d(R){y();const T=s.subscribe(R);let O=!1;return()=>{O||(O=!0,T(),_())}}function h(){s.notify()}function p(){S.onStateChange&&S.onStateChange()}function m(){return u}function y(){l++,i||(i=n.subscribe(p),s=Vw())}function _(){l--,i&&l===0&&(i(),i=void 0,s.clear(),s=qp)}function v(){u||(u=!0,y())}function k(){u&&(u=!1,_())}const S={addNestedSub:d,notifyNestedSubs:h,handleChangeWrapper:p,isSubscribed:m,trySubscribe:v,tryUnsubscribe:k,getListeners:()=>s};return S}var Qw=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kw=Qw(),Yw=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qw=Yw(),Xw=()=>Kw||qw?P.useLayoutEffect:P.useEffect,Jw=Xw(),ec=Symbol.for("react-redux-context"),tc=typeof globalThis<"u"?globalThis:{};function Zw(){if(!P.createContext)return{};const n=tc[ec]??(tc[ec]=new Map);let e=n.get(P.createContext);return e||(e=P.createContext(null),n.set(P.createContext,e)),e}var Yn=Zw();function eE(n){const{children:e,context:i,serverState:s,store:l}=n,u=P.useMemo(()=>{const p=Gw(l);return{store:l,subscription:p,getServerState:s?()=>s:void 0}},[l,s]),d=P.useMemo(()=>l.getState(),[l]);Jw(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),d!==l.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,d]);const h=i||Yn;return P.createElement(h.Provider,{value:u},e)}var tE=eE;function Jc(n=Yn){return function(){return P.useContext(n)}}var vg=Jc();function wg(n=Yn){const e=n===Yn?vg:Jc(n),i=()=>{const{store:s}=e();return s};return Object.assign(i,{withTypes:()=>i}),i}var nE=wg();function rE(n=Yn){const e=n===Yn?nE:wg(n),i=()=>e().dispatch;return Object.assign(i,{withTypes:()=>i}),i}var iE=rE(),sE=(n,e)=>n===e;function oE(n=Yn){const e=n===Yn?vg:Jc(n),i=(s,l={})=>{const{equalityFn:u=sE}=typeof l=="function"?{equalityFn:l}:l,d=e(),{store:h,subscription:p,getServerState:m}=d;P.useRef(!0);const y=P.useCallback({[s.name](v){return s(v)}}[s.name],[s]),_=$w.useSyncExternalStoreWithSelector(p.addNestedSub,h.getState,m||h.getState,y,u);return P.useDebugValue(_),_};return Object.assign(i,{withTypes:()=>i}),i}var lE=oE();function tt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var aE=typeof Symbol=="function"&&Symbol.observable||"@@observable",Xp=aE,nc=()=>Math.random().toString(36).substring(7).split("").join("."),uE={INIT:`@@redux/INIT${nc()}`,REPLACE:`@@redux/REPLACE${nc()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nc()}`},ll=uE;function Zc(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function Eg(n,e,i){if(typeof n!="function")throw new Error(tt(2));if(typeof e=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(tt(0));if(typeof e=="function"&&typeof i>"u"&&(i=e,e=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(tt(1));return i(Eg)(n,e)}let s=n,l=e,u=new Map,d=u,h=0,p=!1;function m(){d===u&&(d=new Map,u.forEach((T,O)=>{d.set(O,T)}))}function y(){if(p)throw new Error(tt(3));return l}function _(T){if(typeof T!="function")throw new Error(tt(4));if(p)throw new Error(tt(5));let O=!0;m();const A=h++;return d.set(A,T),function(){if(O){if(p)throw new Error(tt(6));O=!1,m(),d.delete(A),u=null}}}function v(T){if(!Zc(T))throw new Error(tt(7));if(typeof T.type>"u")throw new Error(tt(8));if(typeof T.type!="string")throw new Error(tt(17));if(p)throw new Error(tt(9));try{p=!0,l=s(l,T)}finally{p=!1}return(u=d).forEach(A=>{A()}),T}function k(T){if(typeof T!="function")throw new Error(tt(10));s=T,v({type:ll.REPLACE})}function S(){const T=_;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(tt(11));function A(){const W=O;W.next&&W.next(y())}return A(),{unsubscribe:T(A)}},[Xp](){return this}}}return v({type:ll.INIT}),{dispatch:v,subscribe:_,getState:y,replaceReducer:k,[Xp]:S}}function cE(n){Object.keys(n).forEach(e=>{const i=n[e];if(typeof i(void 0,{type:ll.INIT})>"u")throw new Error(tt(12));if(typeof i(void 0,{type:ll.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(tt(13))})}function dE(n){const e=Object.keys(n),i={};for(let u=0;u<e.length;u++){const d=e[u];typeof n[d]=="function"&&(i[d]=n[d])}const s=Object.keys(i);let l;try{cE(i)}catch(u){l=u}return function(d={},h){if(l)throw l;let p=!1;const m={};for(let y=0;y<s.length;y++){const _=s[y],v=i[_],k=d[_],S=v(k,h);if(typeof S>"u")throw h&&h.type,new Error(tt(14));m[_]=S,p=p||S!==k}return p=p||s.length!==Object.keys(d).length,p?m:d}}function al(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,i)=>(...s)=>e(i(...s)))}function fE(...n){return e=>(i,s)=>{const l=e(i,s);let u=()=>{throw new Error(tt(15))};const d={getState:l.getState,dispatch:(p,...m)=>u(p,...m)},h=n.map(p=>p(d));return u=al(...h)(l.dispatch),{...l,dispatch:u}}}function hE(n){return Zc(n)&&"type"in n&&typeof n.type=="string"}var Cg=Symbol.for("immer-nothing"),Jp=Symbol.for("immer-draftable"),It=Symbol.for("immer-state");function Gt(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var ti=Object.getPrototypeOf;function yr(n){return!!n&&!!n[It]}function wn(n){var e;return n?Sg(n)||Array.isArray(n)||!!n[Jp]||!!((e=n.constructor)!=null&&e[Jp])||Ll(n)||bl(n):!1}var pE=Object.prototype.constructor.toString();function Sg(n){if(!n||typeof n!="object")return!1;const e=ti(n);if(e===null)return!0;const i=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return i===Object?!0:typeof i=="function"&&Function.toString.call(i)===pE}function ul(n,e){Ml(n)===0?Reflect.ownKeys(n).forEach(i=>{e(i,n[i],n)}):n.forEach((i,s)=>e(s,i,n))}function Ml(n){const e=n[It];return e?e.type_:Array.isArray(n)?1:Ll(n)?2:bl(n)?3:0}function vc(n,e){return Ml(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function xg(n,e,i){const s=Ml(n);s===2?n.set(e,i):s===3?n.add(i):n[e]=i}function mE(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Ll(n){return n instanceof Map}function bl(n){return n instanceof Set}function fr(n){return n.copy_||n.base_}function wc(n,e){if(Ll(n))return new Map(n);if(bl(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const i=Sg(n);if(e===!0||e==="class_only"&&!i){const s=Object.getOwnPropertyDescriptors(n);delete s[It];let l=Reflect.ownKeys(s);for(let u=0;u<l.length;u++){const d=l[u],h=s[d];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(s[d]={configurable:!0,writable:!0,enumerable:h.enumerable,value:n[d]})}return Object.create(ti(n),s)}else{const s=ti(n);if(s!==null&&i)return{...n};const l=Object.create(s);return Object.assign(l,n)}}function ed(n,e=!1){return Fl(n)||yr(n)||!wn(n)||(Ml(n)>1&&(n.set=n.add=n.clear=n.delete=gE),Object.freeze(n),e&&Object.entries(n).forEach(([i,s])=>ed(s,!0))),n}function gE(){Gt(2)}function Fl(n){return Object.isFrozen(n)}var yE={};function _r(n){const e=yE[n];return e||Gt(0,n),e}var ms;function kg(){return ms}function _E(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Zp(n,e){e&&(_r("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Ec(n){Cc(n),n.drafts_.forEach(vE),n.drafts_=null}function Cc(n){n===ms&&(ms=n.parent_)}function em(n){return ms=_E(ms,n)}function vE(n){const e=n[It];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function tm(n,e){e.unfinalizedDrafts_=e.drafts_.length;const i=e.drafts_[0];return n!==void 0&&n!==i?(i[It].modified_&&(Ec(e),Gt(4)),wn(n)&&(n=cl(e,n),e.parent_||dl(e,n)),e.patches_&&_r("Patches").generateReplacementPatches_(i[It].base_,n,e.patches_,e.inversePatches_)):n=cl(e,i,[]),Ec(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==Cg?n:void 0}function cl(n,e,i){if(Fl(e))return e;const s=e[It];if(!s)return ul(e,(l,u)=>nm(n,s,e,l,u,i)),e;if(s.scope_!==n)return e;if(!s.modified_)return dl(n,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const l=s.copy_;let u=l,d=!1;s.type_===3&&(u=new Set(l),l.clear(),d=!0),ul(u,(h,p)=>nm(n,s,l,h,p,i,d)),dl(n,l,!1),i&&n.patches_&&_r("Patches").generatePatches_(s,i,n.patches_,n.inversePatches_)}return s.copy_}function nm(n,e,i,s,l,u,d){if(yr(l)){const h=u&&e&&e.type_!==3&&!vc(e.assigned_,s)?u.concat(s):void 0,p=cl(n,l,h);if(xg(i,s,p),yr(p))n.canAutoFreeze_=!1;else return}else d&&i.add(l);if(wn(l)&&!Fl(l)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;cl(n,l),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(i,s)&&dl(n,l)}}function dl(n,e,i=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&ed(e,i)}function wE(n,e){const i=Array.isArray(n),s={type_:i?1:0,scope_:e?e.scope_:kg(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=s,u=td;i&&(l=[s],u=gs);const{revoke:d,proxy:h}=Proxy.revocable(l,u);return s.draft_=h,s.revoke_=d,h}var td={get(n,e){if(e===It)return n;const i=fr(n);if(!vc(i,e))return EE(n,i,e);const s=i[e];return n.finalized_||!wn(s)?s:s===rc(n.base_,e)?(ic(n),n.copy_[e]=xc(s,n)):s},has(n,e){return e in fr(n)},ownKeys(n){return Reflect.ownKeys(fr(n))},set(n,e,i){const s=Ig(fr(n),e);if(s!=null&&s.set)return s.set.call(n.draft_,i),!0;if(!n.modified_){const l=rc(fr(n),e),u=l==null?void 0:l[It];if(u&&u.base_===i)return n.copy_[e]=i,n.assigned_[e]=!1,!0;if(mE(i,l)&&(i!==void 0||vc(n.base_,e)))return!0;ic(n),Sc(n)}return n.copy_[e]===i&&(i!==void 0||e in n.copy_)||Number.isNaN(i)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=i,n.assigned_[e]=!0),!0},deleteProperty(n,e){return rc(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,ic(n),Sc(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const i=fr(n),s=Reflect.getOwnPropertyDescriptor(i,e);return s&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:s.enumerable,value:i[e]}},defineProperty(){Gt(11)},getPrototypeOf(n){return ti(n.base_)},setPrototypeOf(){Gt(12)}},gs={};ul(td,(n,e)=>{gs[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});gs.deleteProperty=function(n,e){return gs.set.call(this,n,e,void 0)};gs.set=function(n,e,i){return td.set.call(this,n[0],e,i,n[0])};function rc(n,e){const i=n[It];return(i?fr(i):n)[e]}function EE(n,e,i){var l;const s=Ig(e,i);return s?"value"in s?s.value:(l=s.get)==null?void 0:l.call(n.draft_):void 0}function Ig(n,e){if(!(e in n))return;let i=ti(n);for(;i;){const s=Object.getOwnPropertyDescriptor(i,e);if(s)return s;i=ti(i)}}function Sc(n){n.modified_||(n.modified_=!0,n.parent_&&Sc(n.parent_))}function ic(n){n.copy_||(n.copy_=wc(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var CE=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,i,s)=>{if(typeof e=="function"&&typeof i!="function"){const u=i;i=e;const d=this;return function(p=u,...m){return d.produce(p,y=>i.call(this,y,...m))}}typeof i!="function"&&Gt(6),s!==void 0&&typeof s!="function"&&Gt(7);let l;if(wn(e)){const u=em(this),d=xc(e,void 0);let h=!0;try{l=i(d),h=!1}finally{h?Ec(u):Cc(u)}return Zp(u,s),tm(l,u)}else if(!e||typeof e!="object"){if(l=i(e),l===void 0&&(l=e),l===Cg&&(l=void 0),this.autoFreeze_&&ed(l,!0),s){const u=[],d=[];_r("Patches").generateReplacementPatches_(e,l,u,d),s(u,d)}return l}else Gt(1,e)},this.produceWithPatches=(e,i)=>{if(typeof e=="function")return(d,...h)=>this.produceWithPatches(d,p=>e(p,...h));let s,l;return[this.produce(e,i,(d,h)=>{s=d,l=h}),s,l]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){wn(n)||Gt(8),yr(n)&&(n=SE(n));const e=em(this),i=xc(n,void 0);return i[It].isManual_=!0,Cc(e),i}finishDraft(n,e){const i=n&&n[It];(!i||!i.isManual_)&&Gt(9);const{scope_:s}=i;return Zp(s,e),tm(void 0,s)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let i;for(i=e.length-1;i>=0;i--){const l=e[i];if(l.path.length===0&&l.op==="replace"){n=l.value;break}}i>-1&&(e=e.slice(i+1));const s=_r("Patches").applyPatches_;return yr(n)?s(n,e):this.produce(n,l=>s(l,e))}};function xc(n,e){const i=Ll(n)?_r("MapSet").proxyMap_(n,e):bl(n)?_r("MapSet").proxySet_(n,e):wE(n,e);return(e?e.scope_:kg()).drafts_.push(i),i}function SE(n){return yr(n)||Gt(10,n),Tg(n)}function Tg(n){if(!wn(n)||Fl(n))return n;const e=n[It];let i;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,i=wc(n,e.scope_.immer_.useStrictShallowCopy_)}else i=wc(n,!0);return ul(i,(s,l)=>{xg(i,s,Tg(l))}),e&&(e.finalized_=!1),i}var Tt=new CE,Ng=Tt.produce;Tt.produceWithPatches.bind(Tt);Tt.setAutoFreeze.bind(Tt);Tt.setUseStrictShallowCopy.bind(Tt);Tt.applyPatches.bind(Tt);Tt.createDraft.bind(Tt);Tt.finishDraft.bind(Tt);function Rg(n){return({dispatch:i,getState:s})=>l=>u=>typeof u=="function"?u(i,s,n):l(u)}var xE=Rg(),kE=Rg,IE=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?al:al.apply(null,arguments)};function rm(n,e){function i(...s){if(e){let l=e(...s);if(!l)throw new Error(_n(0));return{type:n,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:n,payload:s[0]}}return i.toString=()=>`${n}`,i.type=n,i.match=s=>hE(s)&&s.type===n,i}var Pg=class ls extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ls.prototype)}static get[Symbol.species](){return ls}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ls(...e[0].concat(this)):new ls(...e.concat(this))}};function im(n){return wn(n)?Ng(n,()=>{}):n}function sm(n,e,i){return n.has(e)?n.get(e):n.set(e,i(e)).get(e)}function TE(n){return typeof n=="boolean"}var NE=()=>function(e){const{thunk:i=!0,immutableCheck:s=!0,serializableCheck:l=!0,actionCreatorCheck:u=!0}=e??{};let d=new Pg;return i&&(TE(i)?d.push(xE):d.push(kE(i.extraArgument))),d},RE="RTK_autoBatch",om=n=>e=>{setTimeout(e,n)},PE=(n={type:"raf"})=>e=>(...i)=>{const s=e(...i);let l=!0,u=!1,d=!1;const h=new Set,p=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:om(10):n.type==="callback"?n.queueNotification:om(n.timeout),m=()=>{d=!1,u&&(u=!1,h.forEach(y=>y()))};return Object.assign({},s,{subscribe(y){const _=()=>l&&y(),v=s.subscribe(_);return h.add(y),()=>{v(),h.delete(y)}},dispatch(y){var _;try{return l=!((_=y==null?void 0:y.meta)!=null&&_[RE]),u=!l,u&&(d||(d=!0,p(m))),s.dispatch(y)}finally{l=!0}}})},DE=n=>function(i){const{autoBatch:s=!0}=i??{};let l=new Pg(n);return s&&l.push(PE(typeof s=="object"?s:void 0)),l};function OE(n){const e=NE(),{reducer:i=void 0,middleware:s,devTools:l=!0,preloadedState:u=void 0,enhancers:d=void 0}=n;let h;if(typeof i=="function")h=i;else if(Zc(i))h=dE(i);else throw new Error(_n(1));let p;typeof s=="function"?p=s(e):p=e();let m=al;l&&(m=IE({trace:!1,...typeof l=="object"&&l}));const y=fE(...p),_=DE(y);let v=typeof d=="function"?d(_):_();const k=m(...v);return Eg(h,u,k)}function Dg(n){const e={},i=[];let s;const l={addCase(u,d){const h=typeof u=="string"?u:u.type;if(!h)throw new Error(_n(28));if(h in e)throw new Error(_n(29));return e[h]=d,l},addMatcher(u,d){return i.push({matcher:u,reducer:d}),l},addDefaultCase(u){return s=u,l}};return n(l),[e,i,s]}function AE(n){return typeof n=="function"}function ME(n,e){let[i,s,l]=Dg(e),u;if(AE(n))u=()=>im(n());else{const h=im(n);u=()=>h}function d(h=u(),p){let m=[i[p.type],...s.filter(({matcher:y})=>y(p)).map(({reducer:y})=>y)];return m.filter(y=>!!y).length===0&&(m=[l]),m.reduce((y,_)=>{if(_)if(yr(y)){const k=_(y,p);return k===void 0?y:k}else{if(wn(y))return Ng(y,v=>_(v,p));{const v=_(y,p);if(v===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return y},h)}return d.getInitialState=u,d}var LE=Symbol.for("rtk-slice-createasyncthunk");function bE(n,e){return`${n}/${e}`}function FE({creators:n}={}){var i;const e=(i=n==null?void 0:n.asyncThunk)==null?void 0:i[LE];return function(l){const{name:u,reducerPath:d=u}=l;if(!u)throw new Error(_n(11));const h=(typeof l.reducers=="function"?l.reducers(zE()):l.reducers)||{},p=Object.keys(h),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},y={addCase(U,W){const X=typeof U=="string"?U:U.type;if(!X)throw new Error(_n(12));if(X in m.sliceCaseReducersByType)throw new Error(_n(13));return m.sliceCaseReducersByType[X]=W,y},addMatcher(U,W){return m.sliceMatchers.push({matcher:U,reducer:W}),y},exposeAction(U,W){return m.actionCreators[U]=W,y},exposeCaseReducer(U,W){return m.sliceCaseReducersByName[U]=W,y}};p.forEach(U=>{const W=h[U],X={reducerName:U,type:bE(u,U),createNotation:typeof l.reducers=="function"};BE(W)?$E(X,W,y,e):UE(X,W,y)});function _(){const[U={},W=[],X=void 0]=typeof l.extraReducers=="function"?Dg(l.extraReducers):[l.extraReducers],re={...U,...m.sliceCaseReducersByType};return ME(l.initialState,oe=>{for(let ce in re)oe.addCase(ce,re[ce]);for(let ce of m.sliceMatchers)oe.addMatcher(ce.matcher,ce.reducer);for(let ce of W)oe.addMatcher(ce.matcher,ce.reducer);X&&oe.addDefaultCase(X)})}const v=U=>U,k=new Map;let S;function R(U,W){return S||(S=_()),S(U,W)}function T(){return S||(S=_()),S.getInitialState()}function O(U,W=!1){function X(oe){let ce=oe[U];return typeof ce>"u"&&W&&(ce=T()),ce}function re(oe=v){const ce=sm(k,W,()=>new WeakMap);return sm(ce,oe,()=>{const Ee={};for(const[q,ie]of Object.entries(l.selectors??{}))Ee[q]=jE(ie,oe,T,W);return Ee})}return{reducerPath:U,getSelectors:re,get selectors(){return re(X)},selectSlice:X}}const A={name:u,reducer:R,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:T,...O(d),injectInto(U,{reducerPath:W,...X}={}){const re=W??d;return U.inject({reducerPath:re,reducer:R},X),{...A,...O(re,!0)}}};return A}}function jE(n,e,i,s){function l(u,...d){let h=e(u);return typeof h>"u"&&s&&(h=i()),n(h,...d)}return l.unwrapped=n,l}var Og=FE();function zE(){function n(e,i){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...i}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...i){return e(...i)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,i){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:i}},asyncThunk:n}}function UE({type:n,reducerName:e,createNotation:i},s,l){let u,d;if("reducer"in s){if(i&&!WE(s))throw new Error(_n(17));u=s.reducer,d=s.prepare}else u=s;l.addCase(n,u).exposeCaseReducer(e,u).exposeAction(e,d?rm(n,d):rm(n))}function BE(n){return n._reducerDefinitionType==="asyncThunk"}function WE(n){return n._reducerDefinitionType==="reducerWithPrepare"}function $E({type:n,reducerName:e},i,s,l){if(!l)throw new Error(_n(18));const{payloadCreator:u,fulfilled:d,pending:h,rejected:p,settled:m,options:y}=i,_=l(n,u,y);s.exposeAction(e,_),d&&s.addCase(_.fulfilled,d),h&&s.addCase(_.pending,h),p&&s.addCase(_.rejected,p),m&&s.addMatcher(_.settled,m),s.exposeCaseReducer(e,{fulfilled:d||el,pending:h||el,rejected:p||el,settled:m||el})}function el(){}function _n(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const lm={nickname:"",playerId:"",isHost:!1,gamepin:""},Ag=Og({name:"session",initialState:lm,reducers:{setNickname:(n,e)=>{n.nickname=e.payload},setPlayerId:(n,e)=>{n.playerId=e.payload},setIsHost:(n,e)=>{n.isHost=e.payload},setGamepin:(n,e)=>{n.gamepin=e.payload},resetDefaults:()=>lm}}),{setNickname:Mg,setPlayerId:Lg,setIsHost:HE,setGamepin:bg,resetDefaults:VE}=Ag.actions,GE=Ag.reducer,QE={message:""},Fg=Og({name:"message",initialState:QE,reducers:{setMessage:(n,e)=>{n.message=e.payload},clearMessage:n=>{n.message=""}}}),{setMessage:nd,clearMessage:KE}=Fg.actions,YE=Fg.reducer,qE=OE({reducer:{session:GE,message:YE}}),Os=iE.withTypes(),gr=lE.withTypes();function XE(){const n=Os(),e=gr(i=>i.message.message);return P.useEffect(()=>{if(n(VE()),e){const i=setTimeout(()=>{n(KE())},5e3);return()=>clearTimeout(i)}},[]),M.jsx(M.Fragment,{children:M.jsxs("div",{className:"h-screen flex flex-col justify-center items-center",children:[M.jsx("img",{src:"/spy_icon.svg",className:"w-48 h-48"}),M.jsx("h1",{className:"text-6xl font-bold py-16",children:"Spyfall"}),M.jsxs("div",{className:"flex justify-items-center flex-col w-28 space-y-4 mx-auto mb-8",children:[M.jsx(ps,{to:"/create",children:M.jsx("button",{className:"w-full border rounded-md p-2 border-slate-600 bg-slate-400 hover:bg-slate-500 hover:text-white",children:"Create Game"})}),M.jsx(ps,{to:"/join",children:M.jsx("button",{className:"w-full border rounded-md p-2 border-slate-600 bg-slate-400 hover:bg-slate-500 hover:text-white",children:"Join Game"})})]}),M.jsx("p",{className:"text-red-400 font-bold h-8",children:e})]})})}var am={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B=function(n,e){if(!n)throw ui(e)},ui=function(n){return new Error("Firebase Database ("+jg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg=function(n){const e=[];let i=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},JE=function(n){const e=[];let i=0,s=0;for(;i<n.length;){const l=n[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=n[i++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=n[i++],d=n[i++],h=n[i++],p=((l&7)<<18|(u&63)<<12|(d&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=n[i++],d=n[i++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},rd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<n.length;l+=3){const u=n[l],d=l+1<n.length,h=d?n[l+1]:0,p=l+2<n.length,m=p?n[l+2]:0,y=u>>2,_=(u&3)<<4|h>>4;let v=(h&15)<<2|m>>6,k=m&63;p||(k=64,d||(v=64)),s.push(i[y],i[_],i[v],i[k])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(zg(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):JE(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<n.length;){const u=i[n.charAt(l++)],h=l<n.length?i[n.charAt(l)]:0;++l;const m=l<n.length?i[n.charAt(l)]:64;++l;const _=l<n.length?i[n.charAt(l)]:64;if(++l,u==null||h==null||m==null||_==null)throw new ZE;const v=u<<2|h>>4;if(s.push(v),m!==64){const k=h<<4&240|m>>2;if(s.push(k),_!==64){const S=m<<6&192|_;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ZE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ug=function(n){const e=zg(n);return rd.encodeByteArray(e,!0)},fl=function(n){return Ug(n).replace(/\./g,"")},kc=function(n){try{return rd.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(n){return Bg(void 0,n)}function Bg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!t1(i)||(n[i]=Bg(n[i],e[i]));return n}function t1(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=()=>n1().__FIREBASE_DEFAULTS__,i1=()=>{if(typeof process>"u"||typeof am>"u")return;const n=am.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},s1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&kc(n[1]);return e&&JSON.parse(e)},Wg=()=>{try{return r1()||i1()||s1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},o1=n=>{var e,i;return(i=(e=Wg())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[n]},l1=n=>{const e=o1(n);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},$g=()=>{var n;return(n=Wg())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fl(JSON.stringify(i)),fl(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u1())}function c1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vg(){return jg.NODE_ADMIN===!0}function d1(){try{return typeof indexedDB=="object"}catch{return!1}}function f1(){return new Promise((n,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),n(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="FirebaseError";class Ms extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=h1,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gg.prototype.create)}}class Gg{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?p1(u,s):"Error",h=`${this.serviceName}: ${d} (${l}).`;return new Ms(l,h,s)}}function p1(n,e){return n.replace(m1,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const m1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(n){return JSON.parse(n)}function Ge(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=function(n){let e={},i={},s={},l="";try{const u=n.split(".");e=ys(kc(u[0])||""),i=ys(kc(u[1])||""),l=u[2],s=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:s,signature:l}},g1=function(n){const e=Qg(n),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},y1=function(n){const e=Qg(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ni(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function um(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function hl(n,e,i){const s={};for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=e.call(i,n[l],l,n));return s}function Ic(n,e){if(n===e)return!0;const i=Object.keys(n),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const u=n[l],d=e[l];if(cm(u)&&cm(d)){if(!Ic(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function cm(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(n){const e=[];for(const[i,s]of Object.entries(n))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const s=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)s[_]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let _=0;_<16;_++)s[_]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let _=16;_<80;_++){const v=s[_-3]^s[_-8]^s[_-14]^s[_-16];s[_]=(v<<1|v>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],d=this.chain_[2],h=this.chain_[3],p=this.chain_[4],m,y;for(let _=0;_<80;_++){_<40?_<20?(m=h^u&(d^h),y=1518500249):(m=u^d^h,y=1859775393):_<60?(m=u&d|h&(u|d),y=2400959708):(m=u^d^h,y=3395469782);const v=(l<<5|l>>>27)+m+p+y+s[_]&4294967295;p=h,h=d,d=(u<<30|u>>>2)&4294967295,u=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const s=i-this.blockSize;let l=0;const u=this.buf_;let d=this.inbuf_;for(;l<i;){if(d===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<i;)if(u[d]=e.charCodeAt(l),++d,++l,d===this.blockSize){this.compress_(u),d=0;break}}else for(;l<i;)if(u[d]=e[l],++d,++l,d===this.blockSize){this.compress_(u),d=0;break}}this.inbuf_=d,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=i&255,i/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[l]>>u&255,++s;return e}}function jl(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=function(n){const e=[];let i=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);if(l>=55296&&l<=56319){const u=l-55296;s++,B(s<n.length,"Surrogate pair missing trail surrogate.");const d=n.charCodeAt(s)-56320;l=65536+(u<<10)+d}l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):l<65536?(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},zl=function(n){let e=0;for(let i=0;i<n.length;i++){const s=n.charCodeAt(i);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(n){return n&&n._delegate?n._delegate:n}class _s{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new As;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S1(e))try{this.getOrInitializeService({instanceIdentifier:hr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hr){return this.instances.has(e)}getOptions(e=hr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);s===h&&d.resolve(l)}return l}onInit(e,i){var s;const l=this.normalizeInstanceIdentifier(i),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const d=this.instances.get(l);return d&&e(d,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:C1(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=hr){return this.component?this.component.multipleInstances?e:hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function C1(n){return n===hr?void 0:n}function S1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new E1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ie||(Ie={}));const k1={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},I1=Ie.INFO,T1={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},N1=(n,e,...i)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),l=T1[e];if(l)console[l](`[${s}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kg{constructor(e){this.name=e,this._logLevel=I1,this._logHandler=N1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const R1=(n,e)=>e.some(i=>n instanceof i);let dm,fm;function P1(){return dm||(dm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D1(){return fm||(fm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yg=new WeakMap,Tc=new WeakMap,qg=new WeakMap,sc=new WeakMap,id=new WeakMap;function O1(n){const e=new Promise((i,s)=>{const l=()=>{n.removeEventListener("success",u),n.removeEventListener("error",d)},u=()=>{i(Hn(n.result)),l()},d=()=>{s(n.error),l()};n.addEventListener("success",u),n.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Yg.set(i,n)}).catch(()=>{}),id.set(e,n),e}function A1(n){if(Tc.has(n))return;const e=new Promise((i,s)=>{const l=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",d),n.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{s(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",u),n.addEventListener("error",d),n.addEventListener("abort",d)});Tc.set(n,e)}let Nc={get(n,e,i){if(n instanceof IDBTransaction){if(e==="done")return Tc.get(n);if(e==="objectStoreNames")return n.objectStoreNames||qg.get(n);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Hn(n[e])},set(n,e,i){return n[e]=i,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function M1(n){Nc=n(Nc)}function L1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=n.call(oc(this),e,...i);return qg.set(s,e.sort?e.sort():[e]),Hn(s)}:D1().includes(n)?function(...e){return n.apply(oc(this),e),Hn(Yg.get(this))}:function(...e){return Hn(n.apply(oc(this),e))}}function b1(n){return typeof n=="function"?L1(n):(n instanceof IDBTransaction&&A1(n),R1(n,P1())?new Proxy(n,Nc):n)}function Hn(n){if(n instanceof IDBRequest)return O1(n);if(sc.has(n))return sc.get(n);const e=b1(n);return e!==n&&(sc.set(n,e),id.set(e,n)),e}const oc=n=>id.get(n);function F1(n,e,{blocked:i,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(n,e),h=Hn(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Hn(d.result),p.oldVersion,p.newVersion,Hn(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),h.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",m=>l(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const j1=["get","getKey","getAll","getAllKeys","count"],z1=["put","add","delete","clear"],lc=new Map;function hm(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(lc.get(e))return lc.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=z1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||j1.includes(i)))return;const u=async function(d,...h){const p=this.transaction(d,l?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[i](...h),l&&p.done]))[0]};return lc.set(e,u),u}M1(n=>({...n,get:(e,i,s)=>hm(e,i)||n.get(e,i,s),has:(e,i)=>!!hm(e,i)||n.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(B1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function B1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rc="@firebase/app",pm="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En=new Kg("@firebase/app"),W1="@firebase/app-compat",$1="@firebase/analytics-compat",H1="@firebase/analytics",V1="@firebase/app-check-compat",G1="@firebase/app-check",Q1="@firebase/auth",K1="@firebase/auth-compat",Y1="@firebase/database",q1="@firebase/data-connect",X1="@firebase/database-compat",J1="@firebase/functions",Z1="@firebase/functions-compat",eC="@firebase/installations",tC="@firebase/installations-compat",nC="@firebase/messaging",rC="@firebase/messaging-compat",iC="@firebase/performance",sC="@firebase/performance-compat",oC="@firebase/remote-config",lC="@firebase/remote-config-compat",aC="@firebase/storage",uC="@firebase/storage-compat",cC="@firebase/firestore",dC="@firebase/vertexai",fC="@firebase/firestore-compat",hC="firebase",pC="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc="[DEFAULT]",mC={[Rc]:"fire-core",[W1]:"fire-core-compat",[H1]:"fire-analytics",[$1]:"fire-analytics-compat",[G1]:"fire-app-check",[V1]:"fire-app-check-compat",[Q1]:"fire-auth",[K1]:"fire-auth-compat",[Y1]:"fire-rtdb",[q1]:"fire-data-connect",[X1]:"fire-rtdb-compat",[J1]:"fire-fn",[Z1]:"fire-fn-compat",[eC]:"fire-iid",[tC]:"fire-iid-compat",[nC]:"fire-fcm",[rC]:"fire-fcm-compat",[iC]:"fire-perf",[sC]:"fire-perf-compat",[oC]:"fire-rc",[lC]:"fire-rc-compat",[aC]:"fire-gcs",[uC]:"fire-gcs-compat",[cC]:"fire-fst",[fC]:"fire-fst-compat",[dC]:"fire-vertex","fire-js":"fire-js",[hC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new Map,gC=new Map,Dc=new Map;function mm(n,e){try{n.container.addComponent(e)}catch(i){En.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,i)}}function ml(n){const e=n.name;if(Dc.has(e))return En.debug(`There were multiple attempts to register component ${e}.`),!1;Dc.set(e,n);for(const i of pl.values())mm(i,n);for(const i of gC.values())mm(i,n);return!0}function yC(n,e){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vn=new Gg("app","Firebase",_C);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=pC;function Xg(n,e={}){let i=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Pc,automaticDataCollectionEnabled:!1},e),l=s.name;if(typeof l!="string"||!l)throw Vn.create("bad-app-name",{appName:String(l)});if(i||(i=$g()),!i)throw Vn.create("no-options");const u=pl.get(l);if(u){if(Ic(i,u.options)&&Ic(s,u.config))return u;throw Vn.create("duplicate-app",{appName:l})}const d=new x1(l);for(const p of Dc.values())d.addComponent(p);const h=new vC(i,s,d);return pl.set(l,h),h}function EC(n=Pc){const e=pl.get(n);if(!e&&n===Pc&&$g())return Xg();if(!e)throw Vn.create("no-app",{appName:n});return e}function Jr(n,e,i){var s;let l=(s=mC[n])!==null&&s!==void 0?s:n;i&&(l+=`-${i}`);const u=l.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const h=[`Unable to register library "${l}" with version "${e}":`];u&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&d&&h.push("and"),d&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),En.warn(h.join(" "));return}ml(new _s(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="firebase-heartbeat-database",SC=1,vs="firebase-heartbeat-store";let ac=null;function Jg(){return ac||(ac=F1(CC,SC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vs)}catch(i){console.warn(i)}}}}).catch(n=>{throw Vn.create("idb-open",{originalErrorMessage:n.message})})),ac}async function xC(n){try{const i=(await Jg()).transaction(vs),s=await i.objectStore(vs).get(Zg(n));return await i.done,s}catch(e){if(e instanceof Ms)En.warn(e.message);else{const i=Vn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});En.warn(i.message)}}}async function gm(n,e){try{const s=(await Jg()).transaction(vs,"readwrite");await s.objectStore(vs).put(e,Zg(n)),await s.done}catch(i){if(i instanceof Ms)En.warn(i.message);else{const s=Vn.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});En.warn(s.message)}}}function Zg(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=1024,IC=30*24*60*60*1e3;class TC{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new RC(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=ym();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const h=new Date(d.date).valueOf();return Date.now()-h<=IC}),this._storage.overwrite(this._heartbeatsCache))}catch(s){En.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=ym(),{heartbeatsToSend:s,unsentEntries:l}=NC(this._heartbeatsCache.heartbeats),u=fl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return En.warn(i),""}}}function ym(){return new Date().toISOString().substring(0,10)}function NC(n,e=kC){const i=[];let s=n.slice();for(const l of n){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),_m(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),_m(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class RC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d1()?f1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await xC(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return gm(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return gm(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function _m(n){return fl(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(n){ml(new _s("platform-logger",e=>new U1(e),"PRIVATE")),ml(new _s("heartbeat",e=>new TC(e),"PRIVATE")),Jr(Rc,pm,n),Jr(Rc,pm,"esm2017"),Jr("fire-js","")}PC("");var DC="firebase",OC="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr(DC,OC,"app");var vm={};const wm="@firebase/database",Em="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ey="";function AC(n){ey=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ge(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:ys(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return sn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new MC(e)}}catch{}return new LC},mr=ty("localStorage"),bC=ty("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new Kg("@firebase/database"),FC=function(){let n=1;return function(){return n++}}(),ny=function(n){const e=w1(n),i=new v1;i.update(e);const s=i.digest();return rd.encodeByteArray(s)},Ls=function(...n){let e="";for(let i=0;i<n.length;i++){const s=n[i];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Ls.apply(null,s):typeof s=="object"?e+=Ge(s):e+=s,e+=" "}return e};let as=null,Cm=!0;const jC=function(n,e){B(!e,"Can't turn on custom loggers persistently."),Zr.logLevel=Ie.VERBOSE,as=Zr.log.bind(Zr)},nt=function(...n){if(Cm===!0&&(Cm=!1,as===null&&bC.get("logging_enabled")===!0&&jC()),as){const e=Ls.apply(null,n);as(e)}},bs=function(n){return function(...e){nt(n,...e)}},Oc=function(...n){const e="FIREBASE INTERNAL ERROR: "+Ls(...n);Zr.error(e)},Cn=function(...n){const e=`FIREBASE FATAL ERROR: ${Ls(...n)}`;throw Zr.error(e),new Error(e)},ft=function(...n){const e="FIREBASE WARNING: "+Ls(...n);Zr.warn(e)},zC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ft("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},sd=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},UC=function(n){if(document.readyState==="complete")n();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},ri="[MIN_NAME]",vr="[MAX_NAME]",xr=function(n,e){if(n===e)return 0;if(n===ri||e===vr)return-1;if(e===ri||n===vr)return 1;{const i=Sm(n),s=Sm(e);return i!==null?s!==null?i-s===0?n.length-e.length:i-s:-1:s!==null?1:n<e?-1:1}},BC=function(n,e){return n===e?0:n<e?-1:1},ns=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Ge(e))},od=function(n){if(typeof n!="object"||n===null)return Ge(n);const e=[];for(const s in n)e.push(s);e.sort();let i="{";for(let s=0;s<e.length;s++)s!==0&&(i+=","),i+=Ge(e[s]),i+=":",i+=od(n[e[s]]);return i+="}",i},ry=function(n,e){const i=n.length;if(i<=e)return[n];const s=[];for(let l=0;l<i;l+=e)l+e>i?s.push(n.substring(l,i)):s.push(n.substring(l,l+e));return s};function rt(n,e){for(const i in n)n.hasOwnProperty(i)&&e(i,n[i])}const iy=function(n){B(!sd(n),"Invalid JSON number");const e=11,i=52,s=(1<<e-1)-1;let l,u,d,h,p;n===0?(u=0,d=0,l=1/n===-1/0?1:0):(l=n<0,n=Math.abs(n),n>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),s),u=h+s,d=Math.round(n*Math.pow(2,i-h)-Math.pow(2,i))):(u=0,d=Math.round(n/Math.pow(2,1-s-i))));const m=[];for(p=i;p;p-=1)m.push(d%2?1:0),d=Math.floor(d/2);for(p=e;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(l?1:0),m.reverse();const y=m.join("");let _="";for(p=0;p<64;p+=8){let v=parseInt(y.substr(p,8),2).toString(16);v.length===1&&(v="0"+v),_=_+v}return _.toLowerCase()},WC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$C=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function HC(n,e){let i="Unknown Error";n==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?i="Client doesn't have permission to access the desired data.":n==="unavailable"&&(i="The service is unavailable");const s=new Error(n+" at "+e._path.toString()+": "+i);return s.code=n.toUpperCase(),s}const VC=new RegExp("^-?(0*)\\d{1,10}$"),GC=-2147483648,QC=2147483647,Sm=function(n){if(VC.test(n)){const e=Number(n);if(e>=GC&&e<=QC)return e}return null},di=function(n){try{n()}catch(e){setTimeout(()=>{const i=e.stack||"";throw ft("Exception was thrown by user callback.",i),e},Math.floor(0))}},KC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},us=function(n,e){const i=setTimeout(n,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,i){this.appName_=e,this.appCheckProvider=i,this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((i,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,s):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){ft(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,i,s){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(nt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,s):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ft(e)}}class sl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}sl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="5",sy="v",oy="s",ly="r",ay="f",uy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cy="ls",dy="p",Ac="ac",fy="websocket",hy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,i,s,l,u=!1,d="",h=!1,p=!1){this.secure=i,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=d,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=mr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&mr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function XC(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function my(n,e,i){B(typeof e=="string","typeof type must == string"),B(typeof i=="object","typeof params must == object");let s;if(e===fy)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===hy)s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);XC(n)&&(i.ns=n.namespace);const l=[];return rt(i,(u,d)=>{l.push(u+"="+d)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.counters_={}}incrementCounter(e,i=1){sn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return e1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc={},cc={};function ad(n){const e=n.toString();return uc[e]||(uc[e]=new JC),uc[e]}function ZC(n,e){const i=n.toString();return cc[i]||(cc[i]=e()),cc[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&di(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="start",tS="close",nS="pLPCommand",rS="pRTLPCB",gy="id",yy="pw",_y="ser",iS="cb",sS="seg",oS="ts",lS="d",aS="dframe",vy=1870,wy=30,uS=vy-wy,cS=25e3,dS=3e4;class Xr{constructor(e,i,s,l,u,d,h){this.connId=e,this.repoInfo=i,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.transportSessionId=d,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bs(e),this.stats_=ad(i),this.urlFn=p=>(this.appCheckToken&&(p[Ac]=this.appCheckToken),my(i,hy,p))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new eS(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(dS)),UC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ud((...u)=>{const[d,h,p,m,y]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===xm)this.id=h,this.password=p;else if(d===tS)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...u)=>{const[d,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(d,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[xm]="t",s[_y]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[iS]=this.scriptTagHolder.uniqueCallbackIdentifier),s[sy]=ld,this.transportSessionId&&(s[oy]=this.transportSessionId),this.lastSessionId&&(s[cy]=this.lastSessionId),this.applicationId&&(s[dy]=this.applicationId),this.appCheckToken&&(s[Ac]=this.appCheckToken),typeof location<"u"&&location.hostname&&uy.test(location.hostname)&&(s[ly]=ay);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xr.forceAllow_=!0}static forceDisallow(){Xr.forceDisallow_=!0}static isAvailable(){return Xr.forceAllow_?!0:!Xr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!WC()&&!$C()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=Ge(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=Ug(i),l=ry(s,uS);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const s={};s[aS]="t",s[gy]=e,s[yy]=i,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=Ge(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class ud{constructor(e,i,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=FC(),window[nS+this.uniqueCallbackIdentifier]=e,window[rS+this.uniqueCallbackIdentifier]=i,this.myIFrame=ud.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(h){nt("frame writing exception"),h.stack&&nt(h.stack),nt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||nt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[gy]=this.myID,e[yy]=this.myPW,e[_y]=this.currentSerial;let i=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+wy+s.length<=vy;){const d=this.pendingSegs.shift();s=s+"&"+sS+l+"="+d.seg+"&"+oS+l+"="+d.ts+"&"+lS+l+"="+d.d,l++}return i=i+s,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,s){this.pendingSegs.push({seg:e,ts:i,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const s=()=>{this.outstandingRequests.delete(i),this.newRequest_()},l=setTimeout(s,Math.floor(cS)),u=()=>{clearTimeout(l),s()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),i())},s.onerror=()=>{nt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=16384,hS=45e3;let gl=null;typeof MozWebSocket<"u"?gl=MozWebSocket:typeof WebSocket<"u"&&(gl=WebSocket);class tn{constructor(e,i,s,l,u,d,h){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bs(this.connId),this.stats_=ad(i),this.connURL=tn.connectionURL_(i,d,h,l,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,s,l,u){const d={};return d[sy]=ld,typeof location<"u"&&location.hostname&&uy.test(location.hostname)&&(d[ly]=ay),i&&(d[oy]=i),s&&(d[cy]=s),l&&(d[Ac]=l),u&&(d[dy]=u),my(e,fy,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,mr.set("previous_websocket_failure",!0);try{let s;Vg(),this.mySock=new gl(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){tn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(i);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&gl!==null&&!tn.forceDisallow_}static previouslyFailed(){return mr.isInMemoryStorage||mr.get("previous_websocket_failure")===!0}markConnectionHealthy(){mr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const s=ys(i);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(B(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const s=this.extractFrameCount_(i);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const i=Ge(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=ry(i,fS);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(hS))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tn.responsesRequiredToBeHealthy=2;tn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{static get ALL_TRANSPORTS(){return[Xr,tn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=tn.isAvailable();let s=i&&!tn.previouslyFailed();if(e.webSocketOnly&&(i||ft("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[tn];else{const l=this.transports_=[];for(const u of ws.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);ws.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ws.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=6e4,mS=5e3,gS=10*1024,yS=100*1024,dc="t",km="d",_S="s",Im="r",vS="e",Tm="o",Nm="a",Rm="n",Pm="p",wS="h";class ES{constructor(e,i,s,l,u,d,h,p,m,y){this.id=e,this.repoInfo_=i,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=d,this.onReady_=h,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bs("c:"+this.id+":"),this.transportManager_=new ws(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=us(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>yS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>gS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(dc in e){const i=e[dc];i===Nm?this.upgradeIfSecondaryHealthy_():i===Im?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Tm&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=ns("t",e),s=ns("d",e);if(i==="c")this.onSecondaryControl_(s);else if(i==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Pm,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Nm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Rm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=ns("t",e),s=ns("d",e);i==="c"?this.onControl_(s):i==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=ns(dc,e);if(km in e){const s=e[km];if(i===wS){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(i===Rm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===_S?this.onConnectionShutdown_(s):i===Im?this.onReset_(s):i===vS?Oc("Server Error: "+s):i===Tm?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Oc("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),ld!==s&&ft("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,s),us(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(pS))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):us(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(mS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Pm,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(mr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{put(e,i,s,l){}merge(e,i,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,s){}onDisconnectMerge(e,i,s){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e){this.allowedEvents_=e,this.listeners_={},B(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,i)}}on(e,i,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:s});const l=this.getInitialEvent(e);l&&i.apply(s,l)}off(e,i,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===i&&(!s||s===l[u].context)){l.splice(u,1);return}}validateEventType_(e){B(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends Cy{static getInstance(){return new yl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Hg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return B(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=32,Om=768;class we{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function ye(){return new we("")}function ae(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function qn(n){return n.pieces_.length-n.pieceNum_}function Te(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new we(n.pieces_,e)}function cd(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function CS(n){let e="";for(let i=n.pieceNum_;i<n.pieces_.length;i++)n.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[i])));return e||"/"}function Es(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Sy(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let i=n.pieceNum_;i<n.pieces_.length-1;i++)e.push(n.pieces_[i]);return new we(e,0)}function je(n,e){const i=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)i.push(n.pieces_[s]);if(e instanceof we)for(let s=e.pieceNum_;s<e.pieces_.length;s++)i.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&i.push(s[l])}return new we(i,0)}function fe(n){return n.pieceNum_>=n.pieces_.length}function dt(n,e){const i=ae(n),s=ae(e);if(i===null)return e;if(i===s)return dt(Te(n),Te(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function SS(n,e){const i=Es(n,0),s=Es(e,0);for(let l=0;l<i.length&&l<s.length;l++){const u=xr(i[l],s[l]);if(u!==0)return u}return i.length===s.length?0:i.length<s.length?-1:1}function dd(n,e){if(qn(n)!==qn(e))return!1;for(let i=n.pieceNum_,s=e.pieceNum_;i<=n.pieces_.length;i++,s++)if(n.pieces_[i]!==e.pieces_[s])return!1;return!0}function Ft(n,e){let i=n.pieceNum_,s=e.pieceNum_;if(qn(n)>qn(e))return!1;for(;i<n.pieces_.length;){if(n.pieces_[i]!==e.pieces_[s])return!1;++i,++s}return!0}class xS{constructor(e,i){this.errorPrefix_=i,this.parts_=Es(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=zl(this.parts_[s]);xy(this)}}function kS(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=zl(e),xy(n)}function IS(n){const e=n.parts_.pop();n.byteLength_-=zl(e),n.parts_.length>0&&(n.byteLength_-=1)}function xy(n){if(n.byteLength_>Om)throw new Error(n.errorPrefix_+"has a key path longer than "+Om+" bytes ("+n.byteLength_+").");if(n.parts_.length>Dm)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Dm+") or object contains a cycle "+pr(n))}function pr(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends Cy{static getInstance(){return new fd}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return B(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=1e3,TS=60*5*1e3,Am=30*1e3,NS=1.3,RS=3e4,PS="server_kill",Mm=3;class vn extends Ey{constructor(e,i,s,l,u,d,h,p){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=vn.nextPersistentConnectionId_++,this.log_=bs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=rs,this.maxReconnectDelay_=TS,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p&&!Vg())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");fd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&yl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,s){const l=++this.requestNumber_,u={r:l,a:e,b:i};this.log_(Ge(u)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const i=new As,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:d=>{const h=d.d;d.s==="ok"?i.resolve(h):i.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,s,l){this.initConnection_();const u=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+u),this.listens.has(d)||this.listens.set(d,new Map),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(d).has(u),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:i,query:e,tag:s};this.listens.get(d).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})}sendListen_(e){const i=e.query,s=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+s+" for "+l);const u={p:s},d="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(d,u,h=>{const p=h.d,m=h.s;vn.warnOnListenWarnings_(p,i),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&sn(e,"w")){const s=ni(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();ft(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||y1(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Am)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=g1(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,l=>{const u=l.s,d=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,s=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,s)})}unlisten(e,i){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,i)}sendUnlisten_(e,i,s,l){this.log_("Unlisten on "+e+" for "+i);const u={p:e},d="n";l&&(u.q=s,u.t=l),this.sendRequest(d,u)}onDisconnectPut(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:s})}onDisconnectMerge(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:s})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,s,l){const u={p:i,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,d=>{l&&setTimeout(()=>{l(d.s,d.d)},Math.floor(0))})}put(e,i,s,l){this.putInternal("p",e,i,s,l)}merge(e,i,s,l){this.putInternal("m",e,i,s,l)}putInternal(e,i,s,l,u){this.initConnection_();const d={p:i,d:s};u!==void 0&&(d.h=u),this.outstandingPuts_.push({action:e,request:d,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,s,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ge(e));const i=e.r,s=this.requestCBHash_[i];s&&(delete this.requestCBHash_[i],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):Oc("Unrecognized action received from server: "+Ge(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=rs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>RS&&(this.reconnectDelay_=rs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*NS)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+vn.nextConnectionId_++,u=this.lastSessionId;let d=!1,h=null;const p=function(){h?h.close():(d=!0,s())},m=function(_){B(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(_)};this.realtime_={close:p,sendRequest:m};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,v]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);d?nt("getToken() completed but was canceled"):(nt("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=v&&v.token,h=new ES(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,s,k=>{ft(k+" ("+this.repoInfo_.toString()+")"),this.interrupt(PS)},u))}catch(_){this.log_("Failed to get token: "+_),d||(this.repoInfo_.nodeAdmin&&ft(_),p())}}}interrupt(e){nt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){nt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],um(this.interruptReasons_)&&(this.reconnectDelay_=rs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let s;i?s=i.map(u=>od(u)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const s=new we(e).toString();let l;if(this.listens.has(s)){const u=this.listens.get(s);l=u.get(i),u.delete(i),u.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,i){nt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Mm&&(this.reconnectDelay_=Am,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){nt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Mm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+ey.replace(/\./g,"-")]=1,Hg()?e["framework.cordova"]=1:c1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=yl.getInstance().currentlyOnline();return um(this.interruptReasons_)&&e}}vn.nextPersistentConnectionId_=0;vn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new ue(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const s=new ue(ri,e),l=new ue(ri,i);return this.compare(s,l)!==0}minPost(){return ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tl;class ky extends Ul{static get __EMPTY_NODE(){return tl}static set __EMPTY_NODE(e){tl=e}compare(e,i){return xr(e.name,i.name)}isDefinedOn(e){throw ui("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return ue.MIN}maxPost(){return new ue(vr,tl)}makePost(e,i){return B(typeof e=="string","KeyIndex indexValue must always be a string."),new ue(e,tl)}toString(){return".key"}}const ei=new ky;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,i,s,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let d=1;for(;!e.isEmpty();)if(e=e,d=i?s(e.key,i):1,l&&(d*=-1),d<0)this.isReverse_?e=e.left:e=e.right;else if(d===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Xe{constructor(e,i,s,l,u){this.key=e,this.value=i,this.color=s??Xe.RED,this.left=l??wt.EMPTY_NODE,this.right=u??wt.EMPTY_NODE}copy(e,i,s,l,u){return new Xe(e??this.key,i??this.value,s??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const u=s(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,i,s),null):u===0?l=l.copy(null,i,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return wt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let s,l;if(s=this,i(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,i),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),i(e,s.key)===0){if(s.right.isEmpty())return wt.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,i))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Xe.RED=!0;Xe.BLACK=!1;class DS{copy(e,i,s,l,u){return this}insert(e,i,s){return new Xe(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class wt{constructor(e,i=wt.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new wt(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,Xe.BLACK,null,null))}remove(e){return new wt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xe.BLACK,null,null))}get(e){let i,s=this.root_;for(;!s.isEmpty();){if(i=this.comparator_(e,s.key),i===0)return s.value;i<0?s=s.left:i>0&&(s=s.right)}return null}getPredecessorKey(e){let i,s=this.root_,l=null;for(;!s.isEmpty();)if(i=this.comparator_(e,s.key),i===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else i<0?s=s.left:i>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new nl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new nl(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new nl(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new nl(this.root_,null,this.comparator_,!0,e)}}wt.EMPTY_NODE=new DS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(n,e){return xr(n.name,e.name)}function hd(n,e){return xr(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc;function AS(n){Mc=n}const Iy=function(n){return typeof n=="number"?"number:"+iy(n):"string:"+n},Ty=function(n){if(n.isLeafNode()){const e=n.val();B(typeof e=="string"||typeof e=="number"||typeof e=="object"&&sn(e,".sv"),"Priority must be a string or number.")}else B(n===Mc||n.isEmpty(),"priority of unexpected type.");B(n===Mc||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lm;class qe{static set __childrenNodeConstructor(e){Lm=e}static get __childrenNodeConstructor(){return Lm}constructor(e,i=qe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ty(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new qe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return fe(e)?this:ae(e)===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:qe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const s=ae(e);return s===null?i:i.isEmpty()&&s!==".priority"?this:(B(s!==".priority"||qn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,qe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Te(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Iy(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=iy(this.value_):e+=this.value_,this.lazyHash_=ny(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===qe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof qe.__childrenNodeConstructor?-1:(B(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,s=typeof this.value_,l=qe.VALUE_TYPE_ORDER.indexOf(i),u=qe.VALUE_TYPE_ORDER.indexOf(s);return B(l>=0,"Unknown leaf type: "+i),B(u>=0,"Unknown leaf type: "+s),l===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}qe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ny,Ry;function MS(n){Ny=n}function LS(n){Ry=n}class bS extends Ul{compare(e,i){const s=e.node.getPriority(),l=i.node.getPriority(),u=s.compareTo(l);return u===0?xr(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(vr,new qe("[PRIORITY-POST]",Ry))}makePost(e,i){const s=Ny(e);return new ue(i,new qe("[PRIORITY-POST]",s))}toString(){return".priority"}}const ze=new bS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=Math.log(2);class jS{constructor(e){const i=u=>parseInt(Math.log(u)/FS,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const _l=function(n,e,i,s){n.sort(e);const l=function(p,m){const y=m-p;let _,v;if(y===0)return null;if(y===1)return _=n[p],v=i?i(_):_,new Xe(v,_.node,Xe.BLACK,null,null);{const k=parseInt(y/2,10)+p,S=l(p,k),R=l(k+1,m);return _=n[k],v=i?i(_):_,new Xe(v,_.node,Xe.BLACK,S,R)}},u=function(p){let m=null,y=null,_=n.length;const v=function(S,R){const T=_-S,O=_;_-=S;const A=l(T+1,O),U=n[T],W=i?i(U):U;k(new Xe(W,U.node,R,null,A))},k=function(S){m?(m.left=S,m=S):(y=S,m=S)};for(let S=0;S<p.count;++S){const R=p.nextBitIsOne(),T=Math.pow(2,p.count-(S+1));R?v(T,Xe.BLACK):(v(T,Xe.BLACK),v(T,Xe.RED))}return y},d=new jS(n.length),h=u(d);return new wt(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc;const is={};class mn{static get Default(){return B(ze,"ChildrenNode.ts has not been loaded"),fc=fc||new mn({".priority":is},{".priority":ze}),fc}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=ni(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof wt?i:null}hasIndex(e){return sn(this.indexSet_,e.toString())}addIndex(e,i){B(e!==ei,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const u=i.getIterator(ue.Wrap);let d=u.getNext();for(;d;)l=l||e.isDefinedOn(d.node),s.push(d),d=u.getNext();let h;l?h=_l(s,e.getCompare()):h=is;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const y=Object.assign({},this.indexes_);return y[p]=h,new mn(y,m)}addToIndexes(e,i){const s=hl(this.indexes_,(l,u)=>{const d=ni(this.indexSet_,u);if(B(d,"Missing index implementation for "+u),l===is)if(d.isDefinedOn(e.node)){const h=[],p=i.getIterator(ue.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&h.push(m),m=p.getNext();return h.push(e),_l(h,d.getCompare())}else return is;else{const h=i.get(e.name);let p=l;return h&&(p=p.remove(new ue(e.name,h))),p.insert(e,e.node)}});return new mn(s,this.indexSet_)}removeFromIndexes(e,i){const s=hl(this.indexes_,l=>{if(l===is)return l;{const u=i.get(e.name);return u?l.remove(new ue(e.name,u)):l}});return new mn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ss;class te{static get EMPTY_NODE(){return ss||(ss=new te(new wt(hd),null,mn.Default))}constructor(e,i,s){this.children_=e,this.priorityNode_=i,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Ty(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ss}updatePriority(e){return this.children_.isEmpty()?this:new te(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?ss:i}}getChild(e){const i=ae(e);return i===null?this:this.getImmediateChild(i).getChild(Te(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(B(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const s=new ue(e,i);let l,u;i.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(s,this.children_));const d=l.isEmpty()?ss:this.priorityNode_;return new te(l,d,u)}}updateChild(e,i){const s=ae(e);if(s===null)return i;{B(ae(e)!==".priority"||qn(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(Te(e),i);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let s=0,l=0,u=!0;if(this.forEachChild(ze,(d,h)=>{i[d]=h.val(e),s++,u&&te.INTEGER_REGEXP_.test(d)?l=Math.max(l,Number(d)):u=!1}),!e&&u&&l<2*s){const d=[];for(const h in i)d[h]=i[h];return d}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Iy(this.getPriority().val())+":"),this.forEachChild(ze,(i,s)=>{const l=s.hash();l!==""&&(e+=":"+i+":"+l)}),this.lazyHash_=e===""?"":ny(e)}return this.lazyHash_}getPredecessorChildName(e,i,s){const l=this.resolveIndex_(s);if(l){const u=l.getPredecessorKey(new ue(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new ue(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new ue(i,this.children_.get(i)):null}forEachChild(e,i){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,ue.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,ue.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Fs?-1:0}withIndex(e){if(e===ei||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new te(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===ei||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const s=this.getIterator(ze),l=i.getIterator(ze);let u=s.getNext(),d=l.getNext();for(;u&&d;){if(u.name!==d.name||!u.node.equals(d.node))return!1;u=s.getNext(),d=l.getNext()}return u===null&&d===null}else return!1;else return!1}}resolveIndex_(e){return e===ei?null:this.indexMap_.get(e.toString())}}te.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class zS extends te{constructor(){super(new wt(hd),te.EMPTY_NODE,mn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return te.EMPTY_NODE}isEmpty(){return!1}}const Fs=new zS;Object.defineProperties(ue,{MIN:{value:new ue(ri,te.EMPTY_NODE)},MAX:{value:new ue(vr,Fs)}});ky.__EMPTY_NODE=te.EMPTY_NODE;qe.__childrenNodeConstructor=te;AS(Fs);LS(Fs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=!0;function Ve(n,e=null){if(n===null)return te.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),B(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const i=n;return new qe(i,Ve(e))}if(!(n instanceof Array)&&US){const i=[];let s=!1;if(rt(n,(d,h)=>{if(d.substring(0,1)!=="."){const p=Ve(h);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),i.push(new ue(d,p)))}}),i.length===0)return te.EMPTY_NODE;const u=_l(i,OS,d=>d.name,hd);if(s){const d=_l(i,ze.getCompare());return new te(u,Ve(e),new mn({".priority":d},{".priority":ze}))}else return new te(u,Ve(e),mn.Default)}else{let i=te.EMPTY_NODE;return rt(n,(s,l)=>{if(sn(n,s)&&s.substring(0,1)!=="."){const u=Ve(l);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(s,u))}}),i.updatePriority(Ve(e))}}MS(Ve);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS extends Ul{constructor(e){super(),this.indexPath_=e,B(!fe(e)&&ae(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const s=this.extractChild(e.node),l=this.extractChild(i.node),u=s.compareTo(l);return u===0?xr(e.name,i.name):u}makePost(e,i){const s=Ve(e),l=te.EMPTY_NODE.updateChild(this.indexPath_,s);return new ue(i,l)}maxPost(){const e=te.EMPTY_NODE.updateChild(this.indexPath_,Fs);return new ue(vr,e)}toString(){return Es(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS extends Ul{compare(e,i){const s=e.node.compareTo(i.node);return s===0?xr(e.name,i.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(e,i){const s=Ve(e);return new ue(i,s)}toString(){return".value"}}const $S=new WS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(n){return{type:"value",snapshotNode:n}}function ii(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Cs(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Ss(n,e,i){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:i}}function HS(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e){this.index_=e}updateChild(e,i,s,l,u,d){B(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(i);return h.getChild(l).equals(s.getChild(l))&&h.isEmpty()===s.isEmpty()||(d!=null&&(s.isEmpty()?e.hasChild(i)?d.trackChildChange(Cs(i,h)):B(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?d.trackChildChange(ii(i,s)):d.trackChildChange(Ss(i,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(i,s).withIndex(this.index_)}updateFullNode(e,i,s){return s!=null&&(e.isLeafNode()||e.forEachChild(ze,(l,u)=>{i.hasChild(l)||s.trackChildChange(Cs(l,u))}),i.isLeafNode()||i.forEachChild(ze,(l,u)=>{if(e.hasChild(l)){const d=e.getImmediateChild(l);d.equals(u)||s.trackChildChange(Ss(l,u,d))}else s.trackChildChange(ii(l,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?te.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.indexedFilter_=new pd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=xs.getStartPost_(e),this.endPost_=xs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&s}updateChild(e,i,s,l,u,d){return this.matches(new ue(i,s))||(s=te.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,s,l,u,d)}updateFullNode(e,i,s){i.isLeafNode()&&(i=te.EMPTY_NODE);let l=i.withIndex(this.index_);l=l.updatePriority(te.EMPTY_NODE);const u=this;return i.forEachChild(ze,(d,h)=>{u.matches(new ue(d,h))||(l=l.updateImmediateChild(d,te.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,s)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=i=>{const s=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new xs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,s,l,u,d){return this.rangedFilter_.matches(new ue(i,s))||(s=te.EMPTY_NODE),e.getImmediateChild(i).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,s,l,u,d):this.fullLimitUpdateChild_(e,i,s,u,d)}updateFullNode(e,i,s){let l;if(i.isLeafNode()||i.isEmpty())l=te.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){l=te.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;u.hasNext()&&d<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),d++;else break;else continue}}else{l=i.withIndex(this.index_),l=l.updatePriority(te.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let d=0;for(;u.hasNext();){const h=u.getNext();d<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?d++:l=l.updateImmediateChild(h.name,te.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,s)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,s,l,u){let d;if(this.reverse_){const _=this.index_.getCompare();d=(v,k)=>_(k,v)}else d=this.index_.getCompare();const h=e;B(h.numChildren()===this.limit_,"");const p=new ue(i,s),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),y=this.rangedFilter_.matches(p);if(h.hasChild(i)){const _=h.getImmediateChild(i);let v=l.getChildAfterChild(this.index_,m,this.reverse_);for(;v!=null&&(v.name===i||h.hasChild(v.name));)v=l.getChildAfterChild(this.index_,v,this.reverse_);const k=v==null?1:d(v,p);if(y&&!s.isEmpty()&&k>=0)return u!=null&&u.trackChildChange(Ss(i,s,_)),h.updateImmediateChild(i,s);{u!=null&&u.trackChildChange(Cs(i,_));const R=h.updateImmediateChild(i,te.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(u!=null&&u.trackChildChange(ii(v.name,v.node)),R.updateImmediateChild(v.name,v.node)):R}}else return s.isEmpty()?e:y&&d(m,p)>=0?(u!=null&&(u.trackChildChange(Cs(m.name,m.node)),u.trackChildChange(ii(i,s))),h.updateImmediateChild(i,s).updateImmediateChild(m.name,te.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ze}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ri}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ze}copy(){const e=new md;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function GS(n){return n.loadsAllData()?new pd(n.getIndex()):n.hasLimit()?new VS(n):new xs(n)}function bm(n){const e={};if(n.isDefault())return e;let i;if(n.index_===ze?i="$priority":n.index_===$S?i="$value":n.index_===ei?i="$key":(B(n.index_ instanceof BS,"Unrecognized index type!"),i=n.index_.toString()),e.orderBy=Ge(i),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";e[s]=Ge(n.indexStartValue_),n.startNameSet_&&(e[s]+=","+Ge(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";e[s]=Ge(n.indexEndValue_),n.endNameSet_&&(e[s]+=","+Ge(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Fm(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let i=n.viewFrom_;i===""&&(n.isViewFromLeft()?i="l":i="r"),e.vf=i}return n.index_!==ze&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends Ey{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(B(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=bs("p:rest:"),this.listens_={}}listen(e,i,s,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const d=vl.getListenId_(e,s),h={};this.listens_[d]=h;const p=bm(e._queryParams);this.restRequest_(u+".json",p,(m,y)=>{let _=y;if(m===404&&(_=null,m=null),m===null&&this.onDataUpdate_(u,_,!1,s),ni(this.listens_,d)===h){let v;m?m===401?v="permission_denied":v="rest_error:"+m:v="ok",l(v,null)}})}unlisten(e,i){const s=vl.getListenId_(e,i);delete this.listens_[s]}get(e){const i=bm(e._queryParams),s=e._path.toString(),l=new As;return this.restRequest_(s+".json",i,(u,d)=>{let h=d;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(s,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(e){}restRequest_(e,i={},s){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(i.auth=l.accessToken),u&&u.token&&(i.ac=u.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+_1(i);this.log_("Sending REST request for "+d);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+d+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=ys(h.responseText)}catch{ft("Failed to parse JSON response for "+d+": "+h.responseText)}s(null,p)}else h.status!==401&&h.status!==404&&ft("Got unsuccessful REST response for "+d+" Status: "+h.status),s(h.status);s=null}},h.open("GET",d,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.rootNode_=te.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(){return{value:null,children:new Map}}function Dy(n,e,i){if(fe(e))n.value=i,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,i);else{const s=ae(e);n.children.has(s)||n.children.set(s,wl());const l=n.children.get(s);e=Te(e),Dy(l,e,i)}}function Lc(n,e,i){n.value!==null?i(e,n.value):KS(n,(s,l)=>{const u=new we(e.toString()+"/"+s);Lc(l,u,i)})}function KS(n,e){n.children.forEach((i,s)=>{e(s,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i=Object.assign({},e);return this.last_&&rt(this.last_,(s,l)=>{i[s]=i[s]-l}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm=10*1e3,qS=30*1e3,XS=5*60*1e3;class JS{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new YS(e);const s=jm+(qS-jm)*Math.random();us(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),i={};let s=!1;rt(e,(l,u)=>{u>0&&sn(this.statsToReport_,l)&&(i[l]=u,s=!0)}),s&&this.server_.reportStats(i),us(this.reportStats_.bind(this),Math.floor(Math.random()*2*XS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Qt||(Qt={}));function gd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function yd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function _d(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,i,s){this.path=e,this.affectedTree=i,this.revert=s,this.type=Qt.ACK_USER_WRITE,this.source=gd()}operationForChild(e){if(fe(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new we(e));return new El(ye(),i,this.revert)}}else return B(ae(this.path)===e,"operationForChild called for unrelated child."),new El(Te(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,i){this.source=e,this.path=i,this.type=Qt.LISTEN_COMPLETE}operationForChild(e){return fe(this.path)?new ks(this.source,ye()):new ks(this.source,Te(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,i,s){this.source=e,this.path=i,this.snap=s,this.type=Qt.OVERWRITE}operationForChild(e){return fe(this.path)?new wr(this.source,ye(),this.snap.getImmediateChild(e)):new wr(this.source,Te(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,i,s){this.source=e,this.path=i,this.children=s,this.type=Qt.MERGE}operationForChild(e){if(fe(this.path)){const i=this.children.subtree(new we(e));return i.isEmpty()?null:i.value?new wr(this.source,ye(),i.value):new si(this.source,ye(),i)}else return B(ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new si(this.source,Te(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,i,s){this.node_=e,this.fullyInitialized_=i,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(fe(e))return this.isFullyInitialized()&&!this.filtered_;const i=ae(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ex(n,e,i,s){const l=[],u=[];return e.forEach(d=>{d.type==="child_changed"&&n.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&u.push(HS(d.childName,d.snapshotNode))}),os(n,l,"child_removed",e,s,i),os(n,l,"child_added",e,s,i),os(n,l,"child_moved",u,s,i),os(n,l,"child_changed",e,s,i),os(n,l,"value",e,s,i),l}function os(n,e,i,s,l,u){const d=s.filter(h=>h.type===i);d.sort((h,p)=>nx(n,h,p)),d.forEach(h=>{const p=tx(n,h,u);l.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(p,n.query_))})})}function tx(n,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function nx(n,e,i){if(e.childName==null||i.childName==null)throw ui("Should only compare child_ events.");const s=new ue(e.childName,e.snapshotNode),l=new ue(i.childName,i.snapshotNode);return n.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(n,e){return{eventCache:n,serverCache:e}}function cs(n,e,i,s){return Bl(new Xn(e,i,s),n.serverCache)}function Oy(n,e,i,s){return Bl(n.eventCache,new Xn(e,i,s))}function Cl(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Er(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc;const rx=()=>(hc||(hc=new wt(BC)),hc);class ke{static fromObject(e){let i=new ke(null);return rt(e,(s,l)=>{i=i.set(new we(s),l)}),i}constructor(e,i=rx()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:ye(),value:this.value};if(fe(e))return null;{const s=ae(e),l=this.children.get(s);if(l!==null){const u=l.findRootMostMatchingPathAndValue(Te(e),i);return u!=null?{path:je(new we(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(fe(e))return this;{const i=ae(e),s=this.children.get(i);return s!==null?s.subtree(Te(e)):new ke(null)}}set(e,i){if(fe(e))return new ke(i,this.children);{const s=ae(e),u=(this.children.get(s)||new ke(null)).set(Te(e),i),d=this.children.insert(s,u);return new ke(this.value,d)}}remove(e){if(fe(e))return this.children.isEmpty()?new ke(null):new ke(null,this.children);{const i=ae(e),s=this.children.get(i);if(s){const l=s.remove(Te(e));let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),this.value===null&&u.isEmpty()?new ke(null):new ke(this.value,u)}else return this}}get(e){if(fe(e))return this.value;{const i=ae(e),s=this.children.get(i);return s?s.get(Te(e)):null}}setTree(e,i){if(fe(e))return i;{const s=ae(e),u=(this.children.get(s)||new ke(null)).setTree(Te(e),i);let d;return u.isEmpty()?d=this.children.remove(s):d=this.children.insert(s,u),new ke(this.value,d)}}fold(e){return this.fold_(ye(),e)}fold_(e,i){const s={};return this.children.inorderTraversal((l,u)=>{s[l]=u.fold_(je(e,l),i)}),i(e,this.value,s)}findOnPath(e,i){return this.findOnPath_(e,ye(),i)}findOnPath_(e,i,s){const l=this.value?s(i,this.value):!1;if(l)return l;if(fe(e))return null;{const u=ae(e),d=this.children.get(u);return d?d.findOnPath_(Te(e),je(i,u),s):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,ye(),i)}foreachOnPath_(e,i,s){if(fe(e))return this;{this.value&&s(i,this.value);const l=ae(e),u=this.children.get(l);return u?u.foreachOnPath_(Te(e),je(i,l),s):new ke(null)}}foreach(e){this.foreach_(ye(),e)}foreach_(e,i){this.children.inorderTraversal((s,l)=>{l.foreach_(je(e,s),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,s)=>{s.value&&e(i,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.writeTree_=e}static empty(){return new Kt(new ke(null))}}function ds(n,e,i){if(fe(e))return new Kt(new ke(i));{const s=n.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let u=s.value;const d=dt(l,e);return u=u.updateChild(d,i),new Kt(n.writeTree_.set(l,u))}else{const l=new ke(i),u=n.writeTree_.setTree(e,l);return new Kt(u)}}}function bc(n,e,i){let s=n;return rt(i,(l,u)=>{s=ds(s,je(e,l),u)}),s}function zm(n,e){if(fe(e))return Kt.empty();{const i=n.writeTree_.setTree(e,new ke(null));return new Kt(i)}}function Fc(n,e){return kr(n,e)!=null}function kr(n,e){const i=n.writeTree_.findRootMostValueAndPath(e);return i!=null?n.writeTree_.get(i.path).getChild(dt(i.path,e)):null}function Um(n){const e=[],i=n.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(ze,(s,l)=>{e.push(new ue(s,l))}):n.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new ue(s,l.value))}),e}function Gn(n,e){if(fe(e))return n;{const i=kr(n,e);return i!=null?new Kt(new ke(i)):new Kt(n.writeTree_.subtree(e))}}function jc(n){return n.writeTree_.isEmpty()}function oi(n,e){return Ay(ye(),n.writeTree_,e)}function Ay(n,e,i){if(e.value!=null)return i.updateChild(n,e.value);{let s=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(B(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):i=Ay(je(n,l),u,i)}),!i.getChild(n).isEmpty()&&s!==null&&(i=i.updateChild(je(n,".priority"),s)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(n,e){return Fy(e,n)}function ix(n,e,i,s,l){B(s>n.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),n.allWrites.push({path:e,snap:i,writeId:s,visible:l}),l&&(n.visibleWrites=ds(n.visibleWrites,e,i)),n.lastWriteId=s}function sx(n,e,i,s){B(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:i,writeId:s,visible:!0}),n.visibleWrites=bc(n.visibleWrites,e,i),n.lastWriteId=s}function ox(n,e){for(let i=0;i<n.allWrites.length;i++){const s=n.allWrites[i];if(s.writeId===e)return s}return null}function lx(n,e){const i=n.allWrites.findIndex(h=>h.writeId===e);B(i>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[i];n.allWrites.splice(i,1);let l=s.visible,u=!1,d=n.allWrites.length-1;for(;l&&d>=0;){const h=n.allWrites[d];h.visible&&(d>=i&&ax(h,s.path)?l=!1:Ft(s.path,h.path)&&(u=!0)),d--}if(l){if(u)return ux(n),!0;if(s.snap)n.visibleWrites=zm(n.visibleWrites,s.path);else{const h=s.children;rt(h,p=>{n.visibleWrites=zm(n.visibleWrites,je(s.path,p))})}return!0}else return!1}function ax(n,e){if(n.snap)return Ft(n.path,e);for(const i in n.children)if(n.children.hasOwnProperty(i)&&Ft(je(n.path,i),e))return!0;return!1}function ux(n){n.visibleWrites=My(n.allWrites,cx,ye()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function cx(n){return n.visible}function My(n,e,i){let s=Kt.empty();for(let l=0;l<n.length;++l){const u=n[l];if(e(u)){const d=u.path;let h;if(u.snap)Ft(i,d)?(h=dt(i,d),s=ds(s,h,u.snap)):Ft(d,i)&&(h=dt(d,i),s=ds(s,ye(),u.snap.getChild(h)));else if(u.children){if(Ft(i,d))h=dt(i,d),s=bc(s,h,u.children);else if(Ft(d,i))if(h=dt(d,i),fe(h))s=bc(s,ye(),u.children);else{const p=ni(u.children,ae(h));if(p){const m=p.getChild(Te(h));s=ds(s,ye(),m)}}}else throw ui("WriteRecord should have .snap or .children")}}return s}function Ly(n,e,i,s,l){if(!s&&!l){const u=kr(n.visibleWrites,e);if(u!=null)return u;{const d=Gn(n.visibleWrites,e);if(jc(d))return i;if(i==null&&!Fc(d,ye()))return null;{const h=i||te.EMPTY_NODE;return oi(d,h)}}}else{const u=Gn(n.visibleWrites,e);if(!l&&jc(u))return i;if(!l&&i==null&&!Fc(u,ye()))return null;{const d=function(m){return(m.visible||l)&&(!s||!~s.indexOf(m.writeId))&&(Ft(m.path,e)||Ft(e,m.path))},h=My(n.allWrites,d,e),p=i||te.EMPTY_NODE;return oi(h,p)}}}function dx(n,e,i){let s=te.EMPTY_NODE;const l=kr(n.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(ze,(u,d)=>{s=s.updateImmediateChild(u,d)}),s;if(i){const u=Gn(n.visibleWrites,e);return i.forEachChild(ze,(d,h)=>{const p=oi(Gn(u,new we(d)),h);s=s.updateImmediateChild(d,p)}),Um(u).forEach(d=>{s=s.updateImmediateChild(d.name,d.node)}),s}else{const u=Gn(n.visibleWrites,e);return Um(u).forEach(d=>{s=s.updateImmediateChild(d.name,d.node)}),s}}function fx(n,e,i,s,l){B(s||l,"Either existingEventSnap or existingServerSnap must exist");const u=je(e,i);if(Fc(n.visibleWrites,u))return null;{const d=Gn(n.visibleWrites,u);return jc(d)?l.getChild(i):oi(d,l.getChild(i))}}function hx(n,e,i,s){const l=je(e,i),u=kr(n.visibleWrites,l);if(u!=null)return u;if(s.isCompleteForChild(i)){const d=Gn(n.visibleWrites,l);return oi(d,s.getNode().getImmediateChild(i))}else return null}function px(n,e){return kr(n.visibleWrites,e)}function mx(n,e,i,s,l,u,d){let h;const p=Gn(n.visibleWrites,e),m=kr(p,ye());if(m!=null)h=m;else if(i!=null)h=oi(p,i);else return[];if(h=h.withIndex(d),!h.isEmpty()&&!h.isLeafNode()){const y=[],_=d.getCompare(),v=u?h.getReverseIteratorFrom(s,d):h.getIteratorFrom(s,d);let k=v.getNext();for(;k&&y.length<l;)_(k,s)!==0&&y.push(k),k=v.getNext();return y}else return[]}function gx(){return{visibleWrites:Kt.empty(),allWrites:[],lastWriteId:-1}}function Sl(n,e,i,s){return Ly(n.writeTree,n.treePath,e,i,s)}function vd(n,e){return dx(n.writeTree,n.treePath,e)}function Bm(n,e,i,s){return fx(n.writeTree,n.treePath,e,i,s)}function xl(n,e){return px(n.writeTree,je(n.treePath,e))}function yx(n,e,i,s,l,u){return mx(n.writeTree,n.treePath,e,i,s,l,u)}function wd(n,e,i){return hx(n.writeTree,n.treePath,e,i)}function by(n,e){return Fy(je(n.treePath,e),n.writeTree)}function Fy(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,s=e.childName;B(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),B(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const u=l.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(s,Ss(s,e.snapshotNode,l.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(s,Cs(s,l.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(s,ii(s,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(s,Ss(s,e.snapshotNode,l.oldSnap));else throw ui("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{getCompleteChild(e){return null}getChildAfterChild(e,i,s){return null}}const jy=new vx;class Ed{constructor(e,i,s=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=s}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Xn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wd(this.writes_,e,s)}}getChildAfterChild(e,i,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Er(this.viewCache_),u=yx(this.writes_,l,i,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(n){return{filter:n}}function Ex(n,e){B(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),B(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function Cx(n,e,i,s,l){const u=new _x;let d,h;if(i.type===Qt.OVERWRITE){const m=i;m.source.fromUser?d=zc(n,e,m.path,m.snap,s,l,u):(B(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!fe(m.path),d=kl(n,e,m.path,m.snap,s,l,h,u))}else if(i.type===Qt.MERGE){const m=i;m.source.fromUser?d=xx(n,e,m.path,m.children,s,l,u):(B(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),d=Uc(n,e,m.path,m.children,s,l,h,u))}else if(i.type===Qt.ACK_USER_WRITE){const m=i;m.revert?d=Tx(n,e,m.path,s,l,u):d=kx(n,e,m.path,m.affectedTree,s,l,u)}else if(i.type===Qt.LISTEN_COMPLETE)d=Ix(n,e,i.path,s,u);else throw ui("Unknown operation type: "+i.type);const p=u.getChanges();return Sx(e,d,p),{viewCache:d,changes:p}}function Sx(n,e,i){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=Cl(n);(i.length>0||!n.eventCache.isFullyInitialized()||l&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&i.push(Py(Cl(e)))}}function zy(n,e,i,s,l,u){const d=e.eventCache;if(xl(s,i)!=null)return e;{let h,p;if(fe(i))if(B(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Er(e),y=m instanceof te?m:te.EMPTY_NODE,_=vd(s,y);h=n.filter.updateFullNode(e.eventCache.getNode(),_,u)}else{const m=Sl(s,Er(e));h=n.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=ae(i);if(m===".priority"){B(qn(i)===1,"Can't have a priority with additional path components");const y=d.getNode();p=e.serverCache.getNode();const _=Bm(s,i,y,p);_!=null?h=n.filter.updatePriority(y,_):h=d.getNode()}else{const y=Te(i);let _;if(d.isCompleteForChild(m)){p=e.serverCache.getNode();const v=Bm(s,i,d.getNode(),p);v!=null?_=d.getNode().getImmediateChild(m).updateChild(y,v):_=d.getNode().getImmediateChild(m)}else _=wd(s,m,e.serverCache);_!=null?h=n.filter.updateChild(d.getNode(),m,_,y,l,u):h=d.getNode()}}return cs(e,h,d.isFullyInitialized()||fe(i),n.filter.filtersNodes())}}function kl(n,e,i,s,l,u,d,h){const p=e.serverCache;let m;const y=d?n.filter:n.filter.getIndexedFilter();if(fe(i))m=y.updateFullNode(p.getNode(),s,null);else if(y.filtersNodes()&&!p.isFiltered()){const k=p.getNode().updateChild(i,s);m=y.updateFullNode(p.getNode(),k,null)}else{const k=ae(i);if(!p.isCompleteForPath(i)&&qn(i)>1)return e;const S=Te(i),T=p.getNode().getImmediateChild(k).updateChild(S,s);k===".priority"?m=y.updatePriority(p.getNode(),T):m=y.updateChild(p.getNode(),k,T,S,jy,null)}const _=Oy(e,m,p.isFullyInitialized()||fe(i),y.filtersNodes()),v=new Ed(l,_,u);return zy(n,_,i,l,v,h)}function zc(n,e,i,s,l,u,d){const h=e.eventCache;let p,m;const y=new Ed(l,e,u);if(fe(i))m=n.filter.updateFullNode(e.eventCache.getNode(),s,d),p=cs(e,m,!0,n.filter.filtersNodes());else{const _=ae(i);if(_===".priority")m=n.filter.updatePriority(e.eventCache.getNode(),s),p=cs(e,m,h.isFullyInitialized(),h.isFiltered());else{const v=Te(i),k=h.getNode().getImmediateChild(_);let S;if(fe(v))S=s;else{const R=y.getCompleteChild(_);R!=null?cd(v)===".priority"&&R.getChild(Sy(v)).isEmpty()?S=R:S=R.updateChild(v,s):S=te.EMPTY_NODE}if(k.equals(S))p=e;else{const R=n.filter.updateChild(h.getNode(),_,S,v,y,d);p=cs(e,R,h.isFullyInitialized(),n.filter.filtersNodes())}}}return p}function Wm(n,e){return n.eventCache.isCompleteForChild(e)}function xx(n,e,i,s,l,u,d){let h=e;return s.foreach((p,m)=>{const y=je(i,p);Wm(e,ae(y))&&(h=zc(n,h,y,m,l,u,d))}),s.foreach((p,m)=>{const y=je(i,p);Wm(e,ae(y))||(h=zc(n,h,y,m,l,u,d))}),h}function $m(n,e,i){return i.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function Uc(n,e,i,s,l,u,d,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;fe(i)?m=s:m=new ke(null).setTree(i,s);const y=e.serverCache.getNode();return m.children.inorderTraversal((_,v)=>{if(y.hasChild(_)){const k=e.serverCache.getNode().getImmediateChild(_),S=$m(n,k,v);p=kl(n,p,new we(_),S,l,u,d,h)}}),m.children.inorderTraversal((_,v)=>{const k=!e.serverCache.isCompleteForChild(_)&&v.value===null;if(!y.hasChild(_)&&!k){const S=e.serverCache.getNode().getImmediateChild(_),R=$m(n,S,v);p=kl(n,p,new we(_),R,l,u,d,h)}}),p}function kx(n,e,i,s,l,u,d){if(xl(l,i)!=null)return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(s.value!=null){if(fe(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return kl(n,e,i,p.getNode().getChild(i),l,u,h,d);if(fe(i)){let m=new ke(null);return p.getNode().forEachChild(ei,(y,_)=>{m=m.set(new we(y),_)}),Uc(n,e,i,m,l,u,h,d)}else return e}else{let m=new ke(null);return s.foreach((y,_)=>{const v=je(i,y);p.isCompleteForPath(v)&&(m=m.set(y,p.getNode().getChild(v)))}),Uc(n,e,i,m,l,u,h,d)}}function Ix(n,e,i,s,l){const u=e.serverCache,d=Oy(e,u.getNode(),u.isFullyInitialized()||fe(i),u.isFiltered());return zy(n,d,i,s,jy,l)}function Tx(n,e,i,s,l,u){let d;if(xl(s,i)!=null)return e;{const h=new Ed(s,e,l),p=e.eventCache.getNode();let m;if(fe(i)||ae(i)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=Sl(s,Er(e));else{const _=e.serverCache.getNode();B(_ instanceof te,"serverChildren would be complete if leaf node"),y=vd(s,_)}y=y,m=n.filter.updateFullNode(p,y,u)}else{const y=ae(i);let _=wd(s,y,e.serverCache);_==null&&e.serverCache.isCompleteForChild(y)&&(_=p.getImmediateChild(y)),_!=null?m=n.filter.updateChild(p,y,_,Te(i),h,u):e.eventCache.getNode().hasChild(y)?m=n.filter.updateChild(p,y,te.EMPTY_NODE,Te(i),h,u):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(d=Sl(s,Er(e)),d.isLeafNode()&&(m=n.filter.updateFullNode(m,d,u)))}return d=e.serverCache.isFullyInitialized()||xl(s,ye())!=null,cs(e,m,d,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new pd(s.getIndex()),u=GS(s);this.processor_=wx(u);const d=i.serverCache,h=i.eventCache,p=l.updateFullNode(te.EMPTY_NODE,d.getNode(),null),m=u.updateFullNode(te.EMPTY_NODE,h.getNode(),null),y=new Xn(p,d.isFullyInitialized(),l.filtersNodes()),_=new Xn(m,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=Bl(_,y),this.eventGenerator_=new ZS(this.query_)}get query(){return this.query_}}function Rx(n){return n.viewCache_.serverCache.getNode()}function Px(n){return Cl(n.viewCache_)}function Dx(n,e){const i=Er(n.viewCache_);return i&&(n.query._queryParams.loadsAllData()||!fe(e)&&!i.getImmediateChild(ae(e)).isEmpty())?i.getChild(e):null}function Hm(n){return n.eventRegistrations_.length===0}function Ox(n,e){n.eventRegistrations_.push(e)}function Vm(n,e,i){const s=[];if(i){B(e==null,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(u=>{const d=u.createCancelEvent(i,l);d&&s.push(d)})}if(e){let l=[];for(let u=0;u<n.eventRegistrations_.length;++u){const d=n.eventRegistrations_[u];if(!d.matches(e))l.push(d);else if(e.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(u+1));break}}n.eventRegistrations_=l}else n.eventRegistrations_=[];return s}function Gm(n,e,i,s){e.type===Qt.MERGE&&e.source.queryId!==null&&(B(Er(n.viewCache_),"We should always have a full cache before handling merges"),B(Cl(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,u=Cx(n.processor_,l,e,i,s);return Ex(n.processor_,u.viewCache),B(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,Uy(n,u.changes,u.viewCache.eventCache.getNode(),null)}function Ax(n,e){const i=n.viewCache_.eventCache,s=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(ze,(u,d)=>{s.push(ii(u,d))}),i.isFullyInitialized()&&s.push(Py(i.getNode())),Uy(n,s,i.getNode(),e)}function Uy(n,e,i,s){const l=s?[s]:n.eventRegistrations_;return ex(n.eventGenerator_,e,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il;class By{constructor(){this.views=new Map}}function Mx(n){B(!Il,"__referenceConstructor has already been defined"),Il=n}function Lx(){return B(Il,"Reference.ts has not been loaded"),Il}function bx(n){return n.views.size===0}function Cd(n,e,i,s){const l=e.source.queryId;if(l!==null){const u=n.views.get(l);return B(u!=null,"SyncTree gave us an op for an invalid query."),Gm(u,e,i,s)}else{let u=[];for(const d of n.views.values())u=u.concat(Gm(d,e,i,s));return u}}function Wy(n,e,i,s,l){const u=e._queryIdentifier,d=n.views.get(u);if(!d){let h=Sl(i,l?s:null),p=!1;h?p=!0:s instanceof te?(h=vd(i,s),p=!1):(h=te.EMPTY_NODE,p=!1);const m=Bl(new Xn(h,p,!1),new Xn(s,l,!1));return new Nx(e,m)}return d}function Fx(n,e,i,s,l,u){const d=Wy(n,e,s,l,u);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,d),Ox(d,i),Ax(d,i)}function jx(n,e,i,s){const l=e._queryIdentifier,u=[];let d=[];const h=Jn(n);if(l==="default")for(const[p,m]of n.views.entries())d=d.concat(Vm(m,i,s)),Hm(m)&&(n.views.delete(p),m.query._queryParams.loadsAllData()||u.push(m.query));else{const p=n.views.get(l);p&&(d=d.concat(Vm(p,i,s)),Hm(p)&&(n.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)))}return h&&!Jn(n)&&u.push(new(Lx())(e._repo,e._path)),{removed:u,events:d}}function $y(n){const e=[];for(const i of n.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function Qn(n,e){let i=null;for(const s of n.views.values())i=i||Dx(s,e);return i}function Hy(n,e){if(e._queryParams.loadsAllData())return $l(n);{const s=e._queryIdentifier;return n.views.get(s)}}function Vy(n,e){return Hy(n,e)!=null}function Jn(n){return $l(n)!=null}function $l(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl;function zx(n){B(!Tl,"__referenceConstructor has already been defined"),Tl=n}function Ux(){return B(Tl,"Reference.ts has not been loaded"),Tl}let Bx=1;class Qm{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ke(null),this.pendingWriteTree_=gx(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Gy(n,e,i,s,l){return ix(n.pendingWriteTree_,e,i,s,l),l?fi(n,new wr(gd(),e,i)):[]}function Wx(n,e,i,s){sx(n.pendingWriteTree_,e,i,s);const l=ke.fromObject(i);return fi(n,new si(gd(),e,l))}function $n(n,e,i=!1){const s=ox(n.pendingWriteTree_,e);if(lx(n.pendingWriteTree_,e)){let u=new ke(null);return s.snap!=null?u=u.set(ye(),!0):rt(s.children,d=>{u=u.set(new we(d),!0)}),fi(n,new El(s.path,u,i))}else return[]}function js(n,e,i){return fi(n,new wr(yd(),e,i))}function $x(n,e,i){const s=ke.fromObject(i);return fi(n,new si(yd(),e,s))}function Hx(n,e){return fi(n,new ks(yd(),e))}function Vx(n,e,i){const s=xd(n,i);if(s){const l=kd(s),u=l.path,d=l.queryId,h=dt(u,e),p=new ks(_d(d),h);return Id(n,u,p)}else return[]}function Nl(n,e,i,s,l=!1){const u=e._path,d=n.syncPointTree_.get(u);let h=[];if(d&&(e._queryIdentifier==="default"||Vy(d,e))){const p=jx(d,e,i,s);bx(d)&&(n.syncPointTree_=n.syncPointTree_.remove(u));const m=p.removed;if(h=p.events,!l){const y=m.findIndex(v=>v._queryParams.loadsAllData())!==-1,_=n.syncPointTree_.findOnPath(u,(v,k)=>Jn(k));if(y&&!_){const v=n.syncPointTree_.subtree(u);if(!v.isEmpty()){const k=Kx(v);for(let S=0;S<k.length;++S){const R=k[S],T=R.query,O=qy(n,R);n.listenProvider_.startListening(fs(T),Is(n,T),O.hashFn,O.onComplete)}}}!_&&m.length>0&&!s&&(y?n.listenProvider_.stopListening(fs(e),null):m.forEach(v=>{const k=n.queryToTagMap.get(Hl(v));n.listenProvider_.stopListening(fs(v),k)}))}Yx(n,m)}return h}function Qy(n,e,i,s){const l=xd(n,s);if(l!=null){const u=kd(l),d=u.path,h=u.queryId,p=dt(d,e),m=new wr(_d(h),p,i);return Id(n,d,m)}else return[]}function Gx(n,e,i,s){const l=xd(n,s);if(l){const u=kd(l),d=u.path,h=u.queryId,p=dt(d,e),m=ke.fromObject(i),y=new si(_d(h),p,m);return Id(n,d,y)}else return[]}function Bc(n,e,i,s=!1){const l=e._path;let u=null,d=!1;n.syncPointTree_.foreachOnPath(l,(v,k)=>{const S=dt(v,l);u=u||Qn(k,S),d=d||Jn(k)});let h=n.syncPointTree_.get(l);h?(d=d||Jn(h),u=u||Qn(h,ye())):(h=new By,n.syncPointTree_=n.syncPointTree_.set(l,h));let p;u!=null?p=!0:(p=!1,u=te.EMPTY_NODE,n.syncPointTree_.subtree(l).foreachChild((k,S)=>{const R=Qn(S,ye());R&&(u=u.updateImmediateChild(k,R))}));const m=Vy(h,e);if(!m&&!e._queryParams.loadsAllData()){const v=Hl(e);B(!n.queryToTagMap.has(v),"View does not exist, but we have a tag");const k=qx();n.queryToTagMap.set(v,k),n.tagToQueryMap.set(k,v)}const y=Wl(n.pendingWriteTree_,l);let _=Fx(h,e,i,y,u,p);if(!m&&!d&&!s){const v=Hy(h,e);_=_.concat(Xx(n,e,v))}return _}function Sd(n,e,i){const l=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(e,(d,h)=>{const p=dt(d,e),m=Qn(h,p);if(m)return m});return Ly(l,e,u,i,!0)}function Qx(n,e){const i=e._path;let s=null;n.syncPointTree_.foreachOnPath(i,(m,y)=>{const _=dt(m,i);s=s||Qn(y,_)});let l=n.syncPointTree_.get(i);l?s=s||Qn(l,ye()):(l=new By,n.syncPointTree_=n.syncPointTree_.set(i,l));const u=s!=null,d=u?new Xn(s,!0,!1):null,h=Wl(n.pendingWriteTree_,e._path),p=Wy(l,e,h,u?d.getNode():te.EMPTY_NODE,u);return Px(p)}function fi(n,e){return Ky(e,n.syncPointTree_,null,Wl(n.pendingWriteTree_,ye()))}function Ky(n,e,i,s){if(fe(n.path))return Yy(n,e,i,s);{const l=e.get(ye());i==null&&l!=null&&(i=Qn(l,ye()));let u=[];const d=ae(n.path),h=n.operationForChild(d),p=e.children.get(d);if(p&&h){const m=i?i.getImmediateChild(d):null,y=by(s,d);u=u.concat(Ky(h,p,m,y))}return l&&(u=u.concat(Cd(l,n,s,i))),u}}function Yy(n,e,i,s){const l=e.get(ye());i==null&&l!=null&&(i=Qn(l,ye()));let u=[];return e.children.inorderTraversal((d,h)=>{const p=i?i.getImmediateChild(d):null,m=by(s,d),y=n.operationForChild(d);y&&(u=u.concat(Yy(y,h,p,m)))}),l&&(u=u.concat(Cd(l,n,s,i))),u}function qy(n,e){const i=e.query,s=Is(n,i);return{hashFn:()=>(Rx(e)||te.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?Vx(n,i._path,s):Hx(n,i._path);{const u=HC(l,i);return Nl(n,i,null,u)}}}}function Is(n,e){const i=Hl(e);return n.queryToTagMap.get(i)}function Hl(n){return n._path.toString()+"$"+n._queryIdentifier}function xd(n,e){return n.tagToQueryMap.get(e)}function kd(n){const e=n.indexOf("$");return B(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new we(n.substr(0,e))}}function Id(n,e,i){const s=n.syncPointTree_.get(e);B(s,"Missing sync point for query tag that we're tracking");const l=Wl(n.pendingWriteTree_,e);return Cd(s,i,l,null)}function Kx(n){return n.fold((e,i,s)=>{if(i&&Jn(i))return[$l(i)];{let l=[];return i&&(l=$y(i)),rt(s,(u,d)=>{l=l.concat(d)}),l}})}function fs(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(Ux())(n._repo,n._path):n}function Yx(n,e){for(let i=0;i<e.length;++i){const s=e[i];if(!s._queryParams.loadsAllData()){const l=Hl(s),u=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(u)}}}function qx(){return Bx++}function Xx(n,e,i){const s=e._path,l=Is(n,e),u=qy(n,i),d=n.listenProvider_.startListening(fs(e),l,u.hashFn,u.onComplete),h=n.syncPointTree_.subtree(s);if(l)B(!Jn(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((m,y,_)=>{if(!fe(m)&&y&&Jn(y))return[$l(y).query];{let v=[];return y&&(v=v.concat($y(y).map(k=>k.query))),rt(_,(k,S)=>{v=v.concat(S)}),v}});for(let m=0;m<p.length;++m){const y=p[m];n.listenProvider_.stopListening(fs(y),Is(n,y))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new Td(i)}node(){return this.node_}}class Nd{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=je(this.path_,e);return new Nd(this.syncTree_,i)}node(){return Sd(this.syncTree_,this.path_)}}const Jx=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Km=function(n,e,i){if(!n||typeof n!="object")return n;if(B(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return Zx(n[".sv"],e,i);if(typeof n[".sv"]=="object")return ek(n[".sv"],e);B(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},Zx=function(n,e,i){switch(n){case"timestamp":return i.timestamp;default:B(!1,"Unexpected server value: "+n)}},ek=function(n,e,i){n.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;typeof s!="number"&&B(!1,"Unexpected increment value: "+s);const l=e.node();if(B(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const d=l.getValue();return typeof d!="number"?s:d+s},Xy=function(n,e,i,s){return Rd(e,new Nd(i,n),s)},Jy=function(n,e,i){return Rd(n,new Td(e),i)};function Rd(n,e,i){const s=n.getPriority().val(),l=Km(s,e.getImmediateChild(".priority"),i);let u;if(n.isLeafNode()){const d=n,h=Km(d.getValue(),e,i);return h!==d.getValue()||l!==d.getPriority().val()?new qe(h,Ve(l)):n}else{const d=n;return u=d,l!==d.getPriority().val()&&(u=u.updatePriority(new qe(l))),d.forEachChild(ze,(h,p)=>{const m=Rd(p,e.getImmediateChild(h),i);m!==p&&(u=u.updateImmediateChild(h,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e="",i=null,s={children:{},childCount:0}){this.name=e,this.parent=i,this.node=s}}function Dd(n,e){let i=e instanceof we?e:new we(e),s=n,l=ae(i);for(;l!==null;){const u=ni(s.node.children,l)||{children:{},childCount:0};s=new Pd(l,s,u),i=Te(i),l=ae(i)}return s}function hi(n){return n.node.value}function Zy(n,e){n.node.value=e,Wc(n)}function e_(n){return n.node.childCount>0}function tk(n){return hi(n)===void 0&&!e_(n)}function Vl(n,e){rt(n.node.children,(i,s)=>{e(new Pd(i,n,s))})}function t_(n,e,i,s){i&&!s&&e(n),Vl(n,l=>{t_(l,e,!0,s)})}function nk(n,e,i){let s=n.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function zs(n){return new we(n.parent===null?n.name:zs(n.parent)+"/"+n.name)}function Wc(n){n.parent!==null&&rk(n.parent,n.name,n)}function rk(n,e,i){const s=tk(i),l=sn(n.node.children,e);s&&l?(delete n.node.children[e],n.node.childCount--,Wc(n)):!s&&!l&&(n.node.children[e]=i.node,n.node.childCount++,Wc(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=/[\[\].#$\/\u0000-\u001F\u007F]/,sk=/[\[\].#$\u0000-\u001F\u007F]/,pc=10*1024*1024,Od=function(n){return typeof n=="string"&&n.length!==0&&!ik.test(n)},n_=function(n){return typeof n=="string"&&n.length!==0&&!sk.test(n)},ok=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),n_(n)},lk=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!sd(n)||n&&typeof n=="object"&&sn(n,".sv")},ak=function(n,e,i,s){Gl(jl(n,"value"),e,i)},Gl=function(n,e,i){const s=i instanceof we?new xS(i,n):i;if(e===void 0)throw new Error(n+"contains undefined "+pr(s));if(typeof e=="function")throw new Error(n+"contains a function "+pr(s)+" with contents = "+e.toString());if(sd(e))throw new Error(n+"contains "+e.toString()+" "+pr(s));if(typeof e=="string"&&e.length>pc/3&&zl(e)>pc)throw new Error(n+"contains a string greater than "+pc+" utf8 bytes "+pr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(rt(e,(d,h)=>{if(d===".value")l=!0;else if(d!==".priority"&&d!==".sv"&&(u=!0,!Od(d)))throw new Error(n+" contains an invalid key ("+d+") "+pr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);kS(s,d),Gl(n,h,s),IS(s)}),l&&u)throw new Error(n+' contains ".value" child '+pr(s)+" in addition to actual children.")}},uk=function(n,e){let i,s;for(i=0;i<e.length;i++){s=e[i];const u=Es(s);for(let d=0;d<u.length;d++)if(!(u[d]===".priority"&&d===u.length-1)){if(!Od(u[d]))throw new Error(n+"contains an invalid key ("+u[d]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(SS);let l=null;for(i=0;i<e.length;i++){if(s=e[i],l!==null&&Ft(l,s))throw new Error(n+"contains a path "+l.toString()+" that is ancestor of another path "+s.toString());l=s}},ck=function(n,e,i,s){const l=jl(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(l+" must be an object containing the children to replace.");const u=[];rt(e,(d,h)=>{const p=new we(d);if(Gl(l,h,je(i,p)),cd(p)===".priority"&&!lk(h))throw new Error(l+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(p)}),uk(l,u)},r_=function(n,e,i,s){if(!n_(i))throw new Error(jl(n,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},dk=function(n,e,i,s){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),r_(n,e,i)},fk=function(n,e){if(ae(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},hk=function(n,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Od(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!ok(i))throw new Error(jl(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ql(n,e){let i=null;for(let s=0;s<e.length;s++){const l=e[s],u=l.getPath();i!==null&&!dd(u,i.path)&&(n.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(l)}i&&n.eventLists_.push(i)}function i_(n,e,i){Ql(n,i),s_(n,s=>dd(s,e))}function jt(n,e,i){Ql(n,i),s_(n,s=>Ft(s,e)||Ft(e,s))}function s_(n,e){n.recursionDepth_++;let i=!0;for(let s=0;s<n.eventLists_.length;s++){const l=n.eventLists_[s];if(l){const u=l.path;e(u)?(mk(n.eventLists_[s]),n.eventLists_[s]=null):i=!1}}i&&(n.eventLists_=[]),n.recursionDepth_--}function mk(n){for(let e=0;e<n.events.length;e++){const i=n.events[e];if(i!==null){n.events[e]=null;const s=i.getEventRunner();as&&nt("event: "+i.toString()),di(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="repo_interrupt",yk=25;class _k{constructor(e,i,s,l){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new pk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wl(),this.transactionQueueTree_=new Pd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function vk(n,e,i){if(n.stats_=ad(n.repoInfo_),n.forceRestClient_||KC())n.server_=new vl(n.repoInfo_,(s,l,u,d)=>{Ym(n,s,l,u,d)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>qm(n,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ge(i)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new vn(n.repoInfo_,e,(s,l,u,d)=>{Ym(n,s,l,u,d)},s=>{qm(n,s)},s=>{Ek(n,s)},n.authTokenProvider_,n.appCheckProvider_,i),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=ZC(n.repoInfo_,()=>new JS(n.stats_,n.server_)),n.infoData_=new QS,n.infoSyncTree_=new Qm({startListening:(s,l,u,d)=>{let h=[];const p=n.infoData_.getNode(s._path);return p.isEmpty()||(h=js(n.infoSyncTree_,s._path,p),setTimeout(()=>{d("ok")},0)),h},stopListening:()=>{}}),Ad(n,"connected",!1),n.serverSyncTree_=new Qm({startListening:(s,l,u,d)=>(n.server_.listen(s,u,l,(h,p)=>{const m=d(h,p);jt(n.eventQueue_,s._path,m)}),[]),stopListening:(s,l)=>{n.server_.unlisten(s,l)}})}function wk(n){const i=n.infoData_.getNode(new we(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Kl(n){return Jx({timestamp:wk(n)})}function Ym(n,e,i,s,l){n.dataUpdateCount++;const u=new we(e);i=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,i):i;let d=[];if(l)if(s){const p=hl(i,m=>Ve(m));d=Gx(n.serverSyncTree_,u,p,l)}else{const p=Ve(i);d=Qy(n.serverSyncTree_,u,p,l)}else if(s){const p=hl(i,m=>Ve(m));d=$x(n.serverSyncTree_,u,p)}else{const p=Ve(i);d=js(n.serverSyncTree_,u,p)}let h=u;d.length>0&&(h=li(n,u)),jt(n.eventQueue_,h,d)}function qm(n,e){Ad(n,"connected",e),e===!1&&kk(n)}function Ek(n,e){rt(e,(i,s)=>{Ad(n,i,s)})}function Ad(n,e,i){const s=new we("/.info/"+e),l=Ve(i);n.infoData_.updateSnapshot(s,l);const u=js(n.infoSyncTree_,s,l);jt(n.eventQueue_,s,u)}function Md(n){return n.nextWriteId_++}function Ck(n,e,i){const s=Qx(n.serverSyncTree_,e);return s!=null?Promise.resolve(s):n.server_.get(e).then(l=>{const u=Ve(l).withIndex(e._queryParams.getIndex());Bc(n.serverSyncTree_,e,i,!0);let d;if(e._queryParams.loadsAllData())d=js(n.serverSyncTree_,e._path,u);else{const h=Is(n.serverSyncTree_,e);d=Qy(n.serverSyncTree_,e._path,u,h)}return jt(n.eventQueue_,e._path,d),Nl(n.serverSyncTree_,e,i,null,!0),u},l=>(Us(n,"get for query "+Ge(e)+" failed: "+l),Promise.reject(new Error(l))))}function Sk(n,e,i,s,l){Us(n,"set",{path:e.toString(),value:i,priority:s});const u=Kl(n),d=Ve(i,s),h=Sd(n.serverSyncTree_,e),p=Jy(d,h,u),m=Md(n),y=Gy(n.serverSyncTree_,e,p,m,!0);Ql(n.eventQueue_,y),n.server_.put(e.toString(),d.val(!0),(v,k)=>{const S=v==="ok";S||ft("set at "+e+" failed: "+v);const R=$n(n.serverSyncTree_,m,!S);jt(n.eventQueue_,e,R),$c(n,l,v,k)});const _=bd(n,e);li(n,_),jt(n.eventQueue_,_,[])}function xk(n,e,i,s){Us(n,"update",{path:e.toString(),value:i});let l=!0;const u=Kl(n),d={};if(rt(i,(h,p)=>{l=!1,d[h]=Xy(je(e,h),Ve(p),n.serverSyncTree_,u)}),l)nt("update() called with empty data.  Don't do anything."),$c(n,s,"ok",void 0);else{const h=Md(n),p=Wx(n.serverSyncTree_,e,d,h);Ql(n.eventQueue_,p),n.server_.merge(e.toString(),i,(m,y)=>{const _=m==="ok";_||ft("update at "+e+" failed: "+m);const v=$n(n.serverSyncTree_,h,!_),k=v.length>0?li(n,e):e;jt(n.eventQueue_,k,v),$c(n,s,m,y)}),rt(i,m=>{const y=bd(n,je(e,m));li(n,y)}),jt(n.eventQueue_,e,[])}}function kk(n){Us(n,"onDisconnectEvents");const e=Kl(n),i=wl();Lc(n.onDisconnect_,ye(),(l,u)=>{const d=Xy(l,u,n.serverSyncTree_,e);Dy(i,l,d)});let s=[];Lc(i,ye(),(l,u)=>{s=s.concat(js(n.serverSyncTree_,l,u));const d=bd(n,l);li(n,d)}),n.onDisconnect_=wl(),jt(n.eventQueue_,ye(),s)}function Ik(n,e,i){let s;ae(e._path)===".info"?s=Bc(n.infoSyncTree_,e,i):s=Bc(n.serverSyncTree_,e,i),i_(n.eventQueue_,e._path,s)}function Tk(n,e,i){let s;ae(e._path)===".info"?s=Nl(n.infoSyncTree_,e,i):s=Nl(n.serverSyncTree_,e,i),i_(n.eventQueue_,e._path,s)}function Nk(n){n.persistentConnection_&&n.persistentConnection_.interrupt(gk)}function Us(n,...e){let i="";n.persistentConnection_&&(i=n.persistentConnection_.id+":"),nt(i,...e)}function $c(n,e,i,s){e&&di(()=>{if(i==="ok")e(null);else{const l=(i||"error").toUpperCase();let u=l;s&&(u+=": "+s);const d=new Error(u);d.code=l,e(d)}})}function o_(n,e,i){return Sd(n.serverSyncTree_,e,i)||te.EMPTY_NODE}function Ld(n,e=n.transactionQueueTree_){if(e||Yl(n,e),hi(e)){const i=a_(n,e);B(i.length>0,"Sending zero length transaction queue"),i.every(l=>l.status===0)&&Rk(n,zs(e),i)}else e_(e)&&Vl(e,i=>{Ld(n,i)})}function Rk(n,e,i){const s=i.map(m=>m.currentWriteId),l=o_(n,e,s);let u=l;const d=l.hash();for(let m=0;m<i.length;m++){const y=i[m];B(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const _=dt(e,y.path);u=u.updateChild(_,y.currentOutputSnapshotRaw)}const h=u.val(!0),p=e;n.server_.put(p.toString(),h,m=>{Us(n,"transaction put response",{path:p.toString(),status:m});let y=[];if(m==="ok"){const _=[];for(let v=0;v<i.length;v++)i[v].status=2,y=y.concat($n(n.serverSyncTree_,i[v].currentWriteId)),i[v].onComplete&&_.push(()=>i[v].onComplete(null,!0,i[v].currentOutputSnapshotResolved)),i[v].unwatcher();Yl(n,Dd(n.transactionQueueTree_,e)),Ld(n,n.transactionQueueTree_),jt(n.eventQueue_,e,y);for(let v=0;v<_.length;v++)di(_[v])}else{if(m==="datastale")for(let _=0;_<i.length;_++)i[_].status===3?i[_].status=4:i[_].status=0;else{ft("transaction at "+p.toString()+" failed: "+m);for(let _=0;_<i.length;_++)i[_].status=4,i[_].abortReason=m}li(n,e)}},d)}function li(n,e){const i=l_(n,e),s=zs(i),l=a_(n,i);return Pk(n,l,s),s}function Pk(n,e,i){if(e.length===0)return;const s=[];let l=[];const d=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],m=dt(i,p.path);let y=!1,_;if(B(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)y=!0,_=p.abortReason,l=l.concat($n(n.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=yk)y=!0,_="maxretry",l=l.concat($n(n.serverSyncTree_,p.currentWriteId,!0));else{const v=o_(n,p.path,d);p.currentInputSnapshot=v;const k=e[h].update(v.val());if(k!==void 0){Gl("transaction failed: Data returned ",k,p.path);let S=Ve(k);typeof k=="object"&&k!=null&&sn(k,".priority")||(S=S.updatePriority(v.getPriority()));const T=p.currentWriteId,O=Kl(n),A=Jy(S,v,O);p.currentOutputSnapshotRaw=S,p.currentOutputSnapshotResolved=A,p.currentWriteId=Md(n),d.splice(d.indexOf(T),1),l=l.concat(Gy(n.serverSyncTree_,p.path,A,p.currentWriteId,p.applyLocally)),l=l.concat($n(n.serverSyncTree_,T,!0))}else y=!0,_="nodata",l=l.concat($n(n.serverSyncTree_,p.currentWriteId,!0))}jt(n.eventQueue_,i,l),l=[],y&&(e[h].status=2,function(v){setTimeout(v,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(_==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(_),!1,null))))}Yl(n,n.transactionQueueTree_);for(let h=0;h<s.length;h++)di(s[h]);Ld(n,n.transactionQueueTree_)}function l_(n,e){let i,s=n.transactionQueueTree_;for(i=ae(e);i!==null&&hi(s)===void 0;)s=Dd(s,i),e=Te(e),i=ae(e);return s}function a_(n,e){const i=[];return u_(n,e,i),i.sort((s,l)=>s.order-l.order),i}function u_(n,e,i){const s=hi(e);if(s)for(let l=0;l<s.length;l++)i.push(s[l]);Vl(e,l=>{u_(n,l,i)})}function Yl(n,e){const i=hi(e);if(i){let s=0;for(let l=0;l<i.length;l++)i[l].status!==2&&(i[s]=i[l],s++);i.length=s,Zy(e,i.length>0?i:void 0)}Vl(e,s=>{Yl(n,s)})}function bd(n,e){const i=zs(l_(n,e)),s=Dd(n.transactionQueueTree_,e);return nk(s,l=>{mc(n,l)}),mc(n,s),t_(s,l=>{mc(n,l)}),i}function mc(n,e){const i=hi(e);if(i){const s=[];let l=[],u=-1;for(let d=0;d<i.length;d++)i[d].status===3||(i[d].status===1?(B(u===d-1,"All SENT items should be at beginning of queue."),u=d,i[d].status=3,i[d].abortReason="set"):(B(i[d].status===0,"Unexpected transaction status in abort"),i[d].unwatcher(),l=l.concat($n(n.serverSyncTree_,i[d].currentWriteId,!0)),i[d].onComplete&&s.push(i[d].onComplete.bind(null,new Error("set"),!1,null))));u===-1?Zy(e,void 0):i.length=u+1,jt(n.eventQueue_,zs(e),l);for(let d=0;d<s.length;d++)di(s[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(n){let e="";const i=n.split("/");for(let s=0;s<i.length;s++)if(i[s].length>0){let l=i[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function Ok(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const i of n.split("&")){if(i.length===0)continue;const s=i.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):ft(`Invalid query segment '${i}' in query '${n}'`)}return e}const Xm=function(n,e){const i=Ak(n),s=i.namespace;i.domain==="firebase.com"&&Cn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&i.domain!=="localhost"&&Cn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||zC();const l=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new py(i.host,i.secure,s,l,e,"",s!==i.subdomain),path:new we(i.pathString)}},Ak=function(n){let e="",i="",s="",l="",u="",d=!0,h="https",p=443;if(typeof n=="string"){let m=n.indexOf("//");m>=0&&(h=n.substring(0,m-1),n=n.substring(m+2));let y=n.indexOf("/");y===-1&&(y=n.length);let _=n.indexOf("?");_===-1&&(_=n.length),e=n.substring(0,Math.min(y,_)),y<_&&(l=Dk(n.substring(y,_)));const v=Ok(n.substring(Math.min(n.length,_)));m=e.indexOf(":"),m>=0?(d=h==="https"||h==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const k=e.slice(0,m);if(k.toLowerCase()==="localhost")i="localhost";else if(k.split(".").length<=2)i=k;else{const S=e.indexOf(".");s=e.substring(0,S).toLowerCase(),i=e.substring(S+1),u=s}"ns"in v&&(u=v.ns)}return{host:e,port:p,domain:i,subdomain:s,secure:d,scheme:h,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,i,s,l){this.eventType=e,this.eventRegistration=i,this.snapshot=s,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ge(this.snapshot.exportVal())}}class Lk{constructor(e,i,s){this.eventRegistration=e,this.error=i,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,i,s,l){this._repo=e,this._path=i,this._queryParams=s,this._orderByCalled=l}get key(){return fe(this._path)?null:cd(this._path)}get ref(){return new Sn(this._repo,this._path)}get _queryIdentifier(){const e=Fm(this._queryParams),i=od(e);return i==="{}"?"default":i}get _queryObject(){return Fm(this._queryParams)}isEqual(e){if(e=ci(e),!(e instanceof Fd))return!1;const i=this._repo===e._repo,s=dd(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return i&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+CS(this._path)}}class Sn extends Fd{constructor(e,i){super(e,i,new md,!1)}get parent(){const e=Sy(this._path);return e===null?null:new Sn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ts{constructor(e,i,s){this._node=e,this.ref=i,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new we(e),s=Hc(this.ref,e);return new Ts(this._node.getChild(i),s,ze)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>e(new Ts(l,Hc(this.ref,s),ze)))}hasChild(e){const i=new we(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Lt(n,e){return n=ci(n),n._checkNotDeleted("ref"),e!==void 0?Hc(n._root,e):n._root}function Hc(n,e){return n=ci(n),ae(n._path)===null?dk("child","path",e):r_("child","path",e),new Sn(n._repo,je(n._path,e))}function Ns(n,e){n=ci(n),fk("set",n._path),ak("set",e,n._path);const i=new As;return Sk(n._repo,n._path,e,null,i.wrapCallback(()=>{})),i.promise}function d_(n,e){ck("update",e,n._path);const i=new As;return xk(n._repo,n._path,e,i.wrapCallback(()=>{})),i.promise}function gn(n){n=ci(n);const e=new c_(()=>{}),i=new ql(e);return Ck(n._repo,n,i).then(s=>new Ts(s,new Sn(n._repo,n._path),n._queryParams.getIndex()))}class ql{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const s=i._queryParams.getIndex();return new Mk("value",this,new Ts(e.snapshotNode,new Sn(i._repo,i._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new Lk(this,e,i):null}matches(e){return e instanceof ql?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function bk(n,e,i,s,l){const u=new c_(i,void 0),d=new ql(u);return Ik(n._repo,n,d),()=>Tk(n._repo,n,d)}function f_(n,e,i,s){return bk(n,"value",e)}Mx(Sn);zx(Sn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="FIREBASE_DATABASE_EMULATOR_HOST",Vc={};let jk=!1;function zk(n,e,i,s){n.repoInfo_=new py(`${e}:${i}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),s&&(n.authTokenProvider_=s)}function Uk(n,e,i,s,l){let u=s||n.options.databaseURL;u===void 0&&(n.options.projectId||Cn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nt("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let d=Xm(u,l),h=d.repoInfo,p;typeof process<"u"&&vm&&(p=vm[Fk]),p?(u=`http://${p}?ns=${h.namespace}`,d=Xm(u,l),h=d.repoInfo):d.repoInfo.secure;const m=new qC(n.name,n.options,e);hk("Invalid Firebase Database URL",d),fe(d.path)||Cn("Database URL must point to the root of a Firebase Database (not including a child path).");const y=Wk(h,n,m,new YC(n.name,i));return new $k(y,n)}function Bk(n,e){const i=Vc[e];(!i||i[n.key]!==n)&&Cn(`Database ${e}(${n.repoInfo_}) has already been deleted.`),Nk(n),delete i[n.key]}function Wk(n,e,i,s){let l=Vc[e.name];l||(l={},Vc[e.name]=l);let u=l[n.toURLString()];return u&&Cn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new _k(n,jk,i,s),l[n.toURLString()]=u,u}class $k{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(vk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Sn(this._repo,ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Bk(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Cn("Cannot call "+e+" on a deleted database.")}}function Hk(n=EC(),e){const i=yC(n,"database").getImmediate({identifier:e});if(!i._instanceStarted){const s=l1("database");s&&Vk(i,...s)}return i}function Vk(n,e,i,s={}){n=ci(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&Cn("Cannot call useEmulator() after instance has already been initialized.");const l=n._repoInternal;let u;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&Cn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new sl(sl.OWNER);else if(s.mockUserToken){const d=typeof s.mockUserToken=="string"?s.mockUserToken:a1(s.mockUserToken,n.app.options.projectId);u=new sl(d)}zk(l,e,i,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(n){AC(wC),ml(new _s("database",(e,{instanceIdentifier:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return Uk(s,l,u,i)},"PUBLIC").setMultipleInstances(!0)),Jr(wm,Em,n),Jr(wm,Em,"esm2017")}vn.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};vn.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};Gk();const Qk={apiKey:"AIzaSyD87A4j786njTRP4CZkHRkXxd1wldENy18",authDomain:"spyfall-app.firebaseapp.com",databaseURL:"https://spyfall-app-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"spyfall-app",storageBucket:"spyfall-app.firebasestorage.app",messagingSenderId:"426704270669",appId:"1:426704270669:web:2e813d715aa0c8f75af304"},Kk=Xg(Qk),bt=Hk(Kk),Rl=n=>M.jsx(ps,{to:n.linkTo?n.linkTo:"#",children:M.jsx("button",{className:"min-w-28 w-auto border rounded-md p-2 border-slate-600 bg-slate-400 hover:bg-slate-500 hover:text-white  disabled:bg-slate-300 disabled:text-slate-500",onClick:n.handleClick,disabled:n.disabledCondition,children:n.text?n.text:"Next"})}),Xl=n=>M.jsx(ps,{to:n.linkTo?n.linkTo:"#",children:M.jsx("button",{className:"min-w-28 w-auto border rounded-md p-2 border-slate-600 bg-slate-400 hover:bg-slate-500 hover:text-white disabled:bg-slate-300 disabled:text-slate-500",onClick:n.handleClick,children:n.text?n.text:"Back"})}),h_=n=>M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"flex flex-col justify-center w-40 pb-8 space-y-4 mx-auto",children:[M.jsx("p",{className:"text-2xl text-white",children:"Enter Name:"}),M.jsx("input",{onChange:e=>n.setName(e.target.value)})]}),M.jsxs("div",{className:"flex justify-items-center flex-col w-28 space-y-4 mx-auto",children:[M.jsx(Rl,{linkTo:`/lobby/${n.gamepin}`,handleClick:n.handleClick,disabledCondition:!(n.name&&/\S/.test(n.name))}),M.jsx(Xl,{linkTo:"/"})]})]}),et=[];for(let n=0;n<256;++n)et.push((n+256).toString(16).slice(1));function Yk(n,e=0){return(et[n[e+0]]+et[n[e+1]]+et[n[e+2]]+et[n[e+3]]+"-"+et[n[e+4]]+et[n[e+5]]+"-"+et[n[e+6]]+et[n[e+7]]+"-"+et[n[e+8]]+et[n[e+9]]+"-"+et[n[e+10]]+et[n[e+11]]+et[n[e+12]]+et[n[e+13]]+et[n[e+14]]+et[n[e+15]]).toLowerCase()}let gc;const qk=new Uint8Array(16);function Xk(){if(!gc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");gc=crypto.getRandomValues.bind(crypto)}return gc(qk)}const Jk=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Jm={randomUUID:Jk};function Zk(n,e,i){var l;if(Jm.randomUUID&&!e&&!n)return Jm.randomUUID();n=n||{};const s=n.random??((l=n.rng)==null?void 0:l.call(n))??Xk();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Yk(s)}class p_{constructor(){this.playerId=Zk(),this.nickname="",this.role=""}setNickname(e){this.nickname=e}}function eI(){const n=Os(),[e,i]=P.useState(""),s=new p_,l=Math.floor(Math.random()*8999+1e3),u=h=>{Ns(Lt(bt,"active-games/"+h),{gamepin:h,host:s,players:[s],status:"lobby"})},d=()=>{s.setNickname(e),n(Mg(s.nickname)),n(Lg(s.playerId)),n(bg(l)),u(l)};return M.jsxs("div",{className:"h-screen flex flex-col justify-center items-center",children:[M.jsx("img",{src:"/spy_icon.svg",className:"w-48 h-48"}),M.jsx("h1",{className:"text-6xl font-bold py-16",children:"Spyfall"}),M.jsx(h_,{name:e,setName:i,gamepin:l,handleClick:d})]})}function Zm(){const n=Os(),e=Ol(),i=new p_,{gamepin:s}=dg(),[l,u]=P.useState(""),[d,h]=P.useState(""),[p,m]=P.useState(!1),[y,_]=P.useState(!1);P.useEffect(()=>{s&&(h(s),v(s))},[]),P.useEffect(()=>{const R=Lt(bt,"active-games/"+d);gn(R).then(T=>{m(T.exists())}).catch(T=>{console.error(T)})},[d]);const v=R=>{const T=Lt(bt,"active-games/"+R);console.log(T),gn(T).then(O=>{const A=O.val();if(A)if(A.status!=="lobby"){n(nd("The game has already been started for this lobby.")),e("/");return}else _(!0)}).catch(O=>{console.error(O)})},k=()=>{i.setNickname(l),n(Mg(i.nickname)),n(Lg(i.playerId)),n(bg(d));const R=Lt(bt,"active-games/"+d);gn(R).then(T=>{const O=T.val();if(O){const A=[...O.players,i];Ns(R,{...O,players:A})}}).catch(T=>{console.error(T)})},S=()=>M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"flex flex-col justify-center w-48 pb-8 space-y-4 mx-auto",children:[M.jsx("p",{className:"text-2xl text-white",children:"Enter Game Pin:"}),M.jsx("input",{maxLength:4,onChange:R=>h(R.target.value)})]}),M.jsxs("div",{className:"flex justify-items-center flex-col w-28 space-y-4 mx-auto",children:[M.jsx(Rl,{handleClick:()=>v(d),disabledCondition:!(p&&d.length===4&&/^[0-9\b]+$/.test(d)&&/\S/.test(d))}),M.jsx(Xl,{linkTo:"/"})]})]});return M.jsxs("div",{className:"h-screen flex flex-col justify-center items-center",children:[M.jsx("img",{src:"/spy_icon.svg",className:"w-48 h-48"}),M.jsx("h1",{className:"text-6xl font-bold py-16",children:"Spyfall"}),y?M.jsx(h_,{name:l,setName:u,gamepin:Number(d),handleClick:k}):S()]})}const Gc=["Airplane","Bank","Beach","Broadway Theater","Casino","Cathedral","Circus Tent","Corporate Party","Crusader Army","Day Spa","Embassy","Hospital","Hotel","Military Base","Movie Studio","Ocean Liner","Passenger Train","Pirate Ship","Polar Station","Police Station","Restaurant","School","Service Station","Space Station","Submarine","Supermarket","University","Mall"];function tI(){const n=Os(),e=Ol(),i=gr(R=>R.session.playerId),s=gr(R=>R.session.isHost),l=gr(R=>R.session.gamepin),[u,d]=P.useState([]),[h,p]=P.useState(null);P.useEffect(()=>{(!i||!l)&&e("/error/403");const R=Lt(bt,"active-games/"+l);gn(R).then(T=>{T.val().host.playerId===i&&n(HE(!0))}).catch(T=>{console.error(T)})},[]),P.useEffect(()=>{(async()=>{const O=(await gn(Lt(bt,"active-games/"+l))).val();O&&p(O.host.playerId)})()},[l]),P.useEffect(()=>{const R=Lt(bt,"active-games/"+l),T=f_(R,O=>{const A=O.val();A?(d(A.players||[]),A.status==="in-game"&&e(`/game/${l}`)):(s||n(nd("The host has terminated the lobby.")),e("/"))});return()=>{T()}},[l,s,n,e]),P.useEffect(()=>{const R=()=>{m()};return window.addEventListener("beforeunload",R),()=>{window.removeEventListener("beforeunload",R)}});const m=()=>{const R=Lt(bt,"active-games/"+l);gn(R).then(T=>{const O=T.val();if(O)if(s)Ns(R,null);else{const A=O.players.filter(U=>U.playerId!==i);d_(R,{players:A})}}).catch(T=>{console.error(T)})},[y,_]=P.useState(!1),v=()=>{if(navigator.clipboard.writeText(`${window.location.origin}/join/${l}`),y===!1){_(!0);const R=setTimeout(()=>{_(!1)},2e3);return()=>clearTimeout(R)}},k=()=>{const R=Math.floor(Date.now()/1e3),T=Math.floor(Math.random()*Gc.length),O=Gc[T],A=Math.floor(Math.random()*u.length),U=u.map((W,X)=>X===A?{...W,role:"Spy"}:{...W,role:"Civilian"});S(R,O,U)},S=(R,T,O)=>{const A=Lt(bt,"active-games/"+l);gn(A).then(U=>{const W=U.val();W&&Ns(A,{...W,players:O,status:"in-game",startTime:R,location:T})}).catch(U=>{console.error(U)})};return M.jsxs("div",{className:"h-screen flex flex-col justify-center items-center",children:[M.jsx("img",{src:"/spy_icon.svg",className:"w-48 h-48"}),M.jsx("h1",{className:"text-6xl font-bold py-16",children:"Spyfall"}),M.jsxs("div",{className:"flex flex-col justify-center min-w-60 pb-6 space-y-4",children:[M.jsxs("div",{className:"flex justify-between space-x-2 pb-4 mx-auto",children:[M.jsxs("p",{className:"text-3xl text-white",children:[M.jsx("b",{children:"Game Pin:"})," ",l]}),M.jsx("button",{className:"rounded border py-1 px-1 bg-slate-300 hover:bg-slate-500 hover:text-white disabled:bg-slate-300 disabled:text-slate-500",onClick:v,disabled:y,children:y?M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"size-6",children:M.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}):M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"size-6",children:M.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"})})})]}),M.jsxs("div",{className:"pb-4 space-y-2",children:[M.jsx("p",{className:"text-3xl text-white",children:M.jsx("b",{children:"Players:"})}),M.jsx("ul",{className:"text-2xl text-white",children:u.map((R,T)=>M.jsxs("div",{className:"flex mx-auto space-x-2 py-2 items-center justify-center",children:[R.playerId===h?M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"size-6",children:M.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}):null,R.playerId===i?M.jsxs("li",{children:[M.jsx("b",{children:R.nickname})," (you)"]},T):M.jsx("li",{children:R.nickname},T)]}))})]})]}),M.jsxs("div",{className:"flex justify-items-center flex-col space-y-4 mx-auto",children:[s?M.jsx(Rl,{text:"Start Game",handleClick:k}):M.jsx(Rl,{text:"Waiting for Host",disabledCondition:!0}),M.jsx(Xl,{text:"Exit",linkTo:"/",handleClick:m})]})]})}function eg(){const n=dg(),[e,i]=P.useState("");return P.useEffect(()=>{switch(n.code){case"400":i("400 - Bad Request");break;case"403":i("403 - Forbidden");break;case"404":i("404 - Not Found");break}},[]),M.jsx("div",{children:M.jsxs("h1",{className:"text-4xl font-bold",children:["Error ",e]})})}function nI(){const e=Os(),i=Ol(),s=gr(q=>q.session.playerId),l=gr(q=>q.session.isHost),u=gr(q=>q.session.gamepin),[d,h]=P.useState([]),[p,m]=P.useState(""),[y,_]=P.useState(""),[v,k]=P.useState(0),[S,R]=P.useState(""),[T,O]=P.useState(""),[A,U]=P.useState([]),[W,X]=P.useState([]);P.useEffect(()=>{(!s||!u)&&i("/error/403");const q=Lt(bt,"active-games/"+u);gn(q).then(ie=>{const Ce=ie.val();if(Ce){h(Ce.players),m(Ce.location);const Oe=Ce.players.find(it=>it.playerId===s);Oe&&_(Oe.role)}}).catch(ie=>{console.error(ie)})},[]),P.useEffect(()=>{const q=Lt(bt,"active-games/"+u),ie=f_(q,Ce=>{const Oe=Ce.val();if(Oe){if(Oe.startTime){const Nt=Math.floor(Date.now()/1e3)-Oe.startTime;k(600-Nt)}h(Oe.players)}else l||e(nd("The host has terminated the lobby.")),i("/")});return()=>{ie()}},[u,l,e,i]),P.useEffect(()=>{const q=()=>{re()};return window.addEventListener("beforeunload",q),()=>{window.removeEventListener("beforeunload",q)}});const re=()=>{const q=Lt(bt,"active-games/"+u);gn(q).then(ie=>{const Ce=ie.val();if(Ce)if(l)Ns(q,null);else{const Oe=Ce.players.filter(it=>it.playerId!==s);d_(q,{players:Oe})}}).catch(ie=>{console.error(ie)})};P.useEffect(()=>{if(v>0){const q=setInterval(()=>{k(ie=>ie-1)},1e3);return()=>clearInterval(q)}},[v]);const oe=q=>{const ie=Math.floor(q/60),Ce=q-ie*60;return`${tg(ie.toString(),"0",2)}:${tg(Ce.toString(),"0",2)}`};P.useEffect(()=>{R(`grid-cols-${Math.min(d.length,4)}`),O(`gap-x-${Math.min(12*d.length,48)}`)},[d]);const ce=q=>{U(ie=>ie.includes(q)?ie.filter(Ce=>Ce!==q):[...ie,q])},Ee=q=>{X(ie=>ie.includes(q)?ie.filter(Ce=>Ce!==q):[...ie,q])};return M.jsxs("div",{children:[M.jsx("h1",{className:"text-7xl font-bold",children:"Spyfall"}),M.jsxs("h1",{className:"text-3xl pt-12",children:["Round Timer: ",oe(v)]}),y!=="Spy"?M.jsxs("div",{className:"flex justify-center items-center space-x-4 mx-auto",children:[M.jsx("img",{src:"/location.svg",className:"w-10 h-10"}),M.jsx("h1",{className:"text-4xl py-12",children:p})]}):M.jsxs("div",{className:"flex justify-center items-center space-x-4 mx-auto",children:[M.jsx("img",{src:"/spy_icon.svg",className:"w-10 h-10"}),M.jsx("h1",{className:"text-4xl py-12",children:"You are the Spy"})]}),M.jsx("p",{className:"text-3xl pt-6 underline",children:"Players"}),M.jsx("div",{className:`grid ${S} ${T} gap-y-8 w-96 justify-center mx-auto py-12 pb-24`,children:d.map((q,ie)=>M.jsx("div",{className:"flex justify-center items-center space-x-4",children:M.jsx("button",{className:`text-xl min-w-36 p-1 rounded border border-black
                                    ${q.playerId===s?"font-bold":""}
                                    ${A.includes(ie)?"line-through":""}`,onClick:()=>ce(ie),children:q.nickname})},q.playerId))}),M.jsx("p",{className:"text-3xl pt-6 underline",children:"Locations"}),M.jsx("div",{className:"grid grid-cols-5 gap-x-2 gap-y-8 w-auto justify-center mx-auto pt-12 pb-24",children:Gc.map((q,ie)=>M.jsx("div",{className:"flex justify-center items-center space-x-4",children:M.jsx("button",{className:`text-xl min-w-40 p-1 rounded border border-black
                                    ${W.includes(ie)?"line-through":""}`,onClick:()=>Ee(ie),children:q})}))}),M.jsx("div",{children:M.jsx(Xl,{text:"Exit",linkTo:"/",handleClick:re})})]})}function tg(n,e,i){return(new Array(i+1).join(e)+n).slice(-i)}_0.createRoot(document.getElementById("root")).render(M.jsx(P.StrictMode,{children:M.jsx(tE,{store:qE,children:M.jsx(Ow,{children:M.jsxs(aw,{children:[M.jsx(pn,{path:"/",element:M.jsx(XE,{})}),M.jsx(pn,{path:"/create",element:M.jsx(eI,{})}),M.jsx(pn,{path:"/join",element:M.jsx(Zm,{})}),M.jsx(pn,{path:"/join/:gamepin",element:M.jsx(Zm,{})}),M.jsx(pn,{path:"/lobby/:gamepin",element:M.jsx(tI,{})}),M.jsx(pn,{path:"/game/:gamepin",element:M.jsx(nI,{})}),M.jsx(pn,{path:"/error/:code",element:M.jsx(eg,{})}),M.jsx(pn,{path:"*",element:M.jsx(eg,{})})]})})})}));
